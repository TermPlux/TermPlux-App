{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/util/cache.js","webpack:///./src/util/tool.js","webpack:///./src/util/pool.js","webpack:///./src/node/element.js","webpack:///./src/event/event-target.js","webpack:///./src/event/event.js","webpack:///./src/node/node.js","webpack:///./src/bom/location.js","webpack:///./src/node/style.js","webpack:///./src/document.js","webpack:///./src/event/custom-event.js","webpack:///./src/node/class-list.js","webpack:///./src/node/attribute.js","webpack:///./src/node/text-node.js","webpack:///./src/node/comment.js","webpack:///./src/index.js","webpack:///./src/window.js","webpack:///./src/tree/tree.js","webpack:///./src/tree/query-selector.js","webpack:///./src/node/style-list.js","webpack:///./src/tree/parser.js","webpack:///./src/node/element/a.js","webpack:///./src/node/element/image.js","webpack:///./src/node/element/input.js","webpack:///./src/node/element/textarea.js","webpack:///./src/node/element/video.js","webpack:///./src/node/element/canvas.js","webpack:///./src/node/element/select.js","webpack:///./src/node/element/option.js","webpack:///./src/node/element/not-support.js","webpack:///./src/node/element/wx-component.js","webpack:///./src/node/element/wx-custom-component.js","webpack:///./src/bom/cookie.js","webpack:///./src/bom/navigator.js","webpack:///./src/bom/screen.js","webpack:///./src/bom/history.js","webpack:///./src/bom/miniprogram.js","webpack:///./src/bom/storage.js","webpack:///./src/bom/worker.js","webpack:///./src/bom/performance.js","webpack:///./src/bom/xml-http-request.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","pageMap","configCache","cookieCache","init","pageId","options","window","document","nodeIdMap","destroy","getDocument","getWindow","getWindowList","keys","map","setNode","nodeId","domNode","parentNode","body","getNode","setConfig","config","getConfig","getCookie","cache","WX_COMPONENT_MAP","forEach","seed","Date","waitFuncSet","Set","NOT_SUPPORT_TAG_NAME_LIST","checkIsWxComponent","tagName","notNeedPrefix","hasPrefix","indexOf","slice","toDash","str","replace","all","toLowerCase","toCamel","$1","toUpperCase","getId","getPageRoute","split","getPageName","pageRoute","pluginMatchRes","match","splitPageRoute","throttle","func","has","add","Promise","resolve","then","delete","catch","console","error","flushThrottleCache","waitFunc","clear","completeURL","url","defaultOrigin","notTransHttps","origin","decodeContent","content","isTagNameSupport","escapeForHtmlGeneration","setData","instance","data","_startInit","_iniCount","$$trigger","size","this","$_size","$_cache","length","push","pop","Node","ClassList","Style","Attribute","parser","tool","Pool","$wx","my","wx","pool","Element","tree","optimization","elementMultiplexing","$$init","type","super","$_tagName","$_children","$_nodeType","nodeType","ELEMENT_NODE","$_unary","voidMap","$_notTriggerUpdate","$_dataset","$_classList","$_style","$_attrs","$$scrollTop","$$scrollTimeStamp","$_initAttrs","attrs","onclick","ontouchstart","ontouchmove","ontouchend","ontouchcancel","onload","onerror","$$destroy","_wxComponent","_wxCustomComponent","child","$$recycle","$__dataset","$__classList","$$create","$_onClassOrStyleUpdate","$__style","$__attrs","$_triggerParentUpdate","attrKeys","datasetName","substr","setAttribute","triggerUpdate","$_triggerWindowUpdate","$_pageId","node","isRemove","id","$$nodeId","$_tree","updateIdMap","childNodes","$_updateChildrenExtra","TEXT_NODE","textContent","html","behavior","className","styleText","style","cssText","src","dataset","$$dealWithAttrsForGenerateHtml","$$isUnary","childrenHtml","$_generateHtml","join","children","attrsMap","attr","element","ownerDocument","$$createElement","$_generateDomTree","appendChild","$$createTextNode","createComment","$$pageId","$_type","slot","getAttribute","reject","$$createSelectorQuery","selectViewport","scrollOffset","res","Error","exec","select","$_nodeId","boundingClientRect","tt","createSelectorQuery","in","$$wxComponent","context","createMapContext","set","args","wxComponent","$$wxCustomComponent","scrollSource","animate","clearAnimation","trim","oldId","getById","toString","$$parse","filter","fragment","DOCUMENT_FRAGMENT_NODE","ast","parse","err","item","$$updateParent","hasTbody","tbody","concat","assign","$$dealWithAttrsForOuterHTML","text","list","parseInt","pageScrollTo","scrollTop","duration","deep","newNode","class","$$dealWithAttrsForCloneNode","attrName","cloneNode","nodes","hasUpdate","removeChild","$_triggerMeUpdate","index","splice","ref","insertIndex","old","replaceIndex","getByTagName","getByClassName","selector","query","valueType","undefined","Array","isArray","JSON","oldValue","oldKeys","removeAttribute","handler","removeEventListener","addEventListener","remove","namespace","warn","hasAttribute","otherElement","stack","checkElement","left","top","Event","CustomEvent","compareTouchList","a","b","len","aItem","bItem","identifier","pageX","pageY","clientX","clientY","EventTarget","oninput","onfocus","onblur","onchange","$_miniprogramEvent","$_eventHandlerMap","$__eventHandlerMap","target","eventName","miniprogramEvent","extra","callback","event","$$setTarget","defaultView","path","timeStamp","performance","now","touches","changedTouches","bubbles","$$extra","detail","currentTarget","$$canBubble","$$setCurrentTarget","$$setEventPhase","CAPTURING_PHASE","isCapture","AT_TARGET","isTarget","BUBBLING_PHASE","stopPropagation","NONE","isInit","handlerMap","handlerObj","capture","bubble","handlers","$_getHandlers","onEventName","eventPhase","$$immediateStop","returnValue","$$triggerWindowError","_namespace","namespaceHandlers","last","flag","$$namespace","bubbleHandlers","captureHandlers","evt","$$process","$_name","$_target","$_timeStamp","$_currentTarget","$_eventPhase","$_detail","$_immediateStop","$_canBubble","$_bubbles","$_touches","$_targetTouches","$_changedTouches","$_cancelable","$_preventDefault","touch","$$checkTargetTouches","node1","node2","$$isWindow","checkRelation","$_parentNode","CDATA_SECTION_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","Location","$_pageRoute","$_protocol","$_hostname","$_port","$_pathname","$_search","$_hash","$_lastHash","$_lastPathname","$_lastSearch","$_lastHref","$_allowCheck","protocol","hostname","port","pathname","search","hash","$$startCheckHash","test","oldValues","$_getOldValues","$$endCheckHash","$_checkUrl","href","jumpUrl","matchRoute","$$miniprogram","getMatchRoute","param","encodeURIComponent","callMethod","isTabBarPage","parseRes","host","hostStart","hostEnd","isEnd","char","charCodeAt","searchIndex","hashIndex","firstIndex","needCheckUrlChange","oldURL","newURL","$_enterHistory","isFinite","$_setHrefWithoutEnterHistory","originalStyleList","styleList","isInitStyleList","onUpdate","extraStyleList","properties","$_checkUpdate","defineProperties","domExtendMultiplexing","$_doUpdate","$_disableCheckUpdate","$__vars","joinText","vars","$_vars","varsText","rules","rule","setProperty","Tree","TextNode","Comment","A","Image","Input","Textarea","Video","Canvas","Select","Option","NotSupport","WxComponent","WxCustomComponent","Cookie","CONSTRUCTOR_MAP","IMG","INPUT","TEXTAREA","VIDEO","CANVAS","SELECT","OPTION","WX_COMPONENT_TRANSFORM_LIST","WX_CUSTOM_COMPONENT_MAP","transformWxComponent2Dom","wxComponentName","groupEvent","$$isGroup","stopImmediatePropagation","querySelectorAll","checked","runtime","cookieStore","usingComponents","pageName","that","$_imageConstructor","width","height","unary","$_cookie","$_config","$_node","$_head","createElement","root","$$children","cookie","getStorageSync","$$cookieInstance","deserialize","URL","$_visibilityState","documentElement","originTagName","constructorClass","$$notNeedPrefix","componentName","start","startSplit","nextSplit","cookies","lastSplitStr","substring","splitStr","location","setCookie","$$createComment","dispatchEvent","isUpdate","force","isNotContain","action","$_element","$_map","$_list","$$node","idValue","classValue","styleValue","textMultiplexing","$_content","commentMultiplexing","Window","Document","route","$$initStyleList","$$adapter","OriginalCustomEvent","Navigator","Screen","History","Miniprogram","SessionStorage","LocalStorage","WorkerImpl","Performance","OriginalXMLHttpRequest","lastRafTime","WINDOW_PROTOTYPE_MAP","navigator","screen","history","localStorage","sessionStorage","XMLHttpRequest","ELEMENT_PROTOTYPE_MAP","attribute","classList","subscribeMap","globalObject","noop","timeOrigin","$_outerHeight","$_outerWidth","$_innerHeight","$_innerWidth","$_location","$_navigator","$_screen","$_history","$_miniprogram","$_localStorage","$_sessionStorage","$_performance","$_nowFetchingWebviewInfoPromise","$_fetchDeviceInfo","$_initInnerEvent","onhashchange","$_elementConstructor","$_customEventConstructor","$_xmlHttpRequestConstructor","generate","worker","$_workerConstructor","Worker","$_sharedWorkerConstructor","SharedWorker","HTMLIFrameElement","state","info","getSystemInfoSync","screenHeight","screenWidth","windowHeight","windowWidth","$$reset","descriptor","main","sub","method","handlersMap","dom","computedStyle","fields","errStack","errLines","message","line","filename","lineno","colno","$$isOfficial","oldOnError","$$getPrototype","$_getAspectInfo","methodInPrototype","$$isHook","beforeFuncs","$$before","afterFuncs","$$after","beforeFunc","apply","afterFunc","$$originalMethod","$$imageConstructor","setTimeout","clearTimeout","setInterval","clearInterval","RegExp","Math","Number","Boolean","String","parseFloat","pixelRatio","$$open","navigateBack","delta","transitionDelay","transitionDuration","animationDelay","animationDuration","nextRafTime","max","timeId","QuerySelector","walkDomTree","tagMap","classMap","idMap","querySelector","walk","childNode","findNode","PSEUDO_CHECK","selected","disabled","enabled","copyRule","pseudo","from","checkHit","ATTR_CHECK","nodeVal","val","KINSHIP_CHECK","kinshipRule","kinshipNode","foundCurrent","tag","contains","checkPseudo","opr","checkAttr","parseCache","parseCacheKeys","regexp","shift","segment","onProcess","idAll","tagAll","classAll","pseudoAll","pseudoName","pseudoParam","attrAll","attrOpr","attrVal","kinshipAll","kinship","currentRule","nthParsed","lastParse","getParseCache","setParseCache","lastRule","hitNodes","classNodes","classNode","tagNodes","tagNode","checkNode","isMatched","j","prevRule","checkKinship","unique","sort","aList","bList","aParent","bParent","unshift","doctypeReg","startTagReg","endTagReg","attrReg","blockMap","inlineMap","rawTextMap","longAttributeCache","tokenize","isText","execRes","parseEndTag","comment","parseStartTag","indexStart","indexEnd","rest","$2","$3","$4","pos","end","HTMLAnchorElement","$_naturalWidth","$_naturalHeight","$_initRect","widthNum","isNaN","heightNum","rect","getImageInfo","success","$_resetRect","fail","HTMLInputElement","maxlength","placeholder","mpplaceholderclass","HTMLTextAreaElement","HTMLVideoElement","HTMLCanvasElement","$$getNodesRef","nodesRef","getContext","createPath2D","createImage","createImageData","requestAnimationFrame","cancelAnimationFrame","toDataURL","HTMLSelectElement","$$resetOptions","$$updateSelected","selectedIndex","option","find","$$setAttributeWithoutUpdate","findIndex","HTMLOptionElement","label","onDealWithNotSupportDom","scrollItem","getElementById","propName","$$getBoundingClientRect","rectName","scrollRect","itemRect","$_behavior","realName","$_pageName","cookieStr","parseKeyValue","domain","expires","maxAge","secure","httpOnly","cookieDomain","cookiePath","createTime","$_checkDomain","lastIndex","lastIndexOf","cookieKey","oldCookie","$_checkExpires","setStorage","serialize","includeHttpOnly","domainList","domainItem","domainMap","pathList","pathItem","$_checkPath","pathMap","gap","stringify","log","$_language","$_wxVersion","$_brand","$_model","$_platform","$_system","$_userAgent","language","version","brand","model","platform","system","platformContext","systemVersion","appCodeName","$_width","$_height","$_stack","title","$_currentIndex","current","go","next","$$setHrefWithoutCheck","reload","$_checkOrigin","setNavigationBarTitle","pageUrlRouteMap","$_pageUrl","$_subpackagesMap","entry","router","subpackagesMap","regexpList","pathObj","packageName","matchRes","tabBarMap","Storage","$_keys","newValue","currentWindow","storageArea","num","$_triggerStorage","getStorageInfoSync","$$keys","setStorageSync","$_updateInfo","removeStorageSync","clearStorageSync","wxWorker","wxWorkerPath","callbackList","sharedWorkerInstCount","workerMap","sharedWorkerMap","getWorkerUrl","fileName","getWorkersDir","isSharedWorker","filePath","$_tryCatch","createWorker","$_onMessage","_hasRegisterCb","onMessage","postMessage","terminate","$_worker","close","sharedWorker","$_timeOrigin","SUPPORT_METHOD","STATUS_TEXT_MAP","100","101","200","201","202","203","204","205","206","300","301","302","303","304","305","307","400","401","402","403","404","405","406","407","408","409","410","411","412","413","414","415","416","417","500","501","502","503","504","505","$_method","$_url","$_data","$_status","$_statusText","$_readyState","UNSENT","$_header","Accept","$_responseType","$_resHeader","$_response","$_timeout","$_startTime","$_withCredentials","$_requestTask","$_requestSuccess","$_requestFail","$_requestComplete","readyState","hasChange","DONE","abort","$_callReadyStateChange","OPENED","header","$$cookie","withCredentials","request","dataType","responseType","complete","statusCode","HEADERS_RECEIVED","$$setCookie","LOADING","errMsg","timeout","$_callRequest"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 15);\n","const pageMap = {}\nlet configCache = {}\nconst cookieCache = {}\n\n/**\n * \n */\nfunction init(pageId, options) {\n    pageMap[pageId] = {\n        window: options.window,\n        document: options.document,\n        nodeIdMap: options.nodeIdMap,\n    }\n}\n\n/**\n * \n */\nfunction destroy(pageId) {\n    delete pageMap[pageId]\n}\n\n/**\n *  document\n */\nfunction getDocument(pageId) {\n    return pageMap[pageId] && pageMap[pageId].document\n}\n\n/**\n *  window\n */\nfunction getWindow(pageId) {\n    return pageMap[pageId] && pageMap[pageId].window\n}\n\n/**\n *  window \n */\nfunction getWindowList() {\n    return Object.keys(pageMap).map(pageId => pageMap[pageId].window)\n}\n\n/**\n *  domNode \n */\nfunction setNode(pageId, nodeId, domNode = null) {\n    const document = pageMap[pageId] && pageMap[pageId].document\n\n    // \n    if (!document) return\n    // \n    if (!domNode) return pageMap[pageId].nodeIdMap[nodeId] = domNode\n\n    let parentNode = domNode.parentNode\n\n    while (parentNode && parentNode !== document.body) {\n        parentNode = parentNode.parentNode\n    }\n\n    pageMap[pageId].nodeIdMap[nodeId] = parentNode === document.body ? domNode : null\n}\n\n/**\n *  nodeId  domNode\n */\nfunction getNode(pageId, nodeId) {\n    return pageMap[pageId] && pageMap[pageId].nodeIdMap[nodeId]\n}\n\n/**\n *  config\n */\nfunction setConfig(config) {\n    configCache = config\n}\n\n/**\n *  config\n */\nfunction getConfig() {\n    return configCache\n}\n\n/**\n *  cookie\n */\nfunction getCookie() {\n    return cookieCache\n}\n\nmodule.exports = {\n    init,\n    destroy,\n    getDocument,\n    getWindow,\n    getWindowList,\n    setNode,\n    getNode,\n    setConfig,\n    getConfig,\n    getCookie,\n}\n","const cache = require('./cache')\n\n/**\n * \n */\nconst WX_COMPONENT_MAP = {}\nconst WX_COMPONENT_LIST = [\n    'cover-image', 'cover-view', 'match-media', 'movable-area', 'movable-view', 'page-container', 'scroll-view', 'swiper', 'swiper-item', 'view',\n    'icon', 'progress', 'rich-text', 'text',\n    'button', 'checkbox', 'checkbox-group', 'editor', 'form', 'input', 'label', 'picker', 'picker-view', 'picker-view-column', 'radio', 'radio-group', 'slider', 'switch', 'textarea',\n    'functional-page-navigator', 'navigator',\n    'audio', 'camera', 'image', 'live-player', 'live-pusher', 'video', 'voip-room',\n    'map',\n    'canvas',\n    'ad', 'ad-custom', 'official-account', 'open-data', 'web-view',\n    // \n    'capture', 'catch', 'animation'\n]\nWX_COMPONENT_LIST.forEach(name => WX_COMPONENT_MAP[name] = name)\nfunction checkIsWxComponent(tagName, notNeedPrefix) {\n    const hasPrefix = tagName.indexOf('wx-') === 0\n    if (notNeedPrefix) {\n        return hasPrefix ? WX_COMPONENT_MAP[tagName.slice(3)] : WX_COMPONENT_MAP[tagName]\n    } else {\n        return hasPrefix ? WX_COMPONENT_MAP[tagName.slice(3)] : false\n    }\n}\n\n/**\n * \n */\nfunction toDash(str) {\n    return str.replace(/[A-Z]/g, all => `-${all.toLowerCase()}`)\n}\n\n/**\n * \n */\nfunction toCamel(str) {\n    return str.replace(/-([a-zA-Z])/g, (all, $1) => $1.toUpperCase())\n}\n\n/**\n *  id\n */\nlet seed = +new Date()\nfunction getId() {\n    return seed++\n}\n\n/**\n *  pageId  route\n */\nfunction getPageRoute(pageId) {\n    return pageId.split('-')[2]\n}\n\n/**\n *  pageRoute \n */\nfunction getPageName(pageRoute) {\n    const pluginMatchRes = pageRoute.match(/(?:^|\\/)__plugin__\\/(?:.*?)(\\/.*)/)\n    if (pluginMatchRes && pluginMatchRes[1]) {\n        //  route \n        pageRoute = pluginMatchRes[1]\n    }\n    const splitPageRoute = pageRoute.split('/')\n    return splitPageRoute[1] === 'pages' ? splitPageRoute[2] : splitPageRoute[1]\n}\n\n/**\n * \n */\nconst waitFuncSet = new Set()\nfunction throttle(func) {\n    return () => {\n        if (waitFuncSet.has(func)) return\n\n        waitFuncSet.add(func)\n\n        Promise.resolve().then(() => {\n            if (waitFuncSet.has(func)) {\n                waitFuncSet.delete(func)\n                func()\n            }\n        }).catch(console.error)\n    }\n}\n\n/**\n * \n */\nfunction flushThrottleCache() {\n    waitFuncSet.forEach(waitFunc => waitFunc && waitFunc())\n    waitFuncSet.clear()\n}\n\n/**\n *  url\n */\nfunction completeURL(url, defaultOrigin, notTransHttps) {\n    const config = cache.getConfig()\n\n    //  url \n    if (url.indexOf('//') === 0) {\n        url = 'https:' + url\n    } else if (url[0] === '/') {\n        url = (config.origin || defaultOrigin) + url\n    }\n\n    if (!notTransHttps && url.indexOf('http:') === 0) {\n        url = url.replace(/^http:/ig, 'https:')\n    }\n\n    return url\n}\n\n/**\n * \n */\nfunction decodeContent(content) {\n    return content\n        .replace(/&nbsp;/g, '\\u00A0')\n        .replace(/&ensp;/g, '\\u2002')\n        .replace(/&emsp;/g, '\\u2003')\n        .replace(/&lt;/g, '<')\n        .replace(/&gt;/g, '>')\n        .replace(/&quot;/g, '\"')\n        .replace(/&apos;/g, '\\'')\n        .replace(/&amp;/g, '&')\n}\n\n/**\n * \n */\nconst NOT_SUPPORT_TAG_NAME_LIST = ['IFRAME']\nfunction isTagNameSupport(tagName) {\n    return NOT_SUPPORT_TAG_NAME_LIST.indexOf(tagName) === -1\n}\n\n/**\n *  innerHTML/outerHTML \n */\nfunction escapeForHtmlGeneration(value) {\n    return value.replace(/\"/g, '&quot;')\n}\n\n/**\n * setData \n */\nfunction setData(instance, data) {\n    const pageId = instance.pageId\n    const window = pageId ? cache.getWindow(pageId) : null\n    if (window && window._startInit) {\n        //  init  setData\n        window._iniCount++\n        instance.setData(data, () => {\n            window._iniCount--\n            if (!window._startInit && window._iniCount <= 0) {\n                // \n                window.document.$$trigger('DOMContentLoaded')\n                window._iniCount = 0\n            }\n        })\n        return\n    }\n\n    //  setData\n    instance.setData(data)\n}\n\nmodule.exports = {\n    checkIsWxComponent,\n    toDash,\n    toCamel,\n    getId,\n    getPageRoute,\n    getPageName,\n    throttle,\n    flushThrottleCache,\n    completeURL,\n    decodeContent,\n    isTagNameSupport,\n    escapeForHtmlGeneration,\n    setData,\n}\n","class Pool {\r\n    constructor(size) {\r\n        this.$_size = size || 3000\r\n        this.$_cache = []\r\n    }\r\n\r\n    /**\r\n     * \r\n     */\r\n    add(object) {\r\n        if (this.$_cache.length >= this.$_size) return\r\n\r\n        this.$_cache.push(object)\r\n    }\r\n\r\n    /**\r\n     * \r\n     */\r\n    get() {\r\n        return this.$_cache.pop()\r\n    }\r\n}\r\n\r\nmodule.exports = Pool\r\n","const Node = require('./node')\nconst ClassList = require('./class-list')\nconst Style = require('./style')\nconst Attribute = require('./attribute')\nconst cache = require('../util/cache')\nconst parser = require('../tree/parser')\nconst tool = require('../util/tool')\nconst Pool = require('../util/pool')\n\n// eslint-disable-next-line no-var, block-scoped-var, semi\nvar $wx;\n\nif (typeof $wx === 'undefined' && typeof my !== 'undefined') {\n    // \n    // eslint-disable-next-line no-undef\n    $wx = my\n} else {\n    $wx = wx\n}\n\nconst pool = new Pool()\n\nclass Element extends Node {\n    /**\n     * \n     */\n    static $$create(options, tree) {\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            const instance = pool.get()\n\n            if (instance) {\n                instance.$$init(options, tree)\n                return instance\n            }\n        }\n\n        return new Element(options, tree)\n    }\n\n    /**\n     *  $$init \n     */\n    $$init(options, tree) {\n        options.type = 'element'\n\n        super.$$init(options, tree)\n\n        this.$_tagName = options.tagName || ''\n        this.$_children = []\n        this.$_nodeType = options.nodeType || Node.ELEMENT_NODE\n        this.$_unary = !!parser.voidMap[this.$_tagName.toLowerCase()]\n        this.$_notTriggerUpdate = false\n        this.$_dataset = null\n        this.$_classList = null\n        this.$_style = null\n        this.$_attrs = null\n\n        this.$$scrollTop = 0\n        this.$$scrollTimeStamp = 0 // \n\n        this.$_initAttrs(options.attrs)\n\n        //  'xxx' in XXX \n        this.onclick = null\n        this.ontouchstart = null\n        this.ontouchmove = null\n        this.ontouchend = null\n        this.ontouchcancel = null\n        this.onload = null\n        this.onerror = null\n    }\n\n    /**\n     *  $$destroy \n     */\n    $$destroy() {\n        super.$$destroy()\n\n        this.$_tagName = ''\n        this.$_children.length = 0\n        this.$_nodeType = Node.ELEMENT_NODE\n        this.$_unary = null\n        this.$_notTriggerUpdate = false\n        this.$_dataset = null\n        this.$_classList = null\n        this.$_style = null\n        this.$_attrs = null\n\n        this._wxComponent = null\n        this._wxCustomComponent = null\n\n        this.$$scrollTop = 0\n        this.$$scrollTimeStamp = 0\n    }\n\n    /**\n     * \n     */\n    $$recycle() {\n        this.$_children.forEach(child => child.$$recycle())\n        this.$$destroy()\n\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            pool.add(this)\n        }\n    }\n\n    /**\n     * \n     */\n    set $_dataset(value) {\n        this.$__dataset = value\n    }\n\n    get $_dataset() {\n        if (!this.$__dataset) this.$__dataset = Object.create(null)\n        return this.$__dataset\n    }\n\n    set $_classList(value) {\n        if (!value && this.$__classList) this.$__classList.$$recycle()\n        this.$__classList = value\n    }\n\n    get $_classList() {\n        if (!this.$__classList) this.$__classList = ClassList.$$create(this.$_onClassOrStyleUpdate.bind(this))\n        return this.$__classList\n    }\n\n    set $_style(value) {\n        if (!value && this.$__style) this.$__style.$$recycle()\n        this.$__style = value\n    }\n\n    get $_style() {\n        if (!this.$__style) this.$__style = Style.$$create(this.$_onClassOrStyleUpdate.bind(this))\n        return this.$__style\n    }\n\n    set $_attrs(value) {\n        if (!value && this.$__attrs) this.$__attrs.$$recycle()\n        this.$__attrs = value\n    }\n\n    get $_attrs() {\n        if (!this.$__attrs) this.$__attrs = Attribute.$$create(this, this.$_triggerParentUpdate.bind(this))\n        return this.$__attrs\n    }\n\n    /**\n     * \n     */\n    $_initAttrs(attrs = {}) {\n        //  $_attrs\n        const attrKeys = Object.keys(attrs)\n        if (!attrKeys.length) return\n\n        this.$_notTriggerUpdate = true // \n\n        attrKeys.forEach(name => {\n            if (name.indexOf('data-') === 0) {\n                // dataset\n                const datasetName = tool.toCamel(name.substr(5))\n                this.$_dataset[datasetName] = attrs[name]\n            } else {\n                // \n                this.setAttribute(name, attrs[name])\n            }\n        })\n\n        this.$_notTriggerUpdate = false // \n    }\n\n    /**\n     *  class  style \n     */\n    $_onClassOrStyleUpdate() {\n        if (this.$__attrs) this.$_attrs.triggerUpdate()\n        this.$_triggerParentUpdate()\n    }\n\n    /**\n     * \n     */\n    $_triggerParentUpdate() {\n        if (this.parentNode && !this.$_notTriggerUpdate) {\n            this.parentNode.$$trigger('$$childNodesUpdate')\n            this.$_triggerWindowUpdate()\n        }\n        if (!this.$_notTriggerUpdate) this.$$trigger('$$domNodeUpdate')\n    }\n\n    /**\n     * \n     */\n    $_triggerMeUpdate() {\n        if (!this.$_notTriggerUpdate) {\n            this.$$trigger('$$childNodesUpdate')\n            this.$_triggerWindowUpdate()\n        }\n    }\n\n    /**\n     * \n     */\n    $_triggerWindowUpdate() {\n        const window = cache.getWindow(this.$_pageId)\n        window.$$trigger('$$domTreeUpdate')\n    }\n\n    /**\n     * \n     */\n    $_updateChildrenExtra(node, isRemove) {\n        const id = node.id\n\n        //  nodeId - dom \n        if (isRemove) {\n            cache.setNode(this.$_pageId, node.$$nodeId, null)\n        } else {\n            cache.setNode(this.$_pageId, node.$$nodeId, node)\n        }\n\n        //  id - dom \n        if (id) {\n            if (isRemove) {\n                this.$_tree.updateIdMap(id, null)\n            } else {\n                this.$_tree.updateIdMap(id, node)\n            }\n        }\n\n        if (node.childNodes && node.childNodes.length) {\n            for (const child of node.childNodes) {\n                this.$_updateChildrenExtra(child, isRemove)\n            }\n        }\n    }\n\n    /**\n     *  dom  html\n     */\n    $_generateHtml(node) {\n        if (node.nodeType === Node.TEXT_NODE) {\n            // \n            return node.textContent\n        } else if (node.nodeType === Node.ELEMENT_NODE) {\n            // \n            const tagName = node.tagName.toLowerCase()\n            let html = `<${tagName}`\n\n            // \n            if (node.behavior) html += ` behavior=\"${tool.escapeForHtmlGeneration(node.behavior)}\"`\n            if (node.id) html += ` id=\"${tool.escapeForHtmlGeneration(node.id)}\"`\n            if (node.className) html += ` class=\"${tool.escapeForHtmlGeneration(node.className)}\"`\n\n            const styleText = node.style.cssText\n            if (styleText) html += ` style=\"${tool.escapeForHtmlGeneration(styleText)}\"`\n\n            const src = node.src\n            if (src) html += ` src=${tool.escapeForHtmlGeneration(src)}`\n\n            const dataset = node.dataset\n            Object.keys(dataset).forEach(name => {\n                html += ` data-${tool.toDash(name)}=\"${tool.escapeForHtmlGeneration(dataset[name])}\"`\n            })\n\n            html = this.$$dealWithAttrsForGenerateHtml(html, node)\n\n            if (node.$$isUnary) {\n                // \n                return `${html} />`\n            } else {\n                const childrenHtml = node.childNodes.map(child => this.$_generateHtml(child)).join('')\n                return `${html}>${childrenHtml}</${tagName}>`\n            }\n        }\n    }\n\n    /**\n     *  ast dom \n     */\n    $_generateDomTree(node) {\n        const {\n            type,\n            tagName = '',\n            attrs = [],\n            children = [],\n            content = '',\n        } = node\n\n        const nodeId = `b-${tool.getId()}` //  b- \n\n        if (type === 'element') {\n            // \n            const attrsMap = {}\n\n            //  map\n            for (const attr of attrs) {\n                const name = attr.name\n                let value = attr.value\n\n                if (name === 'style') value = value && value.replace('\"', '\\'') || ''\n\n                attrsMap[name] = value\n            }\n\n            const element = this.ownerDocument.$$createElement({\n                tagName, attrs: attrsMap, nodeId\n            })\n\n            for (let child of children) {\n                child = this.$_generateDomTree(child)\n\n                if (child) element.appendChild(child)\n            }\n\n            return element\n        } else if (type === 'text') {\n            // \n            return this.ownerDocument.$$createTextNode({\n                content: tool.decodeContent(content), nodeId\n            })\n        } else if (type === 'comment') {\n            // \n            return this.ownerDocument.createComment()\n        }\n    }\n\n    /**\n     *  dom \n     */\n    get $$domInfo() {\n        return {\n            nodeId: this.$$nodeId,\n            pageId: this.$$pageId,\n            type: this.$_type,\n            tagName: this.$_tagName,\n            id: this.id,\n            className: this.className,\n            style: this.$__style ? this.style.cssText : '',\n            slot: this.getAttribute('slot'),\n        }\n    }\n\n    /**\n     * \n     */\n    get $$isUnary() {\n        return this.$_unary\n    }\n\n    /**\n     * \n     */\n    get $$wxComponent() {\n        return this._wxComponent\n    }\n\n    /**\n     * \n     */\n    get $$wxCustomComponent() {\n        return this._wxCustomComponent\n    }\n\n    /**\n     * \n     */\n    get $$children() {\n        return this.$_children\n    }\n\n    /**\n     *  $_generateHtml \n     */\n    $$dealWithAttrsForGenerateHtml(html) {\n        // \n        return html\n    }\n\n    /**\n     *  outerHTML  setter \n     */\n    $$dealWithAttrsForOuterHTML() {\n        // ignore\n    }\n\n    /**\n     *  cloneNode \n     */\n    $$dealWithAttrsForCloneNode() {\n        // \n        return {}\n    }\n\n    /**\n     *  getBoundingClientRect \n     * https://developers.weixin.qq.com/miniprogram/dev/api/wxml/NodesRef.scrollOffset.html\n     * https://developers.weixin.qq.com/miniprogram/dev/api/wxml/NodesRef.boundingClientRect.html\n     */\n    $$getBoundingClientRect() {\n        tool.flushThrottleCache() //  setData\n        const window = cache.getWindow(this.$_pageId)\n        return new Promise((resolve, reject) => {\n            if (!window) reject()\n\n            if (this.tagName === 'BODY') {\n                window.$$createSelectorQuery().selectViewport().scrollOffset(res => (res ? resolve(res) : reject(new Error('body not found in webview')))).exec()\n            } else {\n                window.$$createSelectorQuery().select(`.miniprogram-root >>> .node-${this.$_nodeId}`).boundingClientRect(res => (res ? resolve(res) : reject(new Error('element not found in webview')))).exec()\n            }\n        })\n    }\n\n    /**\n     *  context \n     */\n    $$getContext() {\n        tool.flushThrottleCache() //  setData\n        const window = cache.getWindow(this.$_pageId)\n        return new Promise((resolve, reject) => {\n            if (!window) reject()\n            if (typeof tt !== 'undefined') {\n                if (this.behavior === 'map') {\n                    resolve($wx.createMapContext(this.id))\n                    return\n                }\n            }\n\n            if (this.tagName === 'CANVAS') {\n                // TODO bug\n                try {\n                    $wx.createSelectorQuery().in(this.$$wxComponent).select(`.node-${this.$_nodeId}`).context(res => (res && res.context ? resolve(res.context) : reject()))\n                        .exec()\n                } catch (error) {\n                    $wx.createSelectorQuery().select(`.node-${this.$_nodeId}`).context(res => (res && res.context ? resolve(res.context) : reject())).exec()\n                }\n            } else {\n                window.$$createSelectorQuery().select(`.miniprogram-root >>> .node-${this.$_nodeId}`).context(res => (res && res.context ? resolve(res.context) : reject())).exec()\n            }\n        })\n    }\n\n    /**\n     *  NodesRef \n     * https://developers.weixin.qq.com/miniprogram/dev/api/wxml/NodesRef.html\n     */\n    $$getNodesRef() {\n        tool.flushThrottleCache() //  setData\n        const window = cache.getWindow(this.$_pageId)\n        return new Promise((resolve, reject) => {\n            if (!window) reject()\n\n            if (this.tagName === 'CANVAS') {\n                // TODO bug\n                try {\n                    resolve($wx.createSelectorQuery().in(this.$$wxComponent).select(`.node-${this.$_nodeId}`))\n                } catch (error) {\n                    resolve($wx.createSelectorQuery().select(`.node-${this.$_nodeId}`))\n                }\n            } else {\n                resolve(window.$$createSelectorQuery().select(`.miniprogram-root >>> .node-${this.$_nodeId}`))\n            }\n        })\n    }\n\n    /**\n     * \n     */\n    $$setAttributeWithoutUpdate(name, value) {\n        if (typeof name !== 'string') return\n\n        this.$_notTriggerUpdate = true\n        this.$_attrs.set(name, value)\n        this.$_notTriggerUpdate = false\n    }\n\n    /**\n     * /\n     * https://developers.weixin.qq.com/miniprogram/dev/framework/view/animation.html\n     */\n    $$animate(...args) {\n        const wxComponent = this.$$wxCustomComponent || this.$$wxComponent\n        if (!wxComponent) {\n            console.error('this element has not been attached yet')\n        } else {\n            if (typeof args[2] === 'object' && args[2].scrollSource) {\n                args[2].scrollSource = `.miniprogram-root >>> ${args[2].scrollSource}`\n            }\n            wxComponent.animate(`.node-${this.$_nodeId}`, ...args)\n        }\n    }\n\n    /**\n     * /\n     * https://developers.weixin.qq.com/miniprogram/dev/framework/view/animation.html\n     */\n    $$clearAnimation(...args) {\n        const wxComponent = this.$$wxCustomComponent || this.$$wxComponent\n        if (!wxComponent) {\n            console.error('this element has not been attached yet')\n        } else {\n            if (typeof args[2] === 'object' && args[2].scrollSource) {\n                args[2].scrollSource = `.miniprogram-root >>> ${args[2].scrollSource}`\n            }\n            wxComponent.clearAnimation(`.node-${this.$_nodeId}`, ...args)\n        }\n    }\n\n    /**\n     * \n     */\n    get id() {\n        if (!this.$__attrs) return ''\n\n        return this.$_attrs.get('id')\n    }\n\n    set id(id) {\n        if (typeof id !== 'string') return\n\n        id = id.trim()\n        const oldId = this.$_attrs.get('id')\n        this.$_attrs.set('id', id)\n\n        if (id === oldId) return\n\n        //  tree\n        if (this.$_tree.getById(oldId) === this) this.$_tree.updateIdMap(oldId, null)\n        if (id) this.$_tree.updateIdMap(id, this)\n        this.$_triggerParentUpdate()\n    }\n\n    get tagName() {\n        return this.$_tagName.toUpperCase()\n    }\n\n    get className() {\n        if (!this.$__classList) return ''\n\n        return this.$_classList.toString()\n    }\n\n    set className(className) {\n        if (typeof className !== 'string') return\n\n        this.$_classList.$$parse(className)\n    }\n\n    get classList() {\n        return this.$_classList\n    }\n\n    get nodeName() {\n        return this.tagName\n    }\n\n    get nodeType() {\n        return this.$_nodeType\n    }\n\n    get childNodes() {\n        return this.$_children\n    }\n\n    get children() {\n        return this.$_children.filter(child => child.nodeType === Node.ELEMENT_NODE)\n    }\n\n    get firstChild() {\n        return this.$_children[0]\n    }\n\n    get lastChild() {\n        return this.$_children[this.$_children.length - 1]\n    }\n\n    get innerHTML() {\n        return this.$_children.map(child => this.$_generateHtml(child)).join('')\n    }\n\n    set innerHTML(html) {\n        if (typeof html !== 'string') return\n\n        const fragment = this.ownerDocument.$$createElement({\n            tagName: 'documentfragment',\n            nodeId: `b-${tool.getId()}`, //  b- \n            nodeType: Node.DOCUMENT_FRAGMENT_NODE,\n        })\n\n        //  ast\n        let ast = null\n        try {\n            ast = parser.parse(html)\n        } catch (err) {\n            console.error(err)\n        }\n\n        if (!ast) return\n\n        //  dom \n        ast.forEach(item => {\n            const node = this.$_generateDomTree(item)\n            if (node) fragment.appendChild(node)\n        })\n\n        // \n        this.$_children.forEach(node => {\n            node.$$updateParent(null)\n\n            // \n            this.$_updateChildrenExtra(node, true)\n        })\n        this.$_children.length = 0\n\n        // \n        if (this.$_tagName === 'table') {\n            // table  tbody\n            let hasTbody = false\n\n            for (const child of fragment.childNodes) {\n                if (child.tagName === 'TBODY') {\n                    hasTbody = true\n                    break\n                }\n            }\n\n            if (!hasTbody) {\n                const tbody = this.ownerDocument.$$createElement({\n                    tagName: 'tbody',\n                    attrs: {},\n                    nodeType: Node.ELEMENT_NODE,\n                    nodeId: `b-${tool.getId()}`, //  b- \n                })\n\n                tbody.appendChild(fragment)\n                this.appendChild(tbody)\n            }\n        } else {\n            this.appendChild(fragment)\n        }\n    }\n\n    get outerHTML() {\n        return this.$_generateHtml(this)\n    }\n\n    set outerHTML(html) {\n        if (typeof html !== 'string') return\n\n        //  ast\n        let ast = null\n        try {\n            ast = parser.parse(html)[0]\n        } catch (err) {\n            console.error(err)\n        }\n\n        if (ast) {\n            //  dom \n            const node = this.$_generateDomTree(ast)\n\n            // \n            this.$_children.forEach(node => {\n                node.$$updateParent(null)\n\n                // \n                this.$_updateChildrenExtra(node, true)\n            })\n            this.$_children.length = 0\n\n            this.$_notTriggerUpdate = true // \n\n            // \n            const children = [].concat(node.childNodes)\n            for (const child of children) {\n                this.appendChild(child)\n            }\n\n            this.$_tagName = node.tagName.toLowerCase()\n            this.id = node.id || ''\n            this.className = node.className || ''\n            this.style.cssText = node.style.cssText || ''\n            this.src = node.src || ''\n            this.$_dataset = Object.assign({}, node.dataset)\n\n            this.$$dealWithAttrsForOuterHTML(node)\n\n            this.$_notTriggerUpdate = false // \n            this.$_triggerParentUpdate()\n        }\n    }\n\n    get innerText() {\n        // WARN textContent \n        return this.textContent\n    }\n\n    set innerText(text) {\n        this.textContent = text\n    }\n\n    get textContent() {\n        return this.$_children.map(child => child.textContent).join('')\n    }\n\n    set textContent(text) {\n        text = '' + text\n\n        // \n        this.$_children.forEach(node => {\n            node.$$updateParent(null)\n\n            // \n            this.$_updateChildrenExtra(node, true)\n        })\n        this.$_children.length = 0\n\n        //  textNode \n        if (!text) return\n\n        const nodeId = `b-${tool.getId()}` //  b- \n        const child = this.ownerDocument.$$createTextNode({content: text, nodeId})\n\n        this.appendChild(child)\n    }\n\n    get style() {\n        return this.$_style\n    }\n\n    set style(value) {\n        this.$_style.cssText = value\n    }\n\n    get dataset() {\n        return this.$_dataset\n    }\n\n    get attributes() {\n        return this.$_attrs.list\n    }\n\n    get src() {\n        if (!this.$__attrs) return ''\n\n        return this.$_attrs.get('src')\n    }\n\n    set src(value) {\n        value = '' + value\n        this.$_attrs.set('src', value)\n    }\n\n    get scrollTop() {\n        //  windowScroll  document.body.$$getBoundingClientRect \n        return this.$$scrollTop\n    }\n\n    set scrollTop(value) {\n        if (this.$_tagName !== 'html') return //  document.documentElement  scrollTop\n        if (+new Date() - this.$$scrollTimeStamp < 500) return //  mp-webpack-plugin@0.9.14  500ms  scrollTop \n\n        value = parseInt(value, 10)\n        $wx.pageScrollTo({scrollTop: value, duration: 0})\n        this.$$scrollTop = value\n    }\n\n    cloneNode(deep) {\n        const dataset = {}\n        Object.keys(this.$_dataset).forEach(name => {\n            dataset[`data-${tool.toDash(name)}`] = this.$_dataset[name]\n        })\n\n        const newNode = this.ownerDocument.$$createElement({\n            tagName: this.$_tagName,\n            attrs: {\n                id: this.id,\n                class: this.className,\n                style: this.style.cssText,\n                src: this.src,\n\n                ...dataset,\n                ...this.$$dealWithAttrsForCloneNode(),\n            },\n            nodeType: this.$_nodeType,\n            nodeId: `b-${tool.getId()}`, //  b- \n        })\n\n        // \n        if (this.$__attrs) {\n            const attrsMap = this.$_attrs.map\n            Object.keys(attrsMap).forEach(attrName => newNode.setAttribute(attrName, attrsMap[attrName]))\n        }\n\n        if (deep) {\n            // \n            for (const child of this.$_children) {\n                newNode.appendChild(child.cloneNode(deep))\n            }\n        }\n\n        return newNode\n    }\n\n    appendChild(node) {\n        if (!(node instanceof Node)) return\n\n        let nodes\n        let hasUpdate = false\n\n        if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n            // documentFragment\n            nodes = [].concat(node.childNodes)\n        } else {\n            nodes = [node]\n        }\n\n        if (!nodes.length) hasUpdate = true //  update innerHTML \n\n        for (const node of nodes) {\n            if (node === this) continue\n            if (node.parentNode) node.parentNode.removeChild(node)\n\n            this.$_children.push(node)\n            node.$$updateParent(this) //  parentNode\n\n            // \n            this.$_updateChildrenExtra(node)\n\n            hasUpdate = true\n        }\n\n        //  webview \n        if (hasUpdate) this.$_triggerMeUpdate()\n\n        return node\n    }\n\n    removeChild(node) {\n        if (!(node instanceof Node)) return\n\n        const index = this.$_children.indexOf(node)\n\n        if (index >= 0) {\n            // \n            this.$_children.splice(index, 1)\n\n            node.$$updateParent(null)\n\n            // \n            this.$_updateChildrenExtra(node, true)\n\n            //  webview \n            this.$_triggerMeUpdate()\n        }\n\n        return node\n    }\n\n    insertBefore(node, ref) {\n        if (!(node instanceof Node)) return\n        if (ref && !(ref instanceof Node)) return\n\n        let nodes\n        let hasUpdate = false\n\n        if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n            // documentFragment\n            nodes = []\n            for (let i = 0; i < node.childNodes.length; i++) {\n                // \n                nodes.push(node.childNodes[i])\n            }\n        } else {\n            nodes = [node]\n        }\n\n        for (const node of nodes) {\n            if (node === this) continue\n            if (node.parentNode) node.parentNode.removeChild(node)\n\n            const insertIndex = ref ? this.$_children.indexOf(ref) : -1\n\n            if (insertIndex === -1) {\n                // \n                this.$_children.push(node)\n            } else {\n                //  ref \n                this.$_children.splice(insertIndex, 0, node)\n            }\n\n            node.$$updateParent(this) //  parentNode\n\n            // \n            this.$_updateChildrenExtra(node)\n\n            hasUpdate = true\n        }\n\n\n        //  webview \n        if (hasUpdate) this.$_triggerMeUpdate()\n\n        return node\n    }\n\n    replaceChild(node, old) {\n        if (!(node instanceof Node) || !(old instanceof Node)) return\n\n        let nodes\n        let hasUpdate = false\n\n        if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n            // documentFragment\n            nodes = []\n            for (let i = node.childNodes.length - 1; i >= 0; i--) {\n                // \n                nodes.push(node.childNodes[i])\n            }\n        } else {\n            nodes = [node]\n        }\n\n        const replaceIndex = this.$_children.indexOf(old)\n        if (replaceIndex !== -1) this.$_children.splice(replaceIndex, 1)\n\n        for (const node of nodes) {\n            if (node === this) continue\n            if (node.parentNode) node.parentNode.removeChild(node)\n\n            if (replaceIndex === -1) {\n                // \n                this.$_children.push(node)\n            } else {\n                //  old\n                this.$_children.splice(replaceIndex, 0, node)\n            }\n\n            node.$$updateParent(this) //  parentNode\n\n            // \n            this.$_updateChildrenExtra(node)\n            this.$_updateChildrenExtra(old, true)\n\n            hasUpdate = true\n        }\n\n        //  webview \n        if (hasUpdate) this.$_triggerMeUpdate()\n\n        return old\n    }\n\n    hasChildNodes() {\n        return this.$_children.length > 0\n    }\n\n    getElementsByTagName(tagName) {\n        if (typeof tagName !== 'string') return []\n\n        return this.$_tree.getByTagName(tagName, this)\n    }\n\n    getElementsByClassName(className) {\n        if (typeof className !== 'string') return []\n\n        return this.$_tree.getByClassName(className, this)\n    }\n\n    querySelector(selector) {\n        if (typeof selector !== 'string') return\n\n        return this.$_tree.query(selector, this)[0] || null\n    }\n\n    querySelectorAll(selector) {\n        if (typeof selector !== 'string') return []\n\n        return this.$_tree.query(selector, this)\n    }\n\n    setAttribute(name, value) {\n        if (typeof name !== 'string') return\n\n        // ///undefined \n        const valueType = typeof value\n        if (valueType !== 'object' && valueType !== 'boolean' && valueType !== 'function' && value !== undefined && !Array.isArray(value)) value = '' + value\n\n        if (name === 'kbone-attribute-map' || name === 'kbone-event-map') {\n            value = value || {}\n            if (typeof value === 'string') value = JSON.parse(value) // \n            const oldValue = this.getAttribute(name)\n            const keys = Object.keys(value)\n            const oldKeys = oldValue ? Object.keys(oldValue) : null\n\n            if (name === 'kbone-attribute-map') {\n                // \n                keys.forEach(key => this.setAttribute(key, value[key]))\n                if (oldKeys) {\n                    oldKeys.forEach(key => {\n                        if (!Object.prototype.hasOwnProperty.call(value, key)) this.removeAttribute(key)\n                    })\n                }\n            } else {\n                // \n                const window = cache.getWindow(this.$_pageId)\n\n                if (oldKeys) {\n                    oldKeys.forEach(key => {\n                        //  handler\n                        let handler = oldValue[key]\n                        handler = typeof handler !== 'function' ? window[handler] : handler\n                        this.removeEventListener(key, handler)\n                    })\n                }\n                keys.forEach(key => {\n                    let handler = value[key]\n                    handler = typeof handler !== 'function' ? window[handler] : handler\n                    this.addEventListener(key, handler)\n                })\n            }\n        }\n\n        if (name === 'id') {\n            // id \n            this.id = value\n        } else {\n            this.$_attrs.set(name, value)\n        }\n    }\n\n    getAttribute(name) {\n        if (typeof name !== 'string') return ''\n        if (name.indexOf('data-') === 0) {\n            // dataset \n            const datasetName = tool.toCamel(name.substr(5))\n            if (!this.$__dataset) return undefined\n\n            return this.dataset[datasetName]\n        } else {\n            if (!this.$__attrs) return name === 'id' || name === 'style' || name === 'class' ? '' : undefined\n\n            return this.$_attrs.get(name)\n        }\n    }\n\n    hasAttribute(name) {\n        if (typeof name !== 'string') return false\n        if (!this.$__attrs) return false\n\n        return this.$_attrs.has(name)\n    }\n\n    removeAttribute(name) {\n        if (typeof name !== 'string') return false\n\n        return this.$_attrs.remove(name)\n    }\n\n    setAttributeNS(namespace, name, value) {\n        //  namespace setAttribute \n        console.warn(`namespace ${namespace} is not supported`)\n        this.setAttribute(name, value)\n    }\n\n    getAttributeNS(namespace, name) {\n        //  namespace setAttribute \n        console.warn(`namespace ${namespace} is not supported`)\n        return this.getAttribute(name)\n    }\n\n    hasAttributeNS(namespace, name) {\n        //  namespace setAttribute \n        console.warn(`namespace ${namespace} is not supported`)\n        return this.hasAttribute(name)\n    }\n\n    removeAttributeNS(namespace, name) {\n        //  namespace setAttribute \n        console.warn(`namespace ${namespace} is not supported`)\n        return this.removeAttribute(name)\n    }\n\n    contains(otherElement) {\n        const stack = []\n        let checkElement = this\n\n        while (checkElement) {\n            if (checkElement === otherElement) return true\n\n            const childNodes = checkElement.childNodes\n            if (childNodes && childNodes.length) childNodes.forEach(child => stack.push(child))\n\n            checkElement = stack.pop()\n        }\n\n        return false\n    }\n\n    getBoundingClientRect() {\n        // \n        console.warn('getBoundingClientRect is not supported, please use dom.$$getBoundingClientRect instead of it')\n        return {\n            left: 0,\n            top: 0,\n        }\n    }\n}\n\nmodule.exports = Element\n","const Event = require('./event')\nconst CustomEvent = require('./custom-event')\n\n/**\n *  touch \n */\nfunction compareTouchList(a, b) {\n    if (a.length !== b.length) return false\n\n    for (let i, len = a.length; i < len; i++) {\n        const aItem = a[i]\n        const bItem = b[i]\n\n        if (aItem.identifier !== bItem.identifier) return false\n        if (aItem.pageX !== bItem.pageX || aItem.pageY !== bItem.pageY || aItem.clientX !== bItem.clientX || aItem.clientY !== bItem.clientY) return false\n    }\n\n    return true\n}\n\nclass EventTarget {\n    constructor(...args) {\n        this.$$init(...args)\n    }\n\n    /**\n     * \n     */\n    $$init() {\n        //  'xxx' in XXX \n        this.ontouchstart = null\n        this.ontouchmove = null\n        this.ontouchend = null\n        this.ontouchcancel = null\n        this.oninput = null\n        this.onfocus = null\n        this.onblur = null\n        this.onchange = null\n\n        this.$_miniprogramEvent = null // \n        this.$_eventHandlerMap = null\n    }\n\n    /**\n     * \n     */\n    $$destroy() {\n        Object.keys(this).forEach(key => {\n            //  on \n            if (key.indexOf('on') === 0) this[key] = null\n            // \n            if (key[0] === '_') this[key] = null\n            if (key[0] === '$' && (key[1] !== '_' && key[1] !== '$')) this[key] = null\n        })\n\n        this.$_miniprogramEvent = null\n        this.$_eventHandlerMap = null\n    }\n\n    set $_eventHandlerMap(value) {\n        this.$__eventHandlerMap = value\n    }\n\n    get $_eventHandlerMap() {\n        if (!this.$__eventHandlerMap) this.$__eventHandlerMap = Object.create(null)\n        return this.$__eventHandlerMap\n    }\n\n    /**\n     * \n     */\n    static $$process(target, eventName, miniprogramEvent, extra, callback) {\n        let event\n\n        if (eventName instanceof CustomEvent || eventName instanceof Event) {\n            // \n            event = eventName\n            eventName = event.type\n            event.$$setTarget(target)\n        }\n\n        eventName = eventName.toLowerCase()\n\n        const document = target.ownerDocument\n        const window = document ? document.defaultView : null\n        const path = [target]\n        let parentNode = target.parentNode\n\n        while (parentNode && parentNode.tagName !== 'HTML') {\n            path.push(parentNode)\n            parentNode = parentNode.parentNode\n        }\n\n        if (path[path.length - 1].tagName === 'BODY') {\n            //  document.body document.documentElement\n            path.push(parentNode)\n\n            if (eventName.indexOf('touch') === 0) {\n                // touch  window\n                path.push(window)\n            }\n        }\n\n        if (!event) {\n            //  event \n            event = new Event({\n                name: eventName,\n                target,\n                timeStamp: window ? window.performance.now() : miniprogramEvent.timeStamp,\n                touches: miniprogramEvent.touches,\n                changedTouches: miniprogramEvent.changedTouches,\n                bubbles: true, // \n                $$extra: extra,\n            })\n            //  detail\n            if (miniprogramEvent.detail) event.detail = Object.assign({}, miniprogramEvent.detail, event.detail || {})\n        }\n\n        // \n        for (let i = path.length - 1; i >= 0; i--) {\n            const currentTarget = path[i]\n\n            if (!event.$$canBubble) break // \n            if (currentTarget === target) continue\n\n            // wx-capture \n            if (currentTarget.tagName === 'WX-COMPONENT' && currentTarget.behavior === 'capture') continue\n\n            event.$$setCurrentTarget(currentTarget)\n            event.$$setEventPhase(Event.CAPTURING_PHASE)\n\n            currentTarget.$$trigger(eventName, {\n                event,\n                isCapture: true,\n            })\n            if (callback) callback(currentTarget, event, true)\n        }\n\n        // \n        if (event.$$canBubble) {\n            event.$$setCurrentTarget(target)\n            event.$$setEventPhase(Event.AT_TARGET)\n\n            // \n            target.$$trigger(eventName, {\n                event,\n                isCapture: true,\n                isTarget: true,\n            })\n            if (callback) callback(target, event, true)\n\n            target.$$trigger(eventName, {\n                event,\n                isCapture: false,\n                isTarget: true,\n            })\n            if (callback) callback(target, event, false)\n        }\n\n        if (event.bubbles) {\n            // \n            for (const currentTarget of path) {\n                if (!event.$$canBubble) break // \n                if (currentTarget === target) continue\n\n                // wx-capture \n                if (currentTarget.tagName === 'WX-COMPONENT' && currentTarget.behavior === 'capture') continue\n\n                event.$$setCurrentTarget(currentTarget)\n                event.$$setEventPhase(Event.BUBBLING_PHASE)\n\n                currentTarget.$$trigger(eventName, {\n                    event,\n                    isCapture: false,\n                })\n                if (callback) callback(currentTarget, event, false)\n\n                // wx-catch \n                if (currentTarget.tagName === 'WX-COMPONENT' && currentTarget.behavior === 'catch') event.stopPropagation()\n            }\n        }\n\n        // \n        event.$$setCurrentTarget(null)\n        event.$$setEventPhase(Event.NONE)\n\n        return event\n    }\n\n    /**\n     *  handlers\n     */\n    $_getHandlers(eventName, isCapture, isInit) {\n        const handlerMap = this.$_eventHandlerMap\n\n        if (isInit) {\n            const handlerObj = handlerMap[eventName] = handlerMap[eventName] || {}\n\n            handlerObj.capture = handlerObj.capture || []\n            handlerObj.bubble = handlerObj.bubble || []\n\n            return isCapture ? handlerObj.capture : handlerObj.bubble\n        } else {\n            const handlerObj = handlerMap[eventName]\n\n            if (!handlerObj) return null\n\n            return isCapture ? handlerObj.capture : handlerObj.bubble\n        }\n    }\n\n    /**\n     * \n     */\n    $$trigger(eventName, {\n        event, args = [], isCapture, isTarget\n    } = {}) {\n        eventName = eventName.toLowerCase()\n        const handlers = this.$_getHandlers(eventName, isCapture)\n        const onEventName = `on${eventName}`\n\n        if (!event) {\n            const document = this.ownerDocument\n            const window = document ? document.defaultView : null\n            event = new Event({\n                timeStamp: window ? window.performance.now() : Date.now(),\n                touches: [],\n                changedTouches: [],\n                name: eventName,\n                target: this,\n                eventPhase: Event.AT_TARGET,\n            })\n        }\n\n        if ((!isCapture || !isTarget) && typeof this[onEventName] === 'function') {\n            //  onXXX \n            if (event && event.$$immediateStop) return\n            try {\n                event.returnValue = this[onEventName].call(this || null, event, ...args)\n            } catch (err) {\n                console.error(err)\n                this.$$triggerWindowError(err)\n            }\n        }\n\n        if (!handlers) return\n\n        //  addEventListener \n        if (handlers.length) {\n            [...handlers].forEach(handler => {\n                if (event && event.$$immediateStop) return\n                try {\n                    handler.call(this || null, event, ...args)\n                } catch (err) {\n                    console.error(err)\n                    this.$$triggerWindowError(err)\n                }\n            })\n        }\n\n        //  addEventListener \n        if (handlers._namespace) {\n            Object.keys(handlers._namespace).forEach(namespace => {\n                const namespaceHandlers = handlers._namespace[namespace]\n                if (namespaceHandlers && namespaceHandlers.length) {\n                    [...namespaceHandlers].forEach(handler => {\n                        if (event && event.$$immediateStop) return\n                        try {\n                            handler.call(this || null, event, ...args)\n                        } catch (err) {\n                            console.error(err)\n                            this.$$triggerWindowError(err)\n                        }\n                    })\n                }\n            })\n        }\n    }\n\n    /**\n     * \n     */\n    $$checkEvent(miniprogramEvent) {\n        const last = this.$_miniprogramEvent\n        const now = miniprogramEvent\n\n        let flag = false\n\n        if (!last || last.timeStamp !== now.timeStamp) {\n            // \n            flag = true\n        } else {\n            if (last.touches && now.touches && !compareTouchList(last.touches, now.touches)) {\n                //  touches\n                flag = true\n            } else if ((!last.touches && now.touches) || (last.touches && !now.touches)) {\n                //  touches\n                flag = true\n            }\n\n            if (last.changedTouches && now.changedTouches && !compareTouchList(last.changedTouches, now.changedTouches)) {\n                //  changedTouches\n                flag = true\n            } else if ((!last.changedTouches && now.changedTouches) || (last.changedTouches && !now.changedTouches)) {\n                //  changedTouches\n                flag = true\n            }\n        }\n\n        if (flag) this.$_miniprogramEvent = now\n        return flag\n    }\n\n    /**\n     * \n     */\n    $$clearEvent(eventName, options) {\n        if (typeof eventName !== 'string') return\n\n        let isCapture = false\n        let namespace = null\n\n        if (typeof options === 'boolean') isCapture = options\n        else if (typeof options === 'object') {\n            isCapture = !!options.capture\n            namespace = options.$$namespace\n        }\n\n        eventName = eventName.toLowerCase()\n        const handlers = this.$_getHandlers(eventName, isCapture)\n\n        if (!handlers) return\n\n        if (handlers.length) handlers.length = 0\n        if (handlers._namespace) handlers._namespace[namespace] = null\n    }\n\n    /**\n     *  addEventListener \n     */\n    $$hasEventHandler(eventName) {\n        eventName = eventName.toLowerCase()\n        const bubbleHandlers = this.$_getHandlers(eventName, false)\n        const captureHandlers = this.$_getHandlers(eventName, true)\n        return (bubbleHandlers && bubbleHandlers.length) || (captureHandlers && captureHandlers.length)\n    }\n\n    /**\n     *  window error \n     */\n    $$triggerWindowError(err) {\n        const document = this.ownerDocument\n        const window = document ? document.defaultView : null\n        if (window) {\n            window.$$trigger('error', {\n                event: err,\n            })\n        }\n    }\n\n    /**\n     * \n     */\n    addEventListener(eventName, handler, options) {\n        if (typeof eventName !== 'string' || typeof handler !== 'function') return\n\n        let isCapture = false\n        let namespace = null\n\n        if (typeof options === 'boolean') isCapture = options\n        else if (typeof options === 'object') {\n            isCapture = !!options.capture\n            namespace = options.$$namespace\n        }\n\n        eventName = eventName.toLowerCase()\n        const handlers = this.$_getHandlers(eventName, isCapture, true)\n\n        if (namespace) {\n            // \n            handlers._namespace = handlers._namespace || {}\n            handlers._namespace[namespace] = handlers._namespace[namespace] || []\n            handlers._namespace[namespace].push(handler)\n        } else {\n            handlers.push(handler)\n        }\n    }\n\n    removeEventListener(eventName, handler, options) {\n        if (typeof eventName !== 'string' || typeof handler !== 'function') return\n\n        let isCapture = false\n        let namespace = null\n\n        if (typeof options === 'boolean') isCapture = options\n        else if (typeof options === 'object') {\n            isCapture = !!options.capture\n            namespace = options.$$namespace\n        }\n\n        eventName = eventName.toLowerCase()\n        const handlers = this.$_getHandlers(eventName, isCapture, false)\n\n        if (!handlers) return\n\n        if (namespace) {\n            // \n            if (!handlers._namespace || !handlers._namespace[namespace]) return\n\n            const index = handlers._namespace[namespace].indexOf(handler)\n            if (index >= 0) handlers._namespace[namespace].splice(index, 1)\n        } else {\n            const index = handlers.indexOf(handler)\n            if (index >= 0) handlers.splice(index, 1)\n        }\n    }\n\n    dispatchEvent(evt) {\n        if (evt instanceof CustomEvent) {\n            EventTarget.$$process(this, evt)\n        }\n\n        //  preventDefault true\n        return true\n    }\n}\n\nmodule.exports = EventTarget\n","/**\n * \n */\nfunction checkRelation(node1, node2) {\n    if ((node2 && node2.$$isWindow) || node1 === node2) return true\n\n    while (node1) {\n        if (node1 === node2) return true\n\n        node1 = node1.parentNode\n    }\n\n    return false\n}\n\n/**\n *  Event  CustomEvent \n */\nclass Event {\n    constructor(options) {\n        this.$_name = options.name.toLowerCase()\n        this.$_target = options.target\n        this.$_timeStamp = options.timeStamp || Date.now()\n        this.$_currentTarget = options.currentTarget || options.target\n        this.$_eventPhase = options.eventPhase || Event.NONE\n        this.$_detail = options.detail || null\n        this.$_immediateStop = false\n        this.$_canBubble = true\n        this.$_bubbles = options.bubbles || false\n        this.$_touches = null\n        this.$_targetTouches = null\n        this.$_changedTouches = null\n        this.$_cancelable = true\n        this.$_preventDefault = false\n\n        // \n        const extra = options.$$extra\n        if (extra) {\n            Object.keys(extra).forEach(key => {\n                this[key] = extra[key]\n            })\n        }\n\n        //  touches\n        if (options.touches && options.touches.length) {\n            this.$_touches = options.touches.map(touch => ({...touch, target: options.target}))\n\n            this.$$checkTargetTouches()\n        } else if (options.touches) {\n            this.$_touches = []\n            this.$_targetTouches = []\n        }\n\n        //  changedTouches\n        if (options.changedTouches && options.changedTouches.length) {\n            this.$_changedTouches = options.changedTouches.map(touch => ({...touch, target: options.target}))\n        } else if (options.changedTouches) {\n            this.$_changedTouches = []\n        }\n    }\n\n    /**\n     * \n     */\n    get $$immediateStop() {\n        return this.$_immediateStop\n    }\n\n    /**\n     * \n     */\n    get $$canBubble() {\n        return this.$_canBubble\n    }\n\n    /**\n     * \n     */\n    get $$preventDefault() {\n        return this.$_preventDefault\n    }\n\n    /**\n     *  target\n     */\n    $$setTarget(target) {\n        this.$_target = target\n    }\n\n    /**\n     *  currentTarget\n     */\n    $$setCurrentTarget(currentTarget) {\n        this.$_currentTarget = currentTarget\n        this.$$checkTargetTouches()\n    }\n\n    /**\n     * \n     */\n    $$setEventPhase(eventPhase) {\n        this.$_eventPhase = eventPhase\n    }\n\n    /**\n     *  targetTouches\n     */\n    $$checkTargetTouches() {\n        if (this.$_touches && this.$_touches.length) {\n            this.$_targetTouches = this.$_touches.filter(touch => checkRelation(touch.target, this.$_currentTarget))\n        }\n    }\n\n    /**\n     * \n     */\n    get bubbles() {\n        return this.$_bubbles\n    }\n\n    get cancelable() {\n        return this.$_cancelable\n    }\n\n    get target() {\n        return this.$_target\n    }\n\n    get currentTarget() {\n        return this.$_currentTarget\n    }\n\n    get eventPhase() {\n        return this.$_eventPhase\n    }\n\n    get type() {\n        return this.$_name\n    }\n\n    get timeStamp() {\n        return this.$_timeStamp\n    }\n\n    get touches() {\n        return this.$_touches\n    }\n\n    get targetTouches() {\n        return this.$_targetTouches\n    }\n\n    get changedTouches() {\n        return this.$_changedTouches\n    }\n\n    set detail(value) {\n        this.$_detail = value\n    }\n\n    get detail() {\n        return this.$_detail\n    }\n\n    get returnValue() {\n        return !this.$_preventDefault\n    }\n\n    set returnValue(value) {\n        if (value !== undefined) {\n            this.$_preventDefault = !value\n        }\n    }\n\n    preventDefault() {\n        //  a \n        this.$_preventDefault = true\n    }\n\n    stopPropagation() {\n        if (this.eventPhase === Event.NONE) return\n\n        this.$_canBubble = false\n    }\n\n    stopImmediatePropagation() {\n        if (this.eventPhase === Event.NONE) return\n\n        this.$_immediateStop = true\n        this.$_canBubble = false\n    }\n\n    initEvent(name = '', bubbles) {\n        if (typeof name !== 'string') return\n\n        this.$_name = name.toLowerCase()\n        this.$_bubbles = bubbles === undefined ? this.$_bubbles : !!bubbles\n    }\n}\n\n// \nEvent.NONE = 0\nEvent.CAPTURING_PHASE = 1\nEvent.AT_TARGET = 2\nEvent.BUBBLING_PHASE = 3\n\nmodule.exports = Event\n","const EventTarget = require('../event/event-target')\nconst cache = require('../util/cache')\n\nclass Node extends EventTarget {\n    /**\n     *  $$init \n     */\n    $$init(options, tree) {\n        super.$$init()\n\n        this.$_nodeId = options.nodeId // \n        this.$_type = options.type\n        this.$_parentNode = null\n        this.$_tree = tree\n        this.$_pageId = tree.pageId\n    }\n\n    /**\n     *  $$destroy \n     */\n    $$destroy() {\n        super.$$destroy()\n\n        this.$_nodeId = null\n        this.$_type = null\n        this.$_parentNode = null\n        this.$_tree = null\n        this.$_pageId = null\n    }\n\n    /**\n     *  nodeId\n     */\n    get $$nodeId() {\n        return this.$_nodeId\n    }\n\n    /**\n     *  pageId\n     */\n    get $$pageId() {\n        return this.$_pageId\n    }\n\n    /**\n     *  parentNode\n     */\n    $$updateParent(parentNode = null) {\n        this.$_parentNode = parentNode\n    }\n\n    /**\n     * \n     */\n    get parentNode() {\n        return this.$_parentNode\n    }\n\n    get nodeValue() {\n        return null\n    }\n\n    get previousSibling() {\n        const childNodes = this.parentNode && this.parentNode.childNodes || []\n        const index = childNodes.indexOf(this)\n\n        if (index > 0) {\n            return childNodes[index - 1]\n        }\n\n        return null\n    }\n\n    get previousElementSibling() {\n        const childNodes = this.parentNode && this.parentNode.childNodes || []\n        const index = childNodes.indexOf(this)\n\n        if (index > 0) {\n            for (let i = index - 1; i >= 0; i--) {\n                if (childNodes[i].nodeType === Node.ELEMENT_NODE) {\n                    return childNodes[i]\n                }\n            }\n        }\n\n        return null\n    }\n\n    get nextSibling() {\n        const childNodes = this.parentNode && this.parentNode.childNodes || []\n        const index = childNodes.indexOf(this)\n\n        return childNodes[index + 1] || null\n    }\n\n    get nextElementSibling() {\n        const childNodes = this.parentNode && this.parentNode.childNodes || []\n        const index = childNodes.indexOf(this)\n\n        if (index < childNodes.length - 1) {\n            for (let i = index + 1, len = childNodes.length; i < len; i++) {\n                if (childNodes[i].nodeType === Node.ELEMENT_NODE) {\n                    return childNodes[i]\n                }\n            }\n        }\n\n        return null\n    }\n\n    get ownerDocument() {\n        return cache.getDocument(this.$_pageId) || null\n    }\n\n    get childNodes() {\n        return []\n    }\n\n    hasChildNodes() {\n        return false\n    }\n\n    remove() {\n        if (!this.parentNode || !this.parentNode.removeChild) return this\n\n        return this.parentNode.removeChild(this)\n    }\n}\n\n// \nNode.ELEMENT_NODE = 1\nNode.TEXT_NODE = 3\nNode.CDATA_SECTION_NODE = 4\nNode.PROCESSING_INSTRUCTION_NODE = 7\nNode.COMMENT_NODE = 8\nNode.DOCUMENT_NODE = 9\nNode.DOCUMENT_TYPE_NODE = 10\nNode.DOCUMENT_FRAGMENT_NODE = 11\n\nmodule.exports = Node\n","/**\n *  ipv6 \n */\nconst EventTarget = require('../event/event-target')\nconst tool = require('../util/tool')\nconst cache = require('../util/cache')\n\nclass Location extends EventTarget {\n    constructor(pageId) {\n        super()\n\n        this.$_pageId = pageId\n        this.$_pageRoute = tool.getPageRoute(pageId) // \n\n        this.$_protocol = 'https:'\n        this.$_hostname = ''\n        this.$_port = ''\n        this.$_pathname = '/'\n        this.$_search = ''\n        this.$_hash = ''\n\n        this.$_lastHash = ''\n        this.$_lastPathname = ''\n        this.$_lastSearch = ''\n        this.$_lastHref = ''\n        this.$_allowCheck = true //  url  hash \n    }\n\n    /**\n     *  url \n     */\n    $_getOldValues() {\n        return {\n            protocol: this.$_protocol,\n            hostname: this.$_hostname,\n            port: this.$_port,\n            pathname: this.$_pathname,\n            search: this.$_search,\n            hash: this.$_hash,\n        }\n    }\n\n    /**\n     *  href history\n     */\n    $_setHrefWithoutEnterHistory(value) {\n        if (!value || typeof value !== 'string') return\n\n        this.$$startCheckHash()\n\n        if (!/^(([a-zA-Z0-9]+:)|(\\/\\/))/i.test(value)) {\n            // \n            if (value.indexOf('/') === 0) {\n                //  /  pathnamesearchhash\n                value = `${this.origin}${value}`\n            } else if (value.indexOf('#') === 0) {\n                //  #  hash\n                value = `${this.origin}${this.$_pathname}${this.$_search}${value}`\n            } else {\n                //  /  pathname searchhash\n                let pathname = this.$_pathname.split('/')\n                pathname.pop()\n                pathname = pathname.join('/')\n\n                value = `${this.origin}${pathname}/${value}`\n            }\n        }\n\n        const {\n            protocol, hostname, port, hash, search, pathname\n        } = Location.$$parse(value)\n        const oldValues = this.$_getOldValues()\n\n        this.$_protocol = protocol || this.$_protocol\n        this.$_hostname = hostname || this.$_hostname\n        this.$_port = port || ''\n        this.$_pathname = pathname || '/'\n        this.$_search = search || ''\n        this.$_hash = hash || ''\n\n        this.$$endCheckHash()\n        this.$_checkUrl(oldValues)\n    }\n\n    /**\n     *  history\n     */\n    $_enterHistory() {\n        this.$$trigger('$_addToHistory', {\n            event: {\n                href: this.href,\n            }\n        })\n    }\n\n    /**\n     *  url \n     */\n    $_checkUrl(oldValues) {\n        if (!this.$_allowCheck) return false\n\n        const window = cache.getWindow(this.$_pageId)\n\n        if (this.$_protocol !== oldValues.protocol || this.$_hostname !== oldValues.hostname || this.$_port !== oldValues.port) {\n            //  protocolhostname  port  url\n            const jumpUrl = this.href\n\n            //  web \n            this.$_protocol = oldValues.protocol\n            this.$_hostname = oldValues.hostname\n            this.$_port = oldValues.port\n            this.$_pathname = oldValues.pathname\n            this.$_search = oldValues.search\n            this.$_hash = oldValues.hash\n\n            window.$$trigger('pageaccessdenied', {\n                event: {\n                    url: jumpUrl,\n                    type: 'jump',\n                },\n            })\n\n            return false\n        }\n\n        if (this.$_pathname !== oldValues.pathname || this.$_search !== oldValues.search) {\n            const matchRoute = window.$$miniprogram.getMatchRoute(this.$_pathname)\n\n            if (matchRoute) {\n                let param = ['type=jump', `targeturl=${encodeURIComponent(this.href)}`]\n                if (this.$_search) param.push(`search=${encodeURIComponent(this.$_search)}`)\n                if (this.$_hash) param.push(`hash=${encodeURIComponent(this.$_hash)}`)\n\n                param = '?' + param.join('&')\n\n                const callMethod = window.$$miniprogram.isTabBarPage(matchRoute) ? 'switchTab' : 'redirectTo'\n                wx[callMethod]({\n                    url: `${matchRoute}${param}`,\n                })\n\n                if (callMethod === 'switchTab') {\n                    // switchTab \n                    this.$_protocol = oldValues.protocol\n                    this.$_hostname = oldValues.hostname\n                    this.$_port = oldValues.port\n                    this.$_pathname = oldValues.pathname\n                    this.$_search = oldValues.search\n                    this.$_hash = oldValues.hash\n                }\n\n                return true\n            } else {\n                const jumpUrl = this.href\n\n                //  web \n                this.$_protocol = oldValues.protocol\n                this.$_hostname = oldValues.hostname\n                this.$_port = oldValues.port\n                this.$_pathname = oldValues.pathname\n                this.$_search = oldValues.search\n                this.$_hash = oldValues.hash\n\n                window.$$trigger('pagenotfound', {\n                    event: {\n                        url: jumpUrl,\n                        type: 'jump',\n                    },\n                })\n\n                return false\n            }\n        }\n\n        return true\n    }\n\n    /**\n     * \n     */\n    $$open(url) {\n        url = tool.completeURL(url, this.origin, true)\n\n        const window = cache.getWindow(this.$_pageId)\n        const parseRes = Location.$$parse(url)\n\n        if (parseRes.protocol !== this.$_protocol || parseRes.hostname !== this.$_hostname || parseRes.port !== this.$_port) {\n            //  protocolhostname  port  url\n            return window.$$trigger('pageaccessdenied', {\n                event: {\n                    url,\n                    type: 'open',\n                },\n            })\n        }\n\n        const matchRoute = window.$$miniprogram.getMatchRoute(parseRes.pathname || '/')\n\n        if (matchRoute) {\n            let param = ['type=open', `targeturl=${encodeURIComponent(url)}`]\n            if (this.$_search) param.push(`search=${encodeURIComponent(parseRes.search || '')}`)\n            if (this.$_hash) param.push(`hash=${encodeURIComponent(parseRes.hash || '')}`)\n\n            param = '?' + param.join('&')\n\n            const callMethod = window.$$miniprogram.isTabBarPage(matchRoute) ? 'switchTab' : 'navigateTo'\n            wx[callMethod]({\n                url: `${matchRoute}${param}`,\n            })\n        } else {\n            window.$$trigger('pagenotfound', {\n                event: {\n                    url,\n                    type: 'open',\n                },\n            })\n        }\n    }\n\n    /**\n     * \n     */\n    $$reset(url = '') {\n        const {\n            protocol, hostname, port, pathname, hash, search\n        } = Location.$$parse(url)\n\n        this.$_protocol = protocol || 'https:'\n        this.$_hostname = hostname || ''\n        this.$_port = port || ''\n        this.$_pathname = pathname || '/'\n        this.$_search = search || ''\n        this.$_hash = hash || ''\n    }\n\n    /**\n     *  href\n     */\n    static $$parse(href = '') {\n        href = href.trim()\n\n        // protocol\n        let protocol = /^[a-zA-Z0-9]+:/i.exec(href)\n        if (protocol) {\n            protocol = protocol[0].toLowerCase()\n            href = href.slice(protocol.length)\n        }\n\n        //  //\n        if (href.indexOf('//') === 0) {\n            href = href.slice(2)\n        }\n\n        let hostStart = 0\n        let hostEnd = -1\n        let isEnd = false\n        let host\n        for (let i = 0, len = href.length; i < len; i++) {\n            const char = href[i]\n            if ('\\t\\n\\r \"%\\';<>\\\\^`{|}'.indexOf(char) >= 0) {\n                // RFC 2396 hostname \n                if (hostEnd === -1) hostEnd = i\n            } else if ('#/?'.indexOf(char) >= 0) {\n                // host \n                if (hostEnd === -1) hostEnd = i\n                isEnd = true\n            } else if (char === '@') {\n                hostStart = i + 1\n                hostEnd = -1\n            }\n\n            if (isEnd) break\n        }\n\n        if (hostEnd === -1) {\n            host = href.slice(hostStart)\n            href = ''\n        } else {\n            host = href.slice(hostStart, hostEnd)\n            href = href.slice(hostEnd)\n        }\n\n\n        // port\n        let port = /:[0-9]*$/.exec(host)\n        if (port) {\n            port = port[0]\n            host = host.slice(0, host.length - port.length)\n\n            if (port !== ':') port = port.slice(1)\n        } else {\n            port = ''\n        }\n\n        // hostname\n        for (let i = 0, len = host.length; i < len; i++) {\n            const char = host[i]\n            const isValid = (char >= 'a' && char <= 'z') || (char >= 'A' && char <= 'Z') || (char >= '0' && char <= '9') || '.-+_'.indexOf(char) >= 0 || char.charCodeAt(0) > 127\n\n            //  host \n            if (!isValid) {\n                host = host.slice(0, i)\n\n                href = `/${host.slice(i)}${href}`\n            }\n        }\n        const hostname = host.length > 255 ? '' : host.toLowerCase()\n\n        // hash\n        let hash\n        let searchIndex = -1\n        let hashIndex = -1\n        for (let i = 0, len = href.length; i < len; i++) {\n            if (href[i] === '#') {\n                hash = href.slice(i)\n                hashIndex = i\n                break\n            } else if (href[i] === '?' && searchIndex === -1) {\n                searchIndex = i\n            }\n        }\n        hash = hash === '#' ? '' : hash\n\n        // search\n        let search\n        if (searchIndex !== -1) {\n            if (hashIndex === -1) {\n                search = href.slice(searchIndex)\n            } else {\n                search = href.slice(searchIndex, hashIndex)\n            }\n        }\n        search = search === '?' ? '' : search\n\n        // pathname\n        let pathname\n        const firstIndex = searchIndex !== -1 && (hashIndex === -1 || searchIndex < hashIndex) ? searchIndex : hashIndex\n        if (firstIndex > 0) {\n            pathname = href.slice(0, firstIndex)\n        } else if (firstIndex === -1 && href.length > 0) {\n            pathname = href\n        }\n        if (hostname && !pathname) {\n            pathname = '/'\n        }\n\n        return {\n            protocol,\n            hostname,\n            port,\n            pathname,\n            hash,\n            search,\n        }\n    }\n\n    /**\n     *  href\n     */\n    $$setHrefWithoutCheck(value) {\n        this.$_allowCheck = false\n        this.replace(value)\n        this.$_allowCheck = true\n    }\n\n    /**\n     *  hash \n     */\n    $$startCheckHash() {\n        if (!this.$_allowCheck) return\n\n        this.$_lastHash = this.$_hash\n        this.$_lastPathname = this.$_pathname\n        this.$_lastSearch = this.$_search\n        this.$_lastHref = this.href\n    }\n\n    /**\n     *  hash \n     */\n    $$endCheckHash(needCheckUrlChange) {\n        if (!this.$_allowCheck) return\n\n        if ((needCheckUrlChange || (this.$_lastPathname === this.$_pathname && this.$_lastSearch === this.$_search)) && this.$_lastHash !== this.$_hash) {\n            this.$$trigger('hashchange', {\n                event: {\n                    oldURL: this.$_lastHref,\n                    newURL: this.href,\n                }\n            })\n        }\n\n        this.$_lastHash = ''\n        this.$_lastPathname = ''\n        this.$_lastSearch = ''\n        this.$_lastHref = ''\n    }\n\n    /**\n     * \n     */\n    get protocol() {\n        return this.$_protocol\n    }\n\n    set protocol(value) {\n        if (!value || typeof value !== 'string') return\n\n        const parseRes = /^([a-z0-9.+-]+)(:)?$/i.exec(value)\n        const oldValues = this.$_getOldValues()\n\n        if (parseRes) {\n            if (parseRes[2] === ':') {\n                this.$_protocol = value\n            } else {\n                this.$_protocol = `${parseRes[1]}:`\n            }\n\n            if (this.$_checkUrl(oldValues)) this.$_enterHistory()\n        }\n    }\n\n    get host() {\n        return (this.$_hostname || '') + (this.$_port ? ':' + this.$_port : '')\n    }\n\n    set host(value) {\n        if (!value || typeof value !== 'string') return\n\n        const {hostname, port} = Location.$$parse(`//${value}`)\n        const oldValues = this.$_getOldValues()\n\n        this.$_hostname = hostname || this.$_hostname\n        this.$_port = port || ''\n\n        if (this.$_checkUrl(oldValues)) this.$_enterHistory()\n    }\n\n    get hostname() {\n        return this.$_hostname\n    }\n\n    set hostname(value) {\n        if (!value || typeof value !== 'string') return\n\n        const {hostname} = Location.$$parse(`//${value}`)\n        const oldValues = this.$_getOldValues()\n\n        this.$_hostname = hostname || this.$_hostname\n\n        if (this.$_checkUrl(oldValues)) this.$_enterHistory()\n    }\n\n    get port() {\n        return this.$_port\n    }\n\n    set port(value) {\n        value = +value\n\n        if (typeof value !== 'number' || !isFinite(value) || value <= 0) return\n\n        const port = value === 80 ? '' : value + ''\n        const oldValues = this.$_getOldValues()\n\n        this.$_port = port\n\n        if (this.$_checkUrl(oldValues)) this.$_enterHistory()\n    }\n\n    get origin() {\n        return `${this.$_protocol}//${this.host}`\n    }\n\n    set origin(value) {\n        if (!value || typeof value !== 'string') return\n        if (!/^(([a-zA-Z0-9]+:)|(\\/\\/))/i.test(value)) return // \n\n        const {protocol, hostname, port} = Location.$$parse(value)\n        const oldValues = this.$_getOldValues()\n\n        this.$_protocol = protocol || this.$_protocol\n        this.$_hostname = hostname || this.$_hostname\n        this.$_port = port || ''\n\n        if (this.$_checkUrl(oldValues)) this.$_enterHistory()\n    }\n\n    get pathname() {\n        return this.$_pathname\n    }\n\n    set pathname(value) {\n        if (typeof value !== 'string') return\n\n        const oldValues = this.$_getOldValues()\n\n        if (!value || value === '/') {\n            this.$_pathname = '/'\n        } else {\n            if (value[0] !== '/') value = `/${value}`\n\n            const {pathname} = Location.$$parse(`//miniprogram${value}`)\n\n            this.$_pathname = pathname || '/'\n        }\n\n        if (this.$_checkUrl(oldValues)) this.$_enterHistory()\n    }\n\n    get search() {\n        return this.$_search\n    }\n\n    set search(value) {\n        if (typeof value !== 'string') return\n\n        const oldValues = this.$_getOldValues()\n\n        if (!value || value === '?') {\n            this.$_search = ''\n        } else {\n            if (value[0] !== '?') value = `?${value}`\n\n            const {search} = Location.$$parse(`//miniprogram${value}`)\n\n            this.$_search = search || ''\n        }\n\n        if (this.$_checkUrl(oldValues)) this.$_enterHistory()\n    }\n\n    get hash() {\n        return this.$_hash\n    }\n\n    set hash(value) {\n        if (typeof value !== 'string') return\n\n        this.$$startCheckHash()\n\n        if (!value || value === '#') {\n            this.$_hash = ''\n        } else {\n            if (value[0] !== '#') value = `#${value}`\n\n            const {hash} = Location.$$parse(`//miniprogram${value}`)\n\n            this.$_hash = hash || ''\n        }\n\n        this.$$endCheckHash()\n        this.$_enterHistory()\n    }\n\n    get href() {\n        return `${this.$_protocol}//${this.host}${this.$_pathname}${this.$_search}${this.$_hash}`\n    }\n\n    set href(value) {\n        this.$_setHrefWithoutEnterHistory(value)\n        this.$_enterHistory()\n    }\n\n    reload() {\n        const window = cache.getWindow(this.$_pageId)\n        let param = ['type=jump', `targeturl=${encodeURIComponent(this.href)}`]\n        if (this.$_search) param.push(`search=${encodeURIComponent(this.$_search)}`)\n        if (this.$_hash) param.push(`hash=${encodeURIComponent(this.$_hash)}`)\n\n        param = '?' + param.join('&')\n\n        const callMethod = window.$$miniprogram.isTabBarPage(this.$_pageRoute) ? 'switchTab' : 'redirectTo'\n        wx[callMethod]({\n            url: `${this.$_pageRoute}${param}`,\n        })\n    }\n\n    replace(value) {\n        //  location.href  history\n        this.$_setHrefWithoutEnterHistory(value)\n    }\n\n    toString() {\n        return this.href\n    }\n}\n\nmodule.exports = Location\n","const originalStyleList = require('./style-list')\nconst tool = require('../util/tool')\nconst Pool = require('../util/pool')\nconst cache = require('../util/cache')\n\nconst pool = new Pool()\nlet styleList = [].concat(originalStyleList)\nlet isInitStyleList = false\n\n/**\n * \n */\nfunction toDash(name) {\n    if (name.indexOf('webkit') === 0) name = name.replace('webkit', 'Webkit')\n    return tool.toDash(name)\n}\n\n/**\n * \n */\nfunction toCamel(name) {\n    if (name.indexOf('-webkit-') === 0) name = name.replace('-webkit-', 'webkit-')\n    return tool.toCamel(name)\n}\n\n/**\n * \n */\nfunction parse(styleText) {\n    const rules = {}\n\n    if (styleText) {\n        styleText = tool.decodeContent(styleText)\n        styleText = styleText.replace(/url\\([^)]+\\)/ig, all => all.replace(/;/ig, ':#||#:')) // \n        styleText.split(';').forEach(rule => {\n            rule = rule.trim()\n            if (!rule) return\n\n            const split = rule.indexOf(':')\n            if (split === -1) return\n\n            const name = toCamel(rule.substr(0, split).trim())\n            rules[name] = rule.substr(split + 1).replace(/:#\\|\\|#:/ig, ';').trim()\n        })\n    }\n\n    return rules\n}\n\nclass Style {\n    constructor(onUpdate) {\n        this.$$init(onUpdate)\n    }\n\n    /**\n     *  style \n     */\n    static $$initStyleList(extraStyleList = []) {\n        if (isInitStyleList) return\n\n        isInitStyleList = true\n        styleList = styleList.concat(extraStyleList)\n\n        //  gettersetter\n        const properties = {}\n        styleList.forEach(name => {\n            properties[name] = {\n                get() {\n                    return this[`$_${name}`] || ''\n                },\n                set(value) {\n                    // const config = cache.getConfig()\n                    const oldValue = this[`$_${name}`]\n                    value = value !== undefined ? '' + value : undefined\n\n                    //  value \n                    // if (value && config.optimization.styleValueReduce && value.length > config.optimization.styleValueReduce) {\n                    //     console.warn(`property \"${name}\" will be deleted, because it's greater than ${config.optimization.styleValueReduce}`)\n                    //     value = undefined\n                    // }\n\n                    this[`$_${name}`] = value\n                    if (oldValue !== value) this.$_checkUpdate()\n                },\n            }\n        })\n        Object.defineProperties(Style.prototype, properties)\n    }\n\n    /**\n     * \n     */\n    static $$create(onUpdate) {\n        const config = cache.getConfig()\n\n        if (config.optimization.domExtendMultiplexing) {\n            //  dom \n            const instance = pool.get()\n\n            if (instance) {\n                instance.$$init(onUpdate)\n                return instance\n            }\n        }\n\n        return new Style(onUpdate)\n    }\n\n    /**\n     * \n     */\n    $$init(onUpdate) {\n        this.$_doUpdate = onUpdate || (() => {})\n        this.$_disableCheckUpdate = false // \n        this.$__vars = null\n    }\n\n    /**\n     * \n     */\n    $$destroy() {\n        this.$_doUpdate = null\n        this.$_disableCheckUpdate = false\n        this.$__vars = null\n\n        styleList.forEach(name => {\n            this[`$_${name}`] = undefined\n        })\n    }\n\n    /**\n     * \n     */\n    $$recycle() {\n        this.$$destroy()\n\n        const config = cache.getConfig()\n\n        if (config.optimization.domExtendMultiplexing) {\n            //  dom \n            pool.add(this)\n        }\n    }\n\n    /**\n     * css \n     */\n    get $_vars() {\n        if (!this.$__vars) this.$__vars = {}\n        return this.$__vars\n    }\n\n    /**\n     * \n     */\n    $_checkUpdate() {\n        if (!this.$_disableCheckUpdate) {\n            this.$_doUpdate()\n        }\n    }\n\n    /**\n     * \n     */\n    get cssText() {\n        let joinText = styleList\n            .filter(name => this[`$_${name}`])\n            .map(name => `${toDash(name)}:${this['$_' + name]}`)\n            .join(';')\n            .trim()\n        joinText = joinText ? `${joinText};` : ''\n\n        if (this.$__vars) {\n            const vars = this.$_vars\n            const varsText = Object\n                .keys(vars)\n                .filter(name => vars[name])\n                .map(name => `${name}:${vars[name]}`)\n                .join(';')\n                .trim()\n            joinText = varsText ? `${joinText}${varsText};` : joinText\n        }\n\n        return joinText\n    }\n\n    set cssText(styleText) {\n        if (typeof styleText !== 'string') return\n\n        // \n        if (!(styleText.indexOf('\"') > -1 && styleText.indexOf('\\'') > -1)) {\n            styleText = styleText.replace(/\"/g, '\\'')\n        }\n\n        // \n        const rules = parse(styleText)\n\n        this.$_disableCheckUpdate = true // \n        for (const name of styleList) {\n            this.setProperty(name, rules[name])\n        }\n        this.$_disableCheckUpdate = false\n        this.$_checkUpdate()\n    }\n\n    setProperty(name, value) {\n        if (typeof name !== 'string') return ''\n\n        if (name.indexOf('--') === 0) {\n            this.$_vars[name] = value // css \n            this.$_checkUpdate()\n        } else this[name] = value\n    }\n\n    getPropertyValue(name) {\n        if (typeof name !== 'string') return ''\n\n        if (name.indexOf('--') === 0) return this.$_vars[name] || ''\n        else return this[toCamel(name)] || ''\n    }\n}\n\nmodule.exports = Style\n","const EventTarget = require('./event/event-target')\nconst Event = require('./event/event')\nconst Tree = require('./tree/tree')\nconst Node = require('./node/node')\nconst Element = require('./node/element')\nconst TextNode = require('./node/text-node')\nconst Comment = require('./node/comment')\nconst tool = require('./util/tool')\nconst cache = require('./util/cache')\nconst A = require('./node/element/a')\nconst Image = require('./node/element/image')\nconst Input = require('./node/element/input')\nconst Textarea = require('./node/element/textarea')\nconst Video = require('./node/element/video')\nconst Canvas = require('./node/element/canvas')\nconst Select = require('./node/element/select')\nconst Option = require('./node/element/option')\nconst NotSupport = require('./node/element/not-support')\nconst WxComponent = require('./node/element/wx-component')\nconst WxCustomComponent = require('./node/element/wx-custom-component')\nconst Cookie = require('./bom/cookie')\n\n// eslint-disable-next-line no-var, block-scoped-var, semi\nvar $wx;\n\nif (typeof $wx === 'undefined' && typeof my !== 'undefined') {\n    // \n    // eslint-disable-next-line no-undef\n    $wx = my\n} else {\n    $wx = wx\n}\n\nconst CONSTRUCTOR_MAP = {\n    A,\n    IMG: Image,\n    INPUT: Input,\n    TEXTAREA: Textarea,\n    VIDEO: Video,\n    CANVAS: Canvas,\n    SELECT: Select,\n    OPTION: Option,\n}\nconst WX_COMPONENT_TRANSFORM_LIST = ['checkbox', 'checkbox-group', 'input', 'label', 'radio', 'radio-group', 'textarea', 'canvas'] //  wx-xxx  xxx \nlet WX_CUSTOM_COMPONENT_MAP = {}\n\n/**\n *  wx-xxx  dom \n */\nfunction transformWxComponent2Dom(wxComponentName, options, tree) {\n    let groupEvent = null\n    if (wxComponentName === 'radio' || wxComponentName === 'checkbox') {\n        options.attrs.type = wxComponentName\n        wxComponentName = 'input'\n    } else if (wxComponentName === 'radio-group' || wxComponentName === 'checkbox-group') {\n        groupEvent = wxComponentName.split('-')[0]\n        wxComponentName = 'div'\n    }\n    options.tagName = wxComponentName\n    delete options.attrs.behavior\n    const normalElement = CONSTRUCTOR_MAP[wxComponentName.toUpperCase()] || Element\n    const element = normalElement.$$create(options, tree)\n\n    if (groupEvent) {\n        // group  div\n        element.addEventListener('change', evt => {\n            if (!evt.$$isGroup) evt.stopImmediatePropagation()\n        })\n        element.addEventListener(`$$${groupEvent}Change`, evt => {\n            const detail = {}\n            if (groupEvent === 'radio') {\n                (element.querySelectorAll('input[type=radio]') || []).forEach(item => {\n                    if (item !== evt.target) item.setAttribute('checked', false)\n                })\n                detail.value = evt.target.value\n            } else if (groupEvent === 'checkbox') {\n                detail.value = (element.querySelectorAll('input[type=checkbox]') || [])\n                    .filter(item => item.checked)\n                    .map(item => item.value)\n            }\n\n            element.$$trigger('change', {\n                event: new Event({\n                    timeStamp: evt.timeStamp,\n                    touches: evt.touches,\n                    changedTouches: evt.changedTouches,\n                    name: 'change',\n                    target: element,\n                    eventPhase: Event.AT_TARGET,\n                    detail,\n                    $$extra: {$$isGroup: true},\n                }),\n                currentTarget: element,\n            })\n        })\n    }\n\n    return element\n}\n\n\nclass Document extends EventTarget {\n    constructor(pageId, nodeIdMap) {\n        super()\n\n        const config = cache.getConfig()\n        const runtime = config.runtime || {}\n        const cookieStore = runtime.cookieStore\n        WX_CUSTOM_COMPONENT_MAP = runtime.usingComponents || {}\n\n        this.$_pageId = pageId\n        const pageRoute = tool.getPageRoute(pageId)\n        const pageName = tool.getPageName(pageRoute)\n\n        // \n        const that = this\n        this.$_imageConstructor = function HTMLImageElement(width, height) {\n            return Image.$$create({\n                tagName: 'img',\n                nodeId: `b-${tool.getId()}`, //  b- \n                attrs: {},\n                width,\n                height,\n            }, that.$_tree)\n        }\n\n        this.$_pageId = pageId\n        this.$_tree = new Tree(pageId, {\n            type: 'element',\n            tagName: 'body',\n            attrs: {},\n            unary: false,\n            nodeId: 'e-body',\n            children: [],\n        }, nodeIdMap, this)\n        this.$_cookie = new Cookie(pageName)\n        this.$_config = null\n\n        // documentElement\n        this.$_node = this.$$createElement({\n            tagName: 'html',\n            attrs: {},\n            nodeId: `a-${tool.getId()}`, //  a- \n        })\n        this.$_node.$$updateParent(this) // documentElement  parentNode  document\n\n        // head \n        this.$_head = this.createElement('head')\n\n        //  body  parentNode\n        this.$_tree.root.$$updateParent(this.$_node)\n        this.$_node.$$children.push(this.$_tree.root)\n\n        //  cookie\n        if (cookieStore !== 'memory' && cookieStore !== 'globalmemory') {\n            try {\n                const key = cookieStore === 'storage' ? `PAGE_COOKIE_${pageName}` : 'PAGE_COOKIE'\n                const cookie = $wx.getStorageSync(key)\n                if (cookie) this.$$cookieInstance.deserialize(cookie)\n            } catch (err) {\n                // ignore\n            }\n        }\n    }\n\n    /**\n     * Image \n     */\n    get $$imageConstructor() {\n        return this.$_imageConstructor\n    }\n\n    get $$pageId() {\n        return this.$_pageId\n    }\n\n    /**\n     *  cookie httpOnly \n     */\n    get $$cookie() {\n        return this.$_cookie.getCookie(this.URL, true)\n    }\n\n    /**\n     *  cookie \n     */\n    get $$cookieInstance() {\n        return this.$_cookie\n    }\n\n    /**\n     * \n     */\n    get $$notNeedPrefix() {\n        if (!this.$_config) this.$_config = cache.getConfig()\n        return this.$_config && this.$_config.runtime && this.$_config.runtime.wxComponent === 'noprefix'\n    }\n\n    /**\n     * \n     */\n    set $$visibilityState(value) {\n        this.$_visibilityState = value\n    }\n\n    /**\n     * \n     */\n    $$trigger(eventName, options) {\n        this.documentElement.$$trigger(eventName, options)\n    }\n\n    /**\n     * \n     */\n    $$createElement(options, tree) {\n        const originTagName = options.tagName\n        const tagName = originTagName.toUpperCase()\n        let wxComponentName = null\n        tree = tree || this.$_tree\n\n        const constructorClass = CONSTRUCTOR_MAP[tagName]\n        if (constructorClass) {\n            return constructorClass.$$create(options, tree)\n        } else if (tagName === 'WX-COMPONENT') {\n            options.attrs = options.attrs || {}\n            const behavior = options.attrs.behavior\n            if (behavior && WX_COMPONENT_TRANSFORM_LIST.indexOf(behavior) !== -1) return transformWxComponent2Dom(behavior, options, tree) //  dom\n            else return WxComponent.$$create(options, tree)\n        // eslint-disable-next-line no-cond-assign\n        } else if (wxComponentName = tool.checkIsWxComponent(originTagName, this.$$notNeedPrefix)) {\n            //  wx-component \n            options.attrs = options.attrs || {}\n            if (WX_COMPONENT_TRANSFORM_LIST.indexOf(wxComponentName) !== -1) return transformWxComponent2Dom(wxComponentName, options, tree) //  dom\n            else {\n                options.tagName = 'wx-component'\n                options.attrs.behavior = wxComponentName\n                return WxComponent.$$create(options, tree)\n            }\n        } else if (WX_CUSTOM_COMPONENT_MAP[originTagName]) {\n            //  wx-custom-component \n            options.tagName = 'wx-custom-component'\n            options.attrs = options.attrs || {}\n            options.componentName = originTagName\n            return WxCustomComponent.$$create(options, tree)\n        } else if (!tool.isTagNameSupport(tagName)) {\n            return NotSupport.$$create(options, tree)\n        } else {\n            return Element.$$create(options, tree)\n        }\n    }\n\n    /**\n     * \n     */\n    $$createTextNode(options, tree) {\n        return TextNode.$$create(options, tree || this.$_tree)\n    }\n\n    /**\n     * \n     */\n    $$createComment(options, tree) {\n        return Comment.$$create(options, tree || this.$_tree)\n    }\n\n    /**\n     *  Set-Cookie \n     */\n    $$setCookie(str) {\n        if (str && typeof str === 'string') {\n            let start = 0\n            let startSplit = 0\n            let nextSplit = str.indexOf(',', startSplit)\n            const cookies = []\n\n            while (nextSplit >= 0) {\n                const lastSplitStr = str.substring(start, nextSplit)\n                const splitStr = str.substr(nextSplit)\n\n                if (/^,\\s*([^,=;\\x00-\\x1F]+)=([^;\\n\\r\\0\\x00-\\x1F]*).*/.test(splitStr)) {\n                //  cookie\n                    cookies.push(lastSplitStr)\n                    start = nextSplit + 1\n                }\n\n                startSplit = nextSplit + 1\n                nextSplit = str.indexOf(',', startSplit)\n            }\n\n            //  cookie\n            cookies.push(str.substr(start))\n\n            cookies.forEach(cookie => this.cookie = cookie)\n        }\n    }\n\n    /**\n     * \n     */\n    get nodeType() {\n        return Node.DOCUMENT_NODE\n    }\n\n    get documentElement() {\n        return this.$_node\n    }\n\n    get body() {\n        return this.$_tree.root\n    }\n\n    get nodeName() {\n        return '#document'\n    }\n\n    get head() {\n        return this.$_head\n    }\n\n    get defaultView() {\n        return cache.getWindow(this.$_pageId) || null\n    }\n\n    get URL() {\n        if (this.defaultView) return this.defaultView.location.href\n\n        return ''\n    }\n\n    get cookie() {\n        return this.$_cookie.getCookie(this.URL)\n    }\n\n    set cookie(value) {\n        if (!value || typeof value !== 'string') return\n\n        this.$_cookie.setCookie(value, this.URL)\n    }\n\n    get visibilityState() {\n        return this.$_visibilityState\n    }\n\n    get hidden() {\n        return this.$_visibilityState === 'visible'\n    }\n\n    get location() {\n        if (this.defaultView) return this.defaultView.location\n\n        return null\n    }\n\n    get children() {\n        return [this.$_node]\n    }\n\n    get childNodes() {\n        return [this.$_node]\n    }\n\n    getElementById(id) {\n        if (typeof id !== 'string') return\n\n        return this.$_tree.getById(id) || null\n    }\n\n    getElementsByTagName(tagName) {\n        if (typeof tagName !== 'string') return []\n\n        return this.$_tree.getByTagName(tagName, this.documentElement)\n    }\n\n    getElementsByClassName(className) {\n        if (typeof className !== 'string') return []\n\n        return this.$_tree.getByClassName(className, this.documentElement)\n    }\n\n    getElementsByName(name) {\n        if (typeof name !== 'string') return []\n\n        return this.$_tree.query(`*[name=${name}]`, this.documentElement)\n    }\n\n    querySelector(selector) {\n        if (typeof selector !== 'string') return\n\n        return this.$_tree.query(selector, this.documentElement)[0] || null\n    }\n\n    querySelectorAll(selector) {\n        if (typeof selector !== 'string') return []\n\n        return this.$_tree.query(selector, this.documentElement)\n    }\n\n    createElement(tagName) {\n        if (typeof tagName !== 'string') return\n\n        tagName = tagName.trim()\n        if (!tagName) return\n\n        return this.$$createElement({\n            tagName,\n            nodeId: `b-${tool.getId()}`, //  b- \n        })\n    }\n\n    createElementNS(ns, tagName) {\n        //  createElementNS createElement\n        return this.createElement(tagName)\n    }\n\n    createTextNode(content) {\n        content = '' + content\n\n        return this.$$createTextNode({\n            content,\n            nodeId: `b-${tool.getId()}`, //  b- \n        })\n    }\n\n    createComment() {\n        // \n        return this.$$createComment({\n            nodeId: `b-${tool.getId()}`, //  b- \n        })\n    }\n\n    createDocumentFragment() {\n        return Element.$$create({\n            tagName: 'documentfragment',\n            nodeId: `b-${tool.getId()}`, //  b- \n            nodeType: Node.DOCUMENT_FRAGMENT_NODE,\n        }, this.$_tree)\n    }\n\n    createEvent() {\n        const window = cache.getWindow(this.$_pageId)\n\n        return new window.CustomEvent()\n    }\n\n    addEventListener(eventName, handler, options) {\n        this.documentElement.addEventListener(eventName, handler, options)\n    }\n\n    removeEventListener(eventName, handler, isCapture) {\n        this.documentElement.removeEventListener(eventName, handler, isCapture)\n    }\n\n    dispatchEvent(evt) {\n        this.documentElement.dispatchEvent(evt)\n    }\n}\n\nmodule.exports = Document\n","const Event = require('./event')\n\nclass CustomEvent extends Event {\n    constructor(name = '', options = {}) {\n        super({\n            name,\n            ...options,\n        })\n    }\n}\n\nmodule.exports = CustomEvent\n","/**\n * babel extends  Arrayhttps://babeljs.io/docs/en/caveats/#classes\n */\nconst Pool = require('../util/pool')\nconst cache = require('../util/cache')\n\nconst pool = new Pool()\n\nfunction ClassList(onUpdate) {\n    this.$$init(onUpdate)\n}\n\n/**\n * \n */\nClassList.$$create = function(onUpdate) {\n    const config = cache.getConfig()\n\n    if (config.optimization.domExtendMultiplexing) {\n    //  dom \n        const instance = pool.get()\n\n        if (instance) {\n            instance.$$init(onUpdate)\n            return instance\n        }\n    }\n\n    return new ClassList(onUpdate)\n}\n\nClassList.prototype = Object.assign([], {\n    /**\n     * \n     */\n    $$init(onUpdate) {\n        this.$_doUpdate = onUpdate\n    },\n\n    /**\n     * \n     */\n    $$destroy() {\n        this.$_doUpdate = null\n        this.length = 0\n    },\n\n    /**\n     * \n     */\n    $$recycle() {\n        this.$$destroy()\n\n        const config = cache.getConfig()\n\n        if (config.optimization.domExtendMultiplexing) {\n            //  dom \n            pool.add(this)\n        }\n    },\n\n    /**\n     *  className\n     */\n    $$parse(className = '') {\n        this.length = 0 // \n\n        className = className.trim()\n        className = className ? className.split(/\\s+/) : []\n\n        for (const item of className) {\n            this.push(item)\n        }\n\n        this.$_doUpdate()\n    },\n\n    /**\n     * \n     */\n    item(index) {\n        return this[index]\n    },\n\n    contains(className) {\n        if (typeof className !== 'string') return false\n\n        return this.indexOf(className) !== -1\n    },\n\n    add(...args) {\n        let isUpdate = false\n\n        for (let className of args) {\n            if (typeof className !== 'string') continue\n\n            className = className.trim()\n\n            if (className && this.indexOf(className) === -1) {\n                this.push(className)\n                isUpdate = true\n            }\n        }\n\n        if (isUpdate) this.$_doUpdate()\n    },\n\n    remove(...args) {\n        let isUpdate = false\n\n        for (let className of args) {\n            if (typeof className !== 'string') continue\n\n            className = className.trim()\n\n            if (!className) continue\n\n            const index = this.indexOf(className)\n            if (index >= 0) {\n                this.splice(index, 1)\n                isUpdate = true\n            }\n        }\n\n        if (isUpdate) this.$_doUpdate()\n    },\n\n    toggle(className, force) {\n        if (typeof className !== 'string') return false\n\n        className = className.trim()\n\n        if (!className) return false\n\n        const isNotContain = this.indexOf(className) === -1\n        let action = isNotContain ? 'add' : 'remove'\n        action = force === true ? 'add' : force === false ? 'remove' : action\n\n        if (action === 'add') {\n            this.add(className)\n        } else {\n            this.remove(className)\n        }\n\n        return force === true || force === false ? force : isNotContain\n    },\n\n    toString() {\n        return this.join(' ')\n    },\n})\n\nmodule.exports = ClassList\n","const Pool = require('../util/pool')\nconst cache = require('../util/cache')\nconst tool = require('../util/tool')\n\nconst pool = new Pool()\n\nclass Attribute {\n    constructor(element, onUpdate) {\n        this.$$init(element, onUpdate)\n    }\n\n    /**\n     * \n     */\n    static $$create(element, onUpdate) {\n        const config = cache.getConfig()\n\n        if (config.optimization.domExtendMultiplexing) {\n            //  dom \n            const instance = pool.get()\n\n            if (instance) {\n                instance.$$init(element, onUpdate)\n                return instance\n            }\n        }\n\n        return new Attribute(element, onUpdate)\n    }\n\n    /**\n     * \n     */\n    $$init(element, onUpdate) {\n        this.$_element = element\n        this.$_doUpdate = onUpdate\n        this.$_map = {}\n        this.$_list = []\n\n        this.triggerUpdate()\n    }\n\n    /**\n     * \n     */\n    $$destroy() {\n        this.$_element = null\n        this.$_doUpdate = null\n        this.$_map = null\n        this.$_list = null\n    }\n\n    /**\n     * \n     */\n    $$recycle() {\n        this.$$destroy()\n\n        const config = cache.getConfig()\n\n        if (config.optimization.domExtendMultiplexing) {\n            //  dom \n            pool.add(this)\n        }\n    }\n\n    /**\n     * \n     */\n    get map() {\n        return this.$_map\n    }\n\n    /**\n     * \n     */\n    get list() {\n        return this.$_list\n    }\n\n    /**\n     * \n     */\n    set(name, value) {\n        const element = this.$_element\n        const map = this.$_map\n\n        if (name === 'id') {\n            map.id = value\n        } else if (name === 'class' || (element.tagName === 'WX-COMPONENT' && name === 'className')) {\n            element.className = value\n        } else if (name === 'style') {\n            element.style.cssText = value\n        } else if (name.indexOf('data-') === 0) {\n            const datasetName = tool.toCamel(name.substr(5))\n            element.dataset[datasetName] = value\n        } else {\n            // const config = cache.getConfig()\n\n            //  value \n            // if (typeof value === 'string' && config.optimization.attrValueReduce && value.length > config.optimization.attrValueReduce) {\n            //     console.warn(`property \"${name}\" will be deleted, because it's greater than ${config.optimization.attrValueReduce}`)\n            //     value = ''\n            // }\n\n            map[name] = value\n\n            // canvas  node  width/height \n            if ((name === 'width' || name === 'height') && element.tagName === 'CANVAS' && element.$$node) {\n                element.$$node[name] = value\n            }\n\n            // \n            this.$_doUpdate()\n        }\n\n        this.triggerUpdate()\n    }\n\n    /**\n     * \n     */\n    get(name) {\n        const element = this.$_element\n        const map = this.$_map\n\n        if (name === 'id') {\n            return map.id || ''\n        } if (name === 'class') {\n            return element.className\n        } else if (name === 'style') {\n            return element.style.cssText\n        } else if (name.indexOf('data-') === 0) {\n            const datasetName = tool.toCamel(name.substr(5))\n            if (!element.$__dataset) return undefined\n            return element.dataset[datasetName]\n        } else {\n            return map[name]\n        }\n    }\n\n    /**\n     * \n     */\n    has(name) {\n        const element = this.$_element\n        const map = this.$_map\n\n        if (name === 'id') {\n            return !!element.id\n        } else if (name === 'class') {\n            return !!element.className\n        } else if (name === 'style') {\n            return !!element.style.cssText\n        } else if (name.indexOf('data-') === 0) {\n            const datasetName = tool.toCamel(name.substr(5))\n            if (!element.$__dataset) return false\n            return Object.prototype.hasOwnProperty.call(element.dataset, datasetName)\n        } else {\n            return Object.prototype.hasOwnProperty.call(map, name)\n        }\n    }\n\n    /**\n     * \n     */\n    remove(name) {\n        const element = this.$_element\n        const map = this.$_map\n\n        if (name === 'id') {\n            element.id = ''\n        } else if (name === 'class' || name === 'style') {\n            this.set(name, '')\n        } else if (name.indexOf('data-') === 0) {\n            const datasetName = tool.toCamel(name.substr(5))\n            if (element.$__dataset) delete element.dataset[datasetName]\n        } else {\n            // \n            delete map[name]\n            this.$_doUpdate()\n        }\n\n        this.triggerUpdate()\n    }\n\n    /**\n     * \n     */\n    triggerUpdate() {\n        const map = this.$_map\n        const list = this.$_list\n\n        // \n        list.forEach(item => {\n            delete list[item.name]\n        })\n        delete list.class\n        delete list.style\n        list.length = 0\n\n        // \n        Object.keys(map).forEach(name => {\n            if (name !== 'id') {\n                const item = {name, value: map[name]}\n\n                list.push(item)\n                list[name] = item\n            }\n        })\n\n        const idValue = this.get('id')\n        const classValue = this.get('class')\n        const styleValue = this.get('style')\n        if (idValue) {\n            const item = {name: 'id', value: idValue}\n            list.push(item)\n            list.id = item\n        }\n        if (classValue) {\n            const item = {name: 'class', value: classValue}\n            list.push(item)\n            list.class = item\n        }\n        if (styleValue) {\n            const item = {name: 'style', value: styleValue}\n            list.push(item)\n            list.style = item\n        }\n    }\n}\n\nmodule.exports = Attribute\n","const Node = require('./node')\nconst tool = require('../util/tool')\nconst Pool = require('../util/pool')\nconst cache = require('../util/cache')\n\nconst pool = new Pool()\n\nclass TextNode extends Node {\n    /**\n     * \n     */\n    static $$create(options, tree) {\n        const config = cache.getConfig()\n\n        if (config.optimization.textMultiplexing) {\n            //  text \n            const instance = pool.get()\n\n            if (instance) {\n                instance.$$init(options, tree)\n                return instance\n            }\n        }\n\n        return new TextNode(options, tree)\n    }\n\n    /**\n     *  $$init \n     */\n    $$init(options, tree) {\n        options.type = 'text'\n\n        super.$$init(options, tree)\n\n        this.$_content = options.content || ''\n    }\n\n    /**\n     *  $$destroy \n     */\n    $$destroy() {\n        super.$$destroy()\n\n        this.$_content = ''\n    }\n\n    /**\n     * \n     */\n    $$recycle() {\n        this.$$destroy()\n\n        const config = cache.getConfig()\n\n        if (config.optimization.textMultiplexing) {\n            //  text \n            pool.add(this)\n        }\n    }\n\n    /**\n     * \n     */\n    $_triggerParentUpdate() {\n        if (this.parentNode) this.parentNode.$$trigger('$$childNodesUpdate')\n    }\n\n    /**\n     *  dom \n     */\n    get $$domInfo() {\n        return {\n            nodeId: this.$_nodeId,\n            pageId: this.$_pageId,\n            type: this.$_type,\n            content: this.$_content,\n        }\n    }\n\n    /**\n     * \n     */\n    get nodeName() {\n        return '#text'\n    }\n\n    get nodeType() {\n        return Node.TEXT_NODE\n    }\n\n    get nodeValue() {\n        return this.textContent\n    }\n\n    set nodeValue(value) {\n        this.textContent = value\n    }\n\n    get textContent() {\n        return this.$_content\n    }\n\n    set textContent(value) {\n        value += ''\n\n        this.$_content = value\n        this.$_triggerParentUpdate()\n    }\n\n    get data() {\n        return this.textContent\n    }\n\n    set data(value) {\n        this.textContent = value\n    }\n\n    cloneNode() {\n        return this.ownerDocument.$$createTextNode({\n            content: this.$_content,\n            nodeId: `b-${tool.getId()}`, //  b- \n        })\n    }\n}\n\nmodule.exports = TextNode\n","const Node = require('./node')\nconst tool = require('../util/tool')\nconst Pool = require('../util/pool')\nconst cache = require('../util/cache')\n\nconst pool = new Pool()\n\nclass Comment extends Node {\n    /**\n     * \n     */\n    static $$create(options, tree) {\n        const config = cache.getConfig()\n\n        if (config.optimization.commentMultiplexing) {\n            //  comment \n            const instance = pool.get()\n\n            if (instance) {\n                instance.$$init(options, tree)\n                return instance\n            }\n        }\n\n        return new Comment(options, tree)\n    }\n\n    /**\n     *  $$init \n     */\n    $$init(options, tree) {\n        options.type = 'comment'\n\n        super.$$init(options, tree)\n    }\n\n    /**\n     * \n     */\n    $$recycle() {\n        this.$$destroy()\n\n        const config = cache.getConfig()\n\n        if (config.optimization.commentMultiplexing) {\n            //  comment \n            pool.add(this)\n        }\n    }\n\n    /**\n     *  dom \n     */\n    get $$domInfo() {\n        return {\n            nodeId: this.$_nodeId,\n            pageId: this.$_pageId,\n            type: this.$_type,\n        }\n    }\n\n    /**\n     * \n     */\n    get nodeName() {\n        return '#comment'\n    }\n\n    get nodeType() {\n        return Node.COMMENT_NODE\n    }\n\n    cloneNode() {\n        return this.ownerDocument.$$createComment({\n            nodeId: `b-${tool.getId()}`, //  b- \n        })\n    }\n}\n\nmodule.exports = Comment\n","const tool = require('./util/tool')\nconst cache = require('./util/cache')\nconst Window = require('./window')\nconst Document = require('./document')\nconst EventTarget = require('./event/event-target')\nconst Event = require('./event/event')\nconst Style = require('./node/style')\n\nmodule.exports = {\n    createPage(route, config) {\n        if (config) cache.setConfig(config)\n\n        const runtime = config && config.runtime || {}\n        Style.$$initStyleList(runtime.extraStyleList)\n\n        const pageId = `p-${tool.getId()}-/${route}`\n        const window = new Window(pageId)\n        const nodeIdMap = {}\n        const document = new Document(pageId, nodeIdMap)\n\n        cache.init(pageId, {\n            window,\n            document,\n            nodeIdMap,\n        })\n\n        return {\n            pageId,\n            window,\n            document,\n        }\n    },\n\n    destroyPage(pageId) {\n        cache.destroy(pageId)\n    },\n\n    //  miniprogram-element\n    $$adapter: {\n        cache,\n        EventTarget,\n        Event,\n        tool,\n    },\n}\n","const Document = require('./document')\nconst EventTarget = require('./event/event-target')\nconst Event = require('./event/event')\nconst OriginalCustomEvent = require('./event/custom-event')\nconst Location = require('./bom/location')\nconst Navigator = require('./bom/navigator')\nconst Screen = require('./bom/screen')\nconst History = require('./bom/history')\nconst Miniprogram = require('./bom/miniprogram')\nconst {SessionStorage, LocalStorage} = require('./bom/storage')\nconst WorkerImpl = require('./bom/worker')\nconst Performance = require('./bom/performance')\nconst OriginalXMLHttpRequest = require('./bom/xml-http-request')\nconst Node = require('./node/node')\nconst Element = require('./node/element')\nconst TextNode = require('./node/text-node')\nconst Comment = require('./node/comment')\nconst ClassList = require('./node/class-list')\nconst Style = require('./node/style')\nconst Attribute = require('./node/attribute')\nconst cache = require('./util/cache')\nconst tool = require('./util/tool')\n\n// eslint-disable-next-line no-var, block-scoped-var, semi\nvar $wx;\n\nif (typeof $wx === 'undefined' && typeof my !== 'undefined') {\n    // \n    // eslint-disable-next-line no-undef\n    $wx = my\n} else {\n    $wx = wx\n}\n\nlet lastRafTime = 0\nconst WINDOW_PROTOTYPE_MAP = {\n    location: Location.prototype,\n    navigator: Navigator.prototype,\n    performance: Performance.prototype,\n    screen: Screen.prototype,\n    history: History.prototype,\n    localStorage: LocalStorage.prototype,\n    sessionStorage: SessionStorage.prototype,\n    XMLHttpRequest: OriginalXMLHttpRequest.prototype,\n    event: Event.prototype,\n}\nconst ELEMENT_PROTOTYPE_MAP = {\n    attribute: Attribute.prototype,\n    classList: ClassList.prototype,\n    style: Style.prototype,\n}\nconst subscribeMap = {}\nconst globalObject = {}\nfunction noop() {}\n\nclass Window extends EventTarget {\n    constructor(pageId) {\n        super()\n\n        const config = cache.getConfig()\n        const timeOrigin = +new Date()\n\n        this.$_pageId = pageId\n\n        this.$_outerHeight = 0\n        this.$_outerWidth = 0\n        this.$_innerHeight = 0\n        this.$_innerWidth = 0\n\n        this.$_location = new Location(pageId)\n        this.$_navigator = new Navigator()\n        this.$_screen = new Screen()\n        this.$_history = new History(this.$_location)\n        this.$_miniprogram = new Miniprogram(pageId)\n        this.$_localStorage = new LocalStorage(pageId)\n        this.$_sessionStorage = new SessionStorage(pageId)\n        this.$_performance = new Performance(timeOrigin)\n\n        this.$_nowFetchingWebviewInfoPromise = null //  webview  promise \n\n        this.$_fetchDeviceInfo()\n        this.$_initInnerEvent()\n\n        //  'xxx' in XXX \n        this.onhashchange = null\n\n        // HTMLElement \n        this.$_elementConstructor = function HTMLElement(...args) {\n            return Element.$$create(...args)\n        }\n\n        // CustomEvent \n        this.$_customEventConstructor = class CustomEvent extends OriginalCustomEvent {\n            constructor(name = '', options = {}) {\n                options.timeStamp = +new Date() - timeOrigin\n                super(name, options)\n            }\n        }\n\n        // XMLHttpRequest \n        this.$_xmlHttpRequestConstructor = class XMLHttpRequest extends OriginalXMLHttpRequest {constructor() { super(pageId) }}\n\n        // Worker/SharedWorker \n        if (config.generate && config.generate.worker) {\n            this.$_workerConstructor = class Worker extends WorkerImpl.Worker {constructor(url) { super(url, pageId) }}\n            this.$_sharedWorkerConstructor = class SharedWorker extends WorkerImpl.SharedWorker {constructor(url) { super(url, pageId) }}\n        }\n\n        // react \n        this.HTMLIFrameElement = function() {}\n    }\n\n    /**\n     * \n     */\n    $_initInnerEvent() {\n        //  location \n        this.$_location.addEventListener('hashchange', ({oldURL, newURL}) => {\n            this.$$trigger('hashchange', {\n                event: new Event({\n                    name: 'hashchange',\n                    target: this,\n                    eventPhase: Event.AT_TARGET,\n                    $$extra: {\n                        oldURL,\n                        newURL,\n                    },\n                }),\n                currentTarget: this,\n            })\n        })\n\n        //  history \n        this.$_history.addEventListener('popstate', ({state}) => {\n            this.$$trigger('popstate', {\n                event: new Event({\n                    name: 'popstate',\n                    target: this,\n                    eventPhase: Event.AT_TARGET,\n                    $$extra: {state},\n                }),\n                currentTarget: this,\n            })\n        })\n\n        // \n        this.addEventListener('scroll', () => {\n            const document = this.document\n            // \n            if (document) document.documentElement.$$scrollTimeStamp = +new Date()\n        })\n    }\n\n    /**\n     * \n     */\n    $_fetchDeviceInfo() {\n        try {\n            const info = $wx.getSystemInfoSync()\n\n            this.$_outerHeight = info.screenHeight\n            this.$_outerWidth = info.screenWidth\n            this.$_innerHeight = info.windowHeight\n            this.$_innerWidth = info.windowWidth\n\n            this.$_screen.$$reset(info)\n            this.$_navigator.$$reset(info)\n        } catch (err) {\n            // ignore\n        }\n    }\n\n    /**\n     * \n     */\n    $_getAspectInfo(descriptor) {\n        if (!descriptor || typeof descriptor !== 'string') return\n\n        descriptor = descriptor.split('.')\n        const main = descriptor[0]\n        const sub = descriptor[1]\n        let method = descriptor[1]\n        let type = descriptor[2]\n        let prototype\n\n        // \n        if (main === 'window') {\n            if (WINDOW_PROTOTYPE_MAP[sub]) {\n                prototype = WINDOW_PROTOTYPE_MAP[sub]\n                method = type\n                type = descriptor[3]\n            } else {\n                prototype = Window.prototype\n            }\n        } else if (main === 'document') {\n            prototype = Document.prototype\n        } else if (main === 'element') {\n            if (ELEMENT_PROTOTYPE_MAP[sub]) {\n                prototype = ELEMENT_PROTOTYPE_MAP[sub]\n                method = type\n                type = descriptor[3]\n            } else {\n                prototype = Element.prototype\n            }\n        } else if (main === 'textNode') {\n            prototype = TextNode.prototype\n        } else if (main === 'comment') {\n            prototype = Comment.prototype\n        }\n\n        return {prototype, method, type}\n    }\n\n    /**\n     * \n     */\n    get $$miniprogram() {\n        return this.$_miniprogram\n    }\n\n    /**\n     * \n     */\n    get $$global() {\n        return globalObject\n    }\n\n    /**\n     *  window \n     */\n    get $$isWindow() {\n        return true\n    }\n\n    /**\n     * \n     */\n    $$destroy() {\n        super.$$destroy()\n\n        const pageId = this.$_pageId\n\n        WorkerImpl.destroy(pageId)\n        Object.keys(subscribeMap).forEach(name => {\n            const handlersMap = subscribeMap[name]\n            if (handlersMap[pageId]) handlersMap[pageId] = null\n        })\n    }\n\n    /**\n     *  getComputedStyle \n     * https://developers.weixin.qq.com/miniprogram/dev/api/wxml/NodesRef.fields.html\n     */\n    $$getComputedStyle(dom, computedStyle = []) {\n        tool.flushThrottleCache() //  setData\n        return new Promise((resolve, reject) => {\n            if (dom.tagName === 'BODY') {\n                this.$$createSelectorQuery().select('.miniprogram-root').fields({computedStyle}, res => (res ? resolve(res) : reject())).exec()\n            } else {\n                this.$$createSelectorQuery().select(`.miniprogram-root >>> .node-${dom.$$nodeId}`).fields({computedStyle}, res => (res ? resolve(res) : reject())).exec()\n            }\n        })\n    }\n\n    /**\n     *  setData \n     */\n    $$forceRender() {\n        tool.flushThrottleCache()\n    }\n\n    /**\n     * \n     */\n    $$trigger(eventName, options = {}) {\n        if (eventName === 'error' && typeof options.event === 'string') {\n            //  App.onError \n            const errStack = options.event\n            const errLines = errStack.split('\\n')\n            let message = ''\n            for (let i = 0, len = errLines.length; i < len; i++) {\n                const line = errLines[i]\n                if (line.trim().indexOf('at') !== 0) {\n                    message += (line + '\\n')\n                } else {\n                    break\n                }\n            }\n\n            const error = new Error(message)\n            error.stack = errStack\n            options.event = new this.$_customEventConstructor('error', {\n                target: this,\n                $$extra: {\n                    message,\n                    filename: '',\n                    lineno: 0,\n                    colno: 0,\n                    error,\n                },\n            })\n            options.args = [message, error]\n\n            // window.onerror \n            if (typeof this.onerror === 'function' && !this.onerror.$$isOfficial) {\n                const oldOnError = this.onerror\n                this.onerror = (event, message, error) => {\n                    oldOnError.call(this, message, '', 0, 0, error)\n                }\n                this.onerror.$$isOfficial = true // \n            }\n        }\n\n        super.$$trigger(eventName, options)\n    }\n\n    /**\n     * \n     */\n    $$getPrototype(descriptor) {\n        if (!descriptor || typeof descriptor !== 'string') return\n\n        descriptor = descriptor.split('.')\n        const main = descriptor[0]\n        const sub = descriptor[1]\n\n        if (main === 'window') {\n            if (WINDOW_PROTOTYPE_MAP[sub]) {\n                return WINDOW_PROTOTYPE_MAP[sub]\n            } else if (!sub) {\n                return Window.prototype\n            }\n        } else if (main === 'document') {\n            if (!sub) {\n                return Document.prototype\n            }\n        } else if (main === 'element') {\n            if (ELEMENT_PROTOTYPE_MAP[sub]) {\n                return ELEMENT_PROTOTYPE_MAP[sub]\n            } else if (!sub) {\n                return Element.prototype\n            }\n        } else if (main === 'textNode') {\n            if (!sub) {\n                return TextNode.prototype\n            }\n        } else if (main === 'comment') {\n            if (!sub) {\n                return Comment.prototype\n            }\n        }\n    }\n\n    /**\n     *  dom/bom \n     */\n    $$extend(descriptor, options) {\n        if (!descriptor || !options || typeof descriptor !== 'string' || typeof options !== 'object') return\n\n        const prototype = this.$$getPrototype(descriptor)\n        const keys = Object.keys(options)\n\n        if (prototype) keys.forEach(key => prototype[key] = options[key])\n    }\n\n    /**\n     *  dom/bom \n     */\n    $$addAspect(descriptor, func) {\n        if (!descriptor || !func || typeof descriptor !== 'string' || typeof func !== 'function') return\n\n        const {prototype, method, type} = this.$_getAspectInfo(descriptor)\n\n        // \n        if (prototype && method && type) {\n            const methodInPrototype = prototype[method]\n            if (typeof methodInPrototype !== 'function') return\n\n            // \n            if (!methodInPrototype.$$isHook) {\n                prototype[method] = function(...args) {\n                    const beforeFuncs = prototype[method].$$before || []\n                    const afterFuncs = prototype[method].$$after || []\n\n                    if (beforeFuncs.length) {\n                        for (const beforeFunc of beforeFuncs) {\n                            const isStop = beforeFunc.apply(this, args)\n                            if (isStop) return\n                        }\n                    }\n\n                    const res = methodInPrototype.apply(this, args)\n\n                    if (afterFuncs.length) {\n                        for (const afterFunc of afterFuncs) {\n                            afterFunc.call(this, res)\n                        }\n                    }\n\n                    return res\n                }\n                prototype[method].$$isHook = true\n                prototype[method].$$originalMethod = methodInPrototype\n            }\n\n            // \n            if (type === 'before') {\n                prototype[method].$$before = prototype[method].$$before || []\n                prototype[method].$$before.push(func)\n            } else if (type === 'after') {\n                prototype[method].$$after = prototype[method].$$after || []\n                prototype[method].$$after.push(func)\n            }\n        }\n    }\n\n    /**\n     *  dom/bom /\n     */\n    $$removeAspect(descriptor, func) {\n        if (!descriptor || !func || typeof descriptor !== 'string' || typeof func !== 'function') return\n\n        const {prototype, method, type} = this.$_getAspectInfo(descriptor)\n\n        // \n        if (prototype && method && type) {\n            const methodInPrototype = prototype[method]\n            if (typeof methodInPrototype !== 'function' || !methodInPrototype.$$isHook) return\n\n            // \n            if (type === 'before' && methodInPrototype.$$before) {\n                methodInPrototype.$$before.splice(methodInPrototype.$$before.indexOf(func), 1)\n            } else if (type === 'after' && methodInPrototype.$$after) {\n                methodInPrototype.$$after.splice(methodInPrototype.$$after.indexOf(func), 1)\n            }\n\n            if ((!methodInPrototype.$$before || !methodInPrototype.$$before.length) && (!methodInPrototype.$$after || !methodInPrototype.$$after.length)) {\n                prototype[method] = methodInPrototype.$$originalMethod\n            }\n        }\n    }\n\n    /**\n     * \n     */\n    $$subscribe(name, handler) {\n        if (typeof name !== 'string' || typeof handler !== 'function') return\n\n        const pageId = this.$_pageId\n        subscribeMap[name] = subscribeMap[name] || {}\n        subscribeMap[name][pageId] = subscribeMap[name][pageId] || []\n        subscribeMap[name][pageId].push(handler)\n    }\n\n    /**\n     * \n     */\n    $$unsubscribe(name, handler) {\n        const pageId = this.$_pageId\n\n        if (typeof name !== 'string' || !subscribeMap[name] || !subscribeMap[name][pageId]) return\n\n        const handlers = subscribeMap[name][pageId]\n        if (!handler) {\n            //  handler \n            handlers.length = 0\n        } else if (typeof handler === 'function') {\n            const index = handlers.indexOf(handler)\n            if (index !== -1) handlers.splice(index, 1)\n        }\n    }\n\n    /**\n     * \n     */\n    $$publish(name, data) {\n        if (typeof name !== 'string' || !subscribeMap[name]) return\n\n        Object.keys(subscribeMap[name]).forEach(pageId => {\n            const handlers = subscribeMap[name][pageId]\n            if (handlers && handlers.length) {\n                handlers.forEach(handler => {\n                    if (typeof handler !== 'function') return\n\n                    try {\n                        handler.call(null, data)\n                    } catch (err) {\n                        console.error(err)\n                    }\n                })\n            }\n        })\n    }\n\n    /**\n     * \n     */\n    get document() {\n        return cache.getDocument(this.$_pageId) || null\n    }\n\n    get location() {\n        return this.$_location\n    }\n\n    set location(href) {\n        this.$_location.href = href\n    }\n\n    get navigator() {\n        return this.$_navigator\n    }\n\n    get CustomEvent() {\n        return this.$_customEventConstructor\n    }\n\n    get Event() {\n        return Event\n    }\n\n    get self() {\n        return this\n    }\n\n    get localStorage() {\n        return this.$_localStorage\n    }\n\n    get sessionStorage() {\n        return this.$_sessionStorage\n    }\n\n    get screen() {\n        return this.$_screen\n    }\n\n    get history() {\n        return this.$_history\n    }\n\n    get outerHeight() {\n        return this.$_outerHeight\n    }\n\n    get outerWidth() {\n        return this.$_outerWidth\n    }\n\n    get innerHeight() {\n        return this.$_innerHeight\n    }\n\n    get innerWidth() {\n        return this.$_innerWidth\n    }\n\n    get Image() {\n        return this.document ? this.document.$$imageConstructor : noop\n    }\n\n    get setTimeout() {\n        return setTimeout.bind(null)\n    }\n\n    get clearTimeout() {\n        return clearTimeout.bind(null)\n    }\n\n    get setInterval() {\n        return setInterval.bind(null)\n    }\n\n    get clearInterval() {\n        return clearInterval.bind(null)\n    }\n\n    get HTMLElement() {\n        return this.$_elementConstructor\n    }\n\n    get Element() {\n        return Element\n    }\n\n    get Node() {\n        return Node\n    }\n\n    get RegExp() {\n        return RegExp\n    }\n\n    get Math() {\n        return Math\n    }\n\n    get Number() {\n        return Number\n    }\n\n    get Boolean() {\n        return Boolean\n    }\n\n    get String() {\n        return String\n    }\n\n    get Date() {\n        return Date\n    }\n\n    get Symbol() {\n        return Symbol\n    }\n\n    get parseInt() {\n        return parseInt\n    }\n\n    get parseFloat() {\n        return parseFloat\n    }\n\n    get console() {\n        return console\n    }\n\n    get performance() {\n        return this.$_performance\n    }\n\n    get SVGElement() {\n        // \n        console.warn('window.SVGElement is not supported')\n        return function() {}\n    }\n\n    get XMLHttpRequest() {\n        return this.$_xmlHttpRequestConstructor\n    }\n\n    get Worker() {\n        return this.$_workerConstructor\n    }\n\n    get SharedWorker() {\n        return this.$_sharedWorkerConstructor\n    }\n\n    get devicePixelRatio() {\n        return $wx.getSystemInfoSync().pixelRatio\n    }\n\n    open(url) {\n        //  windowName  windowFeatures\n        this.location.$$open(url)\n    }\n\n    close() {\n        $wx.navigateBack({\n            delta: 1,\n        })\n    }\n\n    getComputedStyle() {\n        // \n        console.warn('window.getComputedStyle is not supported, please use window.$$getComputedStyle instead of it')\n        return {\n            // vue transition \n            transitionDelay: '',\n            transitionDuration: '',\n            animationDelay: '',\n            animationDuration: '',\n        }\n    }\n\n    requestAnimationFrame(callback) {\n        if (typeof callback !== 'function') return\n\n        const now = new Date()\n        const nextRafTime = Math.max(lastRafTime + 16, now)\n        return setTimeout(() => {\n            callback(nextRafTime)\n            lastRafTime = nextRafTime\n        }, nextRafTime - now)\n    }\n\n    cancelAnimationFrame(timeId) {\n        return clearTimeout(timeId)\n    }\n\n    //  polyfill \n    setImmediate(callback, ...args) {\n        if (typeof callback !== 'function') return\n        return setTimeout(callback, 0, ...args)\n    }\n\n    //  polyfill \n    clearImmediate(timeId) {\n        return clearTimeout(timeId)\n    }\n}\n\nmodule.exports = Window\n","const QuerySelector = require('./query-selector')\nconst tool = require('../util/tool')\n\n/**\n *  dom \n */\nfunction walkDomTree(node, cache) {\n    const tagMap = cache.tagMap = cache.tagMap || {}\n    const classMap = cache.classMap = cache.classMap || {}\n    const {tagName, classList} = node\n\n    // \n    tagMap[tagName] = tagMap[tagName] || []\n    tagMap[tagName].push(node)\n\n    // \n    for (const className of classList) {\n        classMap[className] = classMap[className] || []\n        classMap[className].push(node)\n    }\n\n    const children = node.children || []\n\n    for (const child of children) {\n        // \n        walkDomTree(child, cache)\n    }\n}\n\nclass Tree {\n    constructor(pageId, root, nodeIdMap, document) {\n        this.pageId = pageId\n        this.root = document.$$createElement(root, this)\n        this.nodeIdMap = nodeIdMap\n        this.idMap = {}\n        this.document = document\n\n        this.querySelector = new QuerySelector()\n        if (nodeIdMap) nodeIdMap[root.nodeId] = this.root\n\n        this.walk(root, this.root)\n    }\n\n    /**\n     *  ast\n     */\n    walk(ast, parentNode) {\n        const children = ast.children\n        const idMap = this.idMap\n        const nodeIdMap = this.nodeIdMap\n        const document = this.document\n\n        if (!children || !children.length) return\n\n        // \n        for (const child of children) {\n            let childNode\n\n            if (child.type === 'element') {\n                childNode = document.$$createElement(child, this)\n            } else if (child.type === 'text') {\n                childNode = document.$$createTextNode(child, this)\n            }\n\n            //  id \n            const id = childNode.id\n            if (id && !idMap[id]) {\n                idMap[id] = childNode\n            }\n\n            //  nodeId \n            if (nodeIdMap) nodeIdMap[child.nodeId] = childNode\n\n            // \n            parentNode.appendChild(childNode)\n\n            //  ast\n            this.walk(child, childNode)\n        }\n    }\n\n    /**\n     *  idMap\n     */\n    updateIdMap(id, node) {\n        this.idMap[id] = node\n    }\n\n    /**\n     *  id \n     */\n    getById(id) {\n        return this.idMap[id]\n    }\n\n    /**\n     * \n     */\n    getByTagName(tagName, node) {\n        const cache = {}\n        walkDomTree(node || this.root, cache)\n\n        if (tool.checkIsWxComponent(tagName.toLowerCase(), false)) {\n            // \n            tagName = tagName.toLowerCase().slice(3)\n            return (cache.tagMap['WX-COMPONENT'] || []).filter(findNode => findNode.behavior === tagName)\n        }\n\n        return cache.tagMap[tagName.toUpperCase()] || []\n    }\n\n    /**\n     * \n     */\n    getByClassName(className, node) {\n        const cache = {}\n        walkDomTree(node || this.root, cache)\n\n        return cache.classMap[className] || []\n    }\n\n    /**\n     * \n     */\n    query(selector, node) {\n        const cache = {}\n        walkDomTree(node || this.root, cache)\n\n        return this.querySelector.exec(selector, {\n            idMap: this.idMap,\n            tagMap: cache.tagMap,\n            classMap: cache.classMap,\n        })\n    }\n}\n\nmodule.exports = Tree\n","/**\n *  sizzlehttps://github.com/jquery/sizzle/tree/master\n */\nconst tool = require('../util/tool')\n\nconst PSEUDO_CHECK = {\n    checked: node => node.checked || node.selected,\n    disabled: node => node.disabled,\n    enabled: node => !node.disabled,\n    'first-child': node => node.parentNode.children[0] === node,\n    'last-child': node => node.parentNode.children[node.parentNode.children.length - 1] === node,\n    'nth-child': (node, param) => {\n        const children = node.parentNode.children\n        const {a, b} = param\n        const index = children.indexOf(node) + 1\n\n        return a ? ((index - b) % a === 0) : (index === b)\n    },\n    'nth-of-type': (node, param, rule) => {\n        const copyRule = Object.assign({}, rule)\n        copyRule.pseudo = undefined\n\n        //  nth-of-type \n        const children = Array.from(node.parentNode.children).filter(child => checkHit(child, copyRule))\n        const {a, b} = param\n        const index = children.indexOf(node) + 1\n\n        return a ? ((index - b) % a === 0) : (index === b)\n    }\n}\n\nconst ATTR_CHECK = {\n    '=': (nodeVal, val) => nodeVal === val,\n    '~=': (nodeVal, val) => nodeVal.split(/\\s+/).indexOf(val) !== -1,\n    '|=': (nodeVal, val) => nodeVal === val || nodeVal.indexOf(val + '-') === 0,\n    '^=': (nodeVal, val) => nodeVal.indexOf(val) === 0,\n    '$=': (nodeVal, val) => nodeVal.substr(nodeVal.length - val.length) === val,\n    '*=': (nodeVal, val) => nodeVal.indexOf(val) !== -1,\n}\n\nconst KINSHIP_CHECK = {\n    ' ': (node, kinshipRule) => {\n        let kinshipNode = node.parentNode\n\n        while (kinshipNode) {\n            if (checkHit(kinshipNode, kinshipRule)) return kinshipNode\n\n            kinshipNode = kinshipNode.parentNode\n        }\n\n        return null\n    },\n    '>': (node, kinshipRule) => {\n        const kinshipNode = node.parentNode\n\n        return checkHit(kinshipNode, kinshipRule) ? kinshipNode : null\n    },\n    '+': (node, kinshipRule) => {\n        const children = node.parentNode\n\n        for (let i = 0, len = children.length; i < len; i++) {\n            const child = children[i]\n\n            if (child === node) {\n                const kinshipNode = children[i - 1]\n\n                return checkHit(kinshipNode, kinshipRule) ? kinshipNode : null\n            }\n        }\n\n        return null\n    },\n    '~': (node, kinshipRule) => {\n        const children = node.parentNode\n        let foundCurrent = false\n\n        for (let i = children.length - 1; i >= 0; i--) {\n            const child = children[i]\n\n            if (foundCurrent && checkHit(child, kinshipRule)) return child\n            if (child === node) foundCurrent = true\n        }\n\n        return null\n    },\n}\n\n/**\n * \n */\nfunction checkHit(node, rule) {\n    if (!node) return false\n\n    const {\n        id, class: classList, tag, pseudo, attr\n    } = rule\n\n    // id \n    if (id) {\n        if (node.id !== id) return false\n    }\n\n    // \n    if (classList && classList.length) {\n        for (const className of classList) {\n            if (!node.classList || !node.classList.contains(className)) return false\n        }\n    }\n\n    // \n    if (tag && tag !== '*') {\n        if (tool.checkIsWxComponent(tag.toLowerCase(), false)) {\n            // \n            if (node.tagName !== 'WX-COMPONENT' || node.behavior !== tag.slice(3).toLowerCase()) return false\n        } else if (node.tagName !== tag.toUpperCase()) {\n            return false\n        }\n    }\n\n    // \n    if (pseudo) {\n        for (const {name, param} of pseudo) {\n            const checkPseudo = PSEUDO_CHECK[name]\n            if (!checkPseudo || !checkPseudo(node, param, rule)) return false\n        }\n    }\n\n    // \n    if (attr) {\n        for (const {name, opr, val} of attr) {\n            const nodeVal = node[name] || node.getAttribute(name)\n\n            if (nodeVal === undefined || nodeVal === null) return false\n            if (opr) {\n                // \n                const checkAttr = ATTR_CHECK[opr]\n                if (!checkAttr || !checkAttr(nodeVal, val)) return false\n            }\n        }\n    }\n\n    return true\n}\n\n/**\n * \n */\nfunction unique(list) {\n    for (let i = 0; i < list.length; i++) {\n        const a = list[i]\n\n        for (let j = i + 1; j < list.length; j++) {\n            const b = list[j]\n            if (a === b) list.splice(j, 1)\n        }\n    }\n\n    return list\n}\n\n/**\n * \n */\nfunction sortNodes(list) {\n    list.sort((a, b) => {\n        const aList = [a]\n        const bList = [b]\n        let aParent = a.parentNode\n        let bParent = b.parentNode\n\n        if (aParent === bParent) {\n            // \n            const children = aParent.children\n            return children.indexOf(a) - children.indexOf(b)\n        }\n\n        // a \n        while (aParent) {\n            aList.unshift(aParent)\n            aParent = aParent.parentNode\n        }\n\n        // b \n        while (bParent) {\n            bList.unshift(bParent)\n            bParent = bParent.parentNode\n        }\n\n        // \n        let i = 0\n        while (aList[i] === bList[i]) i++\n\n        // \n        const children = aList[i - 1].children\n        return children.indexOf(aList[i]) - children.indexOf(bList[i])\n    })\n\n    return list\n}\n\nclass QuerySelector {\n    constructor() {\n        this.parseCache = {} // \n        this.parseCacheKeys = []\n\n        const idReg = '#([\\\\\\\\\\\\w-]+)' // id \n        const tagReg = '\\\\*|wx-component|[a-zA-Z-]+\\\\w*' // \n        const classReg = '\\\\.([\\\\\\\\\\\\w-]+)' // \n        const pseudoReg = ':([\\\\\\\\\\\\w-]+)(?:\\\\(([^\\\\(\\\\)]*|(?:\\\\([^\\\\)]+\\\\)|[^\\\\(\\\\)]*)+)\\\\))?' // \n        const attrReg = '\\\\[\\\\s*([\\\\\\\\\\\\w-]+)(?:([*^$|~!]?=)[\\'\"]?([^\\'\"\\\\[]+)[\\'\"]?)?\\\\s*\\\\]' // \n        const kinshipReg = '\\\\s*([>\\\\s+~](?!=))\\\\s*' // \n        this.regexp = new RegExp(`^(?:(${idReg})|(${tagReg})|(${classReg})|(${pseudoReg})|(${attrReg})|(${kinshipReg}))`)\n    }\n\n    /**\n     * \n     */\n    setParseCache(key, value) {\n        if (this.parseCacheKeys.length > 50) {\n            delete this.parseCache[this.parseCacheKeys.shift()]\n        }\n\n        this.parseCacheKeys.push(key)\n        this.parseCache[key] = value\n\n        return value\n    }\n\n    /**\n     * \n     */\n    getParseCache(key) {\n        return this.parseCache[key]\n    }\n\n    /**\n     * \n     */\n    parse(selector) {\n        const segment = [{tag: '*'}]\n        const regexp = this.regexp\n\n        const onProcess = (all, idAll, id, tagAll, classAll, className, pseudoAll, pseudoName, pseudoParam, attrAll, attrName, attrOpr, attrVal, kinshipAll, kinship) => {\n            if (idAll) {\n                // id \n                segment[segment.length - 1].id = id\n            } else if (tagAll) {\n                // \n                segment[segment.length - 1].tag = tagAll.toLowerCase()\n            } else if (classAll) {\n                // \n                const currentRule = segment[segment.length - 1]\n                currentRule.class = currentRule.class || []\n\n                currentRule.class.push(className)\n            } else if (pseudoAll) {\n                // \n                const currentRule = segment[segment.length - 1]\n                currentRule.pseudo = currentRule.pseudo || []\n                pseudoName = pseudoName.toLowerCase()\n\n                const pseudo = {name: pseudoName}\n\n                if (pseudoParam) pseudoParam = pseudoParam.trim()\n                if (pseudoName === 'nth-child' || pseudoName === 'nth-of-type') {\n                    //  nth-child  an + b \n                    pseudoParam = pseudoParam.replace(/\\s+/g, '')\n\n                    if (pseudoParam === 'even') {\n                        // \n                        pseudoParam = {a: 2, b: 2}\n                    } else if (pseudoParam === 'odd') {\n                        // \n                        pseudoParam = {a: 2, b: 1}\n                    } else if (pseudoParam) {\n                        // \n                        const nthParsed = pseudoParam.match(/^(?:(\\d+)|(\\d*)?n([+-]\\d+)?)$/)\n\n                        if (!nthParsed) {\n                            // \n                            pseudoParam = {a: 0, b: 1}\n                        } else if (nthParsed[1]) {\n                            // \n                            pseudoParam = {a: 0, b: +nthParsed[1]}\n                        } else {\n                            // \n                            pseudoParam = {\n                                a: nthParsed[2] ? +nthParsed[2] : 1,\n                                b: nthParsed[3] ? +nthParsed[3] : 0,\n                            }\n                        }\n                    } else {\n                        // \n                        pseudoParam = {a: 0, b: 1}\n                    }\n                }\n                if (pseudoParam) pseudo.param = pseudoParam\n\n                currentRule.pseudo.push(pseudo)\n            } else if (attrAll) {\n                // \n                const currentRule = segment[segment.length - 1]\n\n                currentRule.attr = currentRule.attr || []\n                currentRule.attr.push({\n                    name: attrName,\n                    opr: attrOpr,\n                    val: attrVal\n                })\n            } else if (kinshipAll) {\n                // \n                segment[segment.length - 1].kinship = kinship\n                segment.push({tag: '*'}) // \n            }\n\n            return ''\n        }\n\n        // \n        let lastParse\n        selector = selector.replace(regexp, onProcess)\n\n        while (lastParse !== selector) {\n            lastParse = selector\n            selector = selector.replace(regexp, onProcess)\n        }\n\n        return selector ? '' : segment\n    }\n\n    /**\n     * \n     */\n    exec(selector, extra) {\n        selector = selector.trim().replace(/\\s+/g, ' ').replace(/\\s*(,|[>\\s+~](?!=)|[*^$|~!]?=)\\s*/g, '$1')\n        const {idMap, tagMap, classMap} = extra\n\n        // \n        let segment = this.getParseCache(selector)\n\n        // \n        if (!segment) {\n            segment = this.parse(selector)\n\n            // \n            if (!segment) return []\n\n            this.setParseCache(selector, segment)\n        }\n\n        // \n        if (!segment[0]) return []\n\n        // \n        const lastRule = segment[segment.length - 1] // \n        const {id, class: classList, tag} = lastRule\n        let hitNodes = []\n\n        // \n        if (id) {\n            // id \n            const node = idMap[id]\n            hitNodes = node ? [node] : []\n        } else if (classList && classList.length) {\n            // \n            for (const className of classList) {\n                const classNodes = classMap[className]\n                if (classNodes) {\n                    for (const classNode of classNodes) {\n                        if (hitNodes.indexOf(classNode) === -1) hitNodes.push(classNode)\n                    }\n                }\n            }\n        } else if (tag && tag !== '*') {\n            // \n            const tagName = tool.checkIsWxComponent(tag.toLowerCase(), false) ? 'WX-COMPONENT' : tag.toUpperCase()\n            const tagNodes = tagMap[tagName]\n            if (tagNodes) hitNodes = tagNodes\n        } else {\n            // \n            Object.keys(tagMap).forEach(key => {\n                const tagNodes = tagMap[key]\n                if (tagNodes) {\n                    for (const tagNode of tagNodes) hitNodes.push(tagNode)\n                }\n            })\n        }\n\n        // \n        if (hitNodes.length && segment.length) {\n            for (let i = hitNodes.length - 1; i >= 0; i--) {\n                let checkNode = hitNodes[i]\n                let isMatched = false\n\n                // \n                for (let j = segment.length - 1; j >= 0; j--) {\n                    const prevRule = segment[j - 1]\n\n                    // \n                    if (j === segment.length - 1) isMatched = checkHit(checkNode, lastRule)\n\n                    if (isMatched && prevRule) {\n                        // \n                        const kinship = prevRule.kinship\n                        const checkKinship = KINSHIP_CHECK[kinship]\n\n                        if (checkKinship) checkNode = checkKinship(checkNode, prevRule)\n\n                        if (!checkNode) {\n                            // \n                            isMatched = false\n                            break\n                        }\n                    } else {\n                        break\n                    }\n                }\n\n                if (!isMatched) hitNodes.splice(i, 1) // \n            }\n        }\n\n        if (hitNodes.length) {\n            // \n            hitNodes = unique(hitNodes)\n            hitNodes = sortNodes(hitNodes)\n        }\n\n        return hitNodes\n    }\n}\n\nmodule.exports = QuerySelector\n","/**\n * \n */\n\nmodule.exports = [\n    'position', 'top', 'bottom', 'right', 'left', 'float', 'clear',\n    'display', 'width', 'height', 'maxHeight', 'maxWidth', 'minHeight', 'minWidth', 'flex', 'flexBasis', 'flexGrow', 'flexShrink', 'flexDirection', 'flexWrap', 'justifyContent', 'alignItems', 'order',\n    'padding', 'paddingBottom', 'paddingLeft', 'paddingRight', 'paddingTop',\n    'margin', 'marginBottom', 'marginLeft', 'marginRight', 'marginTop',\n\n    'background', 'backgroundClip', 'backgroundColor', 'backgroundImage', 'backgroundOrigin', 'backgroundPosition', 'backgroundRepeat', 'backgroundSize',\n    'border', 'borderRadius', 'borderBottomColor', 'borderBottomLeftRadius', 'borderBottomRightRadius', 'borderBottomStyle', 'borderBottomWidth', 'borderCollapse', 'borderImageOutset', 'borderImageRepeat', 'borderImageSlice', 'borderImageSource', 'borderImageWidth', 'borderLeftColor', 'borderLeftStyle', 'borderLeftWidth', 'borderRightColor', 'borderRightStyle', 'borderRightWidth', 'borderTopColor', 'borderTopLeftRadius', 'borderTopRightRadius', 'borderTopStyle', 'borderTopWidth',\n    'borderTop', 'borderBottom', 'borderRight', 'borderLeft',\n    'outline', 'borderWidth', 'borderStyle', 'borderColor',\n\n    'animation', 'animationDelay', 'animationDirection', 'animationDuration', 'animationFillMode', 'animationIterationCount', 'animationName', 'animationPlayState', 'animationTimingFunction',\n    'transition', 'transitionDelay', 'transitionDuration', 'transitionProperty', 'transitionTimingFunction',\n    'transform', 'transformOrigin', 'perspective', 'perspectiveOrigin', 'backfaceVisibility',\n\n    'font', 'fontFamily', 'fontSize', 'fontStyle', 'fontWeight',\n    'color', 'textAlign', 'textDecoration', 'textIndent', 'textRendering', 'textShadow', 'textOverflow', 'textTransform',\n    'wordBreak', 'wordSpacing', 'wordWrap', 'lineHeight', 'letterSpacing', 'whiteSpace', 'userSelect',\n\n    'visibility', 'opacity', 'zIndex', 'zoom', 'overflow', 'overflowX', 'overflowY',\n    'boxShadow', 'boxSizing', 'content', 'cursor', 'direction', 'listStyle', 'objectFit', 'pointerEvents', 'resize', 'verticalAlign', 'willChange', 'clip', 'clipPath', 'fill',\n\n    'touchAction', 'WebkitAppearance', 'mask', 'webkitMask', 'webkitBoxOrient', 'webkitLineClamp', 'overflowWrap'\n]\n","/**\n *  John Resig https://johnresig.com/files/htmlparser.js\n */\n\n// \nconst doctypeReg = /^<!\\s*doctype((?:\\s+[\\w:]+(?:\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?)*)\\s*(\\/?)>/i\nconst startTagReg = /^<([-A-Za-z0-9_]+)((?:\\s+[-A-Za-z0-9_:@.]+(?:\\s*=\\s*(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>\\s]+))?)*)\\s*(\\/?)>/i\nconst endTagReg = /^<\\/([-A-Za-z0-9_]+)[^>]*>/i\nconst attrReg = /([-A-Za-z0-9_:@.]+)(?:\\s*=\\s*(?:(?:\"((?:\\\\.|[^\"])*)\")|(?:'((?:\\\\.|[^'])*)')|([^>\\s]+)))?/g\n\n//  - https://www.w3.org/TR/html/syntax.html#void-elements\nconst voidMap = {};\n['area', 'base', 'br', 'col', 'embed', 'hr', 'img', 'input', 'link', 'meta', 'param', 'source', 'track', 'wbr'].forEach(n => voidMap[n] = true)\n\n//  - https://developer.mozilla.org/en-US/docs/Web/HTML/Block-level_elements#Elements\nconst blockMap = {};\n['address', 'article', 'aside', 'blockquote', 'canvas', 'dd', 'div', 'dl', 'dt', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'header', 'hgroup', 'hr', 'li', 'main', 'nav', 'noscript', 'ol', 'output', 'p', 'pre', 'section', 'table', 'tfoot', 'ul', 'video'].forEach(n => blockMap[n] = true)\n\n//  - https://developer.mozilla.org/en-US/docs/Web/HTML/Inline_elements#Elements\nconst inlineMap = {};\n['a', 'abbr', 'acronym', 'b', 'bdo', 'big', 'br', 'button', 'cite', 'code', 'dfn', 'em', 'i', 'img', 'input', 'kbd', 'label', 'map', 'object', 'q', 'samp', 'script', 'select', 'small', 'span', 'strong', 'sub', 'sup', 'textarea', 'time', 'tt', 'var'].forEach(n => inlineMap[n] = true)\n\n//  - https://www.w3.org/TR/html/syntax.html#raw-text\nconst rawTextMap = {};\n['script', 'style'].forEach(n => rawTextMap[n] = true)\n\nconst longAttributeCache = {}\nlet seed = 0\n\n/**\n * \n */\nfunction tokenize(content, handler) {\n    const stack = []\n    let last = content\n\n    stack.last = function() {\n        return this[this.length - 1]\n    }\n\n    while (content) {\n        let isText = true\n\n        if (!stack.last() || !rawTextMap[stack.last()]) {\n            if (content.indexOf('<!--') === 0) {\n                // comment\n                const index = content.indexOf('-->')\n\n                if (index >= 0) {\n                    if (handler.comment) handler.comment(content.substring(4, index))\n                    content = content.substring(index + 3)\n                    isText = false\n                }\n            } else if (content.indexOf('</') === 0) {\n                // end tag\n                const match = content.match(endTagReg)\n\n                if (match) {\n                    content = content.substring(match[0].length)\n                    match[0].replace(endTagReg, parseEndTag)\n                    isText = false\n                }\n            } else if (content.indexOf('<') === 0) {\n                // start tag\n                let match = content.match(startTagReg)\n\n                if (match) {\n                    content = content.substring(match[0].length)\n                    match[0].replace(startTagReg, parseStartTag)\n                    isText = false\n                } else {\n                    //  doctype\n                    match = content.match(doctypeReg)\n\n                    if (match) {\n                        content = content.substring(match[0].length)\n                        isText = false\n                    }\n                }\n            }\n\n            if (isText) {\n                const indexStart = content.indexOf('<')\n                const indexEnd = content.indexOf('>')\n\n                //  < >>  < <  > \n                let text = ''\n                if (indexStart === -1 || indexStart >= 0 && indexEnd === -1 || indexStart > indexEnd || (indexEnd > indexStart && !content.substring(indexStart + 1, indexEnd).trim())) {\n                    text = content.replace(/>/g, '&gt;').replace(/</g, '&lt;')\n                    content = ''\n                } else {\n                    text = content.substring(0, indexStart)\n                    content = content.substring(indexStart)\n                }\n\n                if (handler.text && text) handler.text(text)\n            }\n        } else {\n            const execRes = (new RegExp(`</${stack.last()}[^>]*>`)).exec(content)\n\n            if (execRes) {\n                const text = content.substring(0, execRes.index)\n                content = content.substring(execRes.index + execRes[0].length)\n\n                text.replace(/<!--(.*?)-->/g, '')\n                if (text && handler.text) handler.text(text)\n            }\n\n            parseEndTag('', stack.last())\n        }\n\n        if (content === last) throw new Error(`parse error: ${content}`)\n        last = content\n    }\n\n    // \n    parseEndTag()\n\n    function parseStartTag(tag, tagName, rest, unary) {\n        tagName = tagName.toLowerCase()\n        unary = !!unary\n\n        // \n        // if (blockMap[tagName]) {\n        //     while (stack.last() && inlineMap[stack.last()]) {\n        //         // \n        //         parseEndTag('', stack.last())\n        //     }\n        // }\n\n        unary = voidMap[tagName] || !!unary\n\n        if (!unary) stack.push(tagName)\n\n        if (handler.start) {\n            const attrs = []\n\n            try {\n                rest.replace(attrReg, (all, $1, $2, $3, $4) => {\n                    const value = $2 || $3 || $4\n\n                    attrs.push({\n                        name: $1,\n                        value,\n                    })\n                })\n            } catch (err) {\n                //  base 64\n                rest = rest.replace(/url\\([^)]+\\)/ig, all => {\n                    const id = `url(:#|${++seed}|#:)`\n                    longAttributeCache[id] = all\n                    return id\n                })\n                rest.replace(attrReg, (all, $1, $2, $3, $4) => {\n                    const value = $2 || $3 || $4\n\n                    attrs.push({\n                        name: $1,\n                        value: value.replace(/url\\(:#\\|\\d+\\|#:\\)/ig, all => longAttributeCache[all] || 'url()'),\n                    })\n                })\n            }\n\n            handler.start(tagName, attrs, unary)\n        }\n    }\n\n    function parseEndTag(tag, tagName) {\n        let pos\n\n        if (!tagName) {\n            pos = 0\n        } else {\n            // \n            tagName = tagName.toLowerCase()\n\n            for (pos = stack.length - 1; pos >= 0; pos--) {\n                if (stack[pos] === tagName) break\n            }\n        }\n\n        if (pos >= 0) {\n            // \n            for (let i = stack.length - 1; i >= pos; i--) {\n                if (handler.end) handler.end(stack[i])\n            }\n\n            stack.length = pos\n        }\n    }\n}\n\n/**\n * \n */\nfunction parse(html) {\n    const r = {\n        children: [],\n    }\n    const stack = [r]\n\n    stack.last = function() {\n        return this[this.length - 1]\n    }\n\n    tokenize(html, {\n        start(tagName, attrs, unary) {\n            const node = {\n                type: 'element',\n                tagName,\n                attrs,\n                unary,\n                children: [],\n            }\n\n            stack.last().children.push(node)\n\n            if (!unary) {\n                stack.push(node)\n            }\n        },\n        // eslint-disable-next-line no-unused-vars\n        end(tagName) {\n            const node = stack.pop()\n\n            if (node.tagName === 'table') {\n                //  tbody\n                let hasTbody = false\n\n                for (const child of node.children) {\n                    if (child.tagName === 'tbody') {\n                        hasTbody = true\n                        break\n                    }\n                }\n\n                if (!hasTbody) {\n                    node.children = [{\n                        type: 'element',\n                        tagName: 'tbody',\n                        attrs: [],\n                        unary: false,\n                        children: node.children,\n                    }]\n                }\n            }\n        },\n        text(content) {\n            content = content.trim()\n            if (!content) return\n\n            stack.last().children.push({\n                type: 'text',\n                content,\n            })\n        },\n        comment(content) {\n            content = content.trim()\n\n            stack.last().children.push({\n                type: 'comment',\n                content,\n            })\n        },\n    })\n\n    return r.children\n}\n\nmodule.exports = {\n    tokenize,\n    parse,\n    voidMap,\n    blockMap,\n    inlineMap,\n    rawTextMap,\n}\n","const Element = require('../element')\nconst Location = require('../../bom/location')\nconst cache = require('../../util/cache')\nconst Pool = require('../../util/pool')\nconst tool = require('../../util/tool')\n\nconst pool = new Pool()\n\nclass HTMLAnchorElement extends Element {\n    /**\n     * \n     */\n    static $$create(options, tree) {\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            const instance = pool.get()\n\n            if (instance) {\n                instance.$$init(options, tree)\n                return instance\n            }\n        }\n\n        return new HTMLAnchorElement(options, tree)\n    }\n\n    /**\n     *  $$init \n     */\n    $$init(options, tree) {\n        super.$$init(options, tree)\n\n        this.$_protocol = 'http:'\n        this.$_hostname = ''\n        this.$_port = ''\n        this.$_pathname = '/'\n        this.$_search = ''\n        this.$_hash = ''\n    }\n\n    /**\n     *  $$destroy \n     */\n    $$destroy() {\n        super.$$destroy()\n\n        this.$_protocol = null\n        this.$_hostname = null\n        this.$_port = null\n        this.$_pathname = null\n        this.$_search = null\n        this.$_hash = null\n    }\n\n    /**\n     * \n     */\n    $$recycle() {\n        this.$_children.forEach(child => child.$$recycle())\n        this.$$destroy()\n\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            pool.add(this)\n        }\n    }\n\n    /**\n     *  $_generateHtml \n     */\n    $$dealWithAttrsForGenerateHtml(html, node) {\n        const href = node.href\n        if (href) html += ` href=\"${tool.escapeForHtmlGeneration(href)}\"`\n\n        const target = node.target\n        if (target) html += ` target=\"${tool.escapeForHtmlGeneration(target)}\"`\n\n        return html\n    }\n\n    /**\n     *  outerHTML  setter \n     */\n    $$dealWithAttrsForOuterHTML(node) {\n        this.href = node.href || ''\n        this.target = node.target || ''\n    }\n\n    /**\n     *  cloneNode \n     */\n    $$dealWithAttrsForCloneNode() {\n        return {\n            href: this.href,\n            target: this.target,\n        }\n    }\n\n    /**\n     * \n     */\n    get href() {\n        return this.$_attrs.get('href')\n    }\n\n    set href(value) {\n        value = '' + value\n\n        if (value.indexOf('//') === -1) {\n            const {origin} = cache.getConfig()\n            value = origin + (value[0] === '/' ? value : `/${value}`)\n        }\n\n        this.$_attrs.set('href', value)\n        const {\n            protocol, hostname, port, pathname, search, hash\n        } = Location.$$parse(value)\n\n        this.$_protocol = protocol || this.$_protocol\n        this.$_hostname = hostname || this.$_hostname\n        this.$_port = port || ''\n        this.$_pathname = pathname || '/'\n        this.$_search = search || ''\n        this.$_hash = hash || ''\n    }\n\n    get protocol() {\n        return this.$_protocol\n    }\n\n    get hostname() {\n        return this.$_hostname\n    }\n\n    get port() {\n        return this.$_port\n    }\n\n    get pathname() {\n        return this.$_pathname\n    }\n\n    get search() {\n        return this.$_search\n    }\n\n    get hash() {\n        return this.$_hash\n    }\n\n    get target() {\n        return this.$_attrs.get('target')\n    }\n\n    set target(value) {\n        value = '' + value\n        this.$_attrs.set('target', value)\n    }\n}\n\nmodule.exports = HTMLAnchorElement\n","const Element = require('../element')\nconst Event = require('../../event/event')\nconst Pool = require('../../util/pool')\nconst cache = require('../../util/cache')\n\n// eslint-disable-next-line no-var, block-scoped-var, semi\nvar $wx;\n\nif (typeof $wx === 'undefined' && typeof my !== 'undefined') {\n    // \n    // eslint-disable-next-line no-undef\n    $wx = my\n} else {\n    $wx = wx\n}\n\nconst pool = new Pool()\n\nclass Image extends Element {\n    /**\n     * \n     */\n    static $$create(options, tree) {\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            const instance = pool.get()\n\n            if (instance) {\n                instance.$$init(options, tree)\n                return instance\n            }\n        }\n\n        return new Image(options, tree)\n    }\n\n    /**\n     *  $$init \n     */\n    $$init(options, tree) {\n        const width = options.width\n        const height = options.height\n\n        if (typeof width === 'number' && width >= 0) options.attrs.width = width\n        if (typeof height === 'number' && height >= 0) options.attrs.height = height\n\n        super.$$init(options, tree)\n\n        this.$_naturalWidth = 0\n        this.$_naturalHeight = 0\n\n        this.$_initRect()\n    }\n\n    /**\n     *  $$destroy \n     */\n    $$destroy() {\n        super.$$destroy()\n\n        this.$_naturalWidth = null\n        this.$_naturalHeight = null\n    }\n\n    /**\n     * \n     */\n    $$recycle() {\n        this.$$destroy()\n\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            pool.add(this)\n        }\n    }\n\n    /**\n     * \n     */\n    $_triggerParentUpdate() {\n        this.$_initRect()\n        super.$_triggerParentUpdate()\n    }\n\n    /**\n     * \n     */\n    $_initRect() {\n        const width = this.$_attrs.get('width')\n        const height = this.$_attrs.get('height')\n\n        const widthNum = +width\n        if (!isNaN(+widthNum) && +widthNum >= 0) this.$_style.width = `${width}px`\n        else if (width && typeof width === 'string') this.$_style.width = width //  width=\"100%\"\n\n        const heightNum = +height\n        if (!isNaN(+heightNum) && +heightNum >= 0) this.$_style.height = `${height}px`\n        else if (height && typeof height === 'string') this.$_style.height = height //  width=\"100%\"\n    }\n\n    /**\n     * \n     */\n    $_resetRect(rect = {}) {\n        this.$_naturalWidth = rect.width || 0\n        this.$_naturalHeight = rect.height || 0\n\n        this.$_initRect()\n    }\n\n    /**\n     * \n     */\n    get src() {\n        return this.$_attrs.get('src') || ''\n    }\n\n    set src(value) {\n        if (!value || typeof value !== 'string') return\n\n        this.$_attrs.set('src', value)\n\n        setTimeout(() => {\n            $wx.getImageInfo({\n                src: this.src,\n                success: res => {\n                    // \n                    this.$_resetRect(res)\n\n                    //  load \n                    this.$$trigger('load', {\n                        event: new Event({\n                            name: 'load',\n                            target: this,\n                            eventPhase: Event.AT_TARGET\n                        }),\n                        currentTarget: this,\n                    })\n                },\n                fail: () => {\n                    // \n                    this.$_resetRect({width: 0, height: 0})\n\n                    //  error \n                    this.$$trigger('error', {\n                        event: new Event({\n                            name: 'error',\n                            target: this,\n                            eventPhase: Event.AT_TARGET\n                        }),\n                        currentTarget: this,\n                    })\n                },\n            })\n        }, 0)\n    }\n\n    get width() {\n        return parseFloat(this.$_attrs.get('width'), 10) || 0\n    }\n\n    set width(value) {\n        if (typeof value !== 'number' || !isFinite(value) || value < 0) return\n\n        this.$_attrs.set('width', value)\n        this.$_initRect()\n    }\n\n    get height() {\n        return parseFloat(this.$_attrs.get('height'), 10) || 0\n    }\n\n    set height(value) {\n        if (typeof value !== 'number' || !isFinite(value) || value < 0) return\n\n        this.$_attrs.set('height', value)\n        this.$_initRect()\n    }\n\n    get naturalWidth() {\n        return this.$_naturalWidth\n    }\n\n    get naturalHeight() {\n        return this.$_naturalHeight\n    }\n}\n\nmodule.exports = Image\n","const Element = require('../element')\nconst Pool = require('../../util/pool')\nconst cache = require('../../util/cache')\nconst tool = require('../../util/tool')\n\nconst pool = new Pool()\n\nclass HTMLInputElement extends Element {\n    /**\n     * \n     */\n    static $$create(options, tree) {\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            const instance = pool.get()\n\n            if (instance) {\n                instance.$$init(options, tree)\n                return instance\n            }\n        }\n\n        return new HTMLInputElement(options, tree)\n    }\n\n    /**\n     * \n     */\n    $$recycle() {\n        this.$$destroy()\n\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            pool.add(this)\n        }\n    }\n\n    /**\n     *  $_generateHtml \n     */\n    $$dealWithAttrsForGenerateHtml(html, node) {\n        const type = node.type\n        if (type) html += ` type=\"${tool.escapeForHtmlGeneration(type)}\"`\n\n        const value = node.value\n        if (value) html += ` value=\"${tool.escapeForHtmlGeneration(value)}\"`\n\n        const disabled = node.disabled\n        if (disabled) html += ' disabled'\n\n        const maxlength = node.maxlength\n        if (maxlength) html += ` maxlength=\"${tool.escapeForHtmlGeneration(maxlength)}\"`\n\n        const placeholder = node.placeholder\n        if (placeholder) html += ` placeholder=\"${tool.escapeForHtmlGeneration(placeholder)}\"`\n\n        return html\n    }\n\n    /**\n     *  outerHTML  setter \n     */\n    $$dealWithAttrsForOuterHTML(node) {\n        this.name = node.name || ''\n        this.type = node.type || ''\n        this.value = node.value || ''\n        this.disabled = !!node.disabled\n        this.maxlength = node.maxlength\n        this.placeholder = node.placeholder || ''\n\n        // \n        this.mpplaceholderclass = node.mpplaceholderclass || ''\n    }\n\n    /**\n     *  cloneNode \n     */\n    $$dealWithAttrsForCloneNode() {\n        return {\n            type: this.type,\n            value: this.value,\n            disabled: this.disabled,\n            maxlength: this.maxlength,\n            placeholder: this.placeholder,\n\n            // \n            mpplaceholderclass: this.mpplaceholderclass,\n        }\n    }\n\n    /**\n     * \n     */\n    get name() {\n        return this.$_attrs.get('name')\n    }\n\n    set name(value) {\n        value = '' + value\n        this.$_attrs.set('name', value)\n    }\n\n    get type() {\n        return this.$_attrs.get('type') || 'text'\n    }\n\n    set type(value) {\n        value = '' + value\n        this.$_attrs.set('type', value)\n    }\n\n    get value() {\n        const type = this.$_attrs.get('type')\n        const value = this.$_attrs.get('value')\n\n        if ((type === 'radio' || type === 'checkbox') && value === undefined) return 'on'\n        return value\n    }\n\n    set value(value) {\n        value = '' + value\n        this.$_attrs.set('value', value)\n    }\n\n    get disabled() {\n        return !!this.$_attrs.get('disabled')\n    }\n\n    set disabled(value) {\n        value = !!value\n        this.$_attrs.set('disabled', value)\n    }\n\n    get maxlength() {\n        return this.$_attrs.get('maxlength')\n    }\n\n    set maxlength(value) {\n        this.$_attrs.set('maxlength', value)\n    }\n\n    get placeholder() {\n        return this.$_attrs.get('placeholder') || ''\n    }\n\n    set placeholder(value) {\n        value = '' + value\n        this.$_attrs.set('placeholder', value)\n    }\n\n    get autofocus() {\n        return !!this.$_attrs.get('autofocus')\n    }\n\n    set autofocus(value) {\n        value = !!value\n        this.$_attrs.set('autofocus', value)\n    }\n\n    set checked(value) {\n        this.$_attrs.set('checked', value)\n    }\n\n    get checked() {\n        return this.$_attrs.get('checked') || ''\n    }\n\n    focus() {\n        this.$_attrs.set('focus', true)\n    }\n\n    blur() {\n        this.$_attrs.set('focus', false)\n    }\n}\n\nmodule.exports = HTMLInputElement\n","const Element = require('../element')\r\nconst Pool = require('../../util/pool')\r\nconst cache = require('../../util/cache')\r\nconst tool = require('../../util/tool')\r\n\r\nconst pool = new Pool()\r\n\r\nclass HTMLTextAreaElement extends Element {\r\n    /**\r\n     * \r\n     */\r\n    static $$create(options, tree) {\r\n        const config = cache.getConfig()\r\n\r\n        if (config.optimization.elementMultiplexing) {\r\n            //  element \r\n            const instance = pool.get()\r\n\r\n            if (instance) {\r\n                instance.$$init(options, tree)\r\n                return instance\r\n            }\r\n        }\r\n\r\n        return new HTMLTextAreaElement(options, tree)\r\n    }\r\n\r\n    /**\r\n     * \r\n     */\r\n    $$recycle() {\r\n        this.$$destroy()\r\n\r\n        const config = cache.getConfig()\r\n\r\n        if (config.optimization.elementMultiplexing) {\r\n            //  element \r\n            pool.add(this)\r\n        }\r\n    }\r\n\r\n    /**\r\n     *  $_generateHtml \r\n     */\r\n    $$dealWithAttrsForGenerateHtml(html, node) {\r\n        const type = node.type\r\n        if (type) html += ` type=\"${tool.escapeForHtmlGeneration(type)}\"`\r\n\r\n        const value = node.value\r\n        if (value) html += ` value=\"${tool.escapeForHtmlGeneration(value)}\"`\r\n\r\n        const disabled = node.disabled\r\n        if (disabled) html += ' disabled'\r\n\r\n        const maxlength = node.maxlength\r\n        if (maxlength) html += ` maxlength=\"${tool.escapeForHtmlGeneration(maxlength)}\"`\r\n\r\n        const placeholder = node.placeholder\r\n        if (placeholder) html += ` placeholder=\"${tool.escapeForHtmlGeneration(placeholder.replace(/\"/g, '\\\\\"'))}\"`\r\n\r\n        return html\r\n    }\r\n\r\n    /**\r\n     *  outerHTML  setter \r\n     */\r\n    $$dealWithAttrsForOuterHTML(node) {\r\n        this.name = node.name || ''\r\n        this.type = node.type || ''\r\n        this.value = node.value || ''\r\n        this.disabled = !!node.disabled\r\n        this.maxlength = node.maxlength\r\n        this.placeholder = node.placeholder || ''\r\n\r\n        // \r\n        this.mpplaceholderclass = node.mpplaceholderclass || ''\r\n    }\r\n\r\n    /**\r\n     *  cloneNode \r\n     */\r\n    $$dealWithAttrsForCloneNode() {\r\n        return {\r\n            type: this.type,\r\n            value: this.value,\r\n            disabled: this.disabled,\r\n            maxlength: this.maxlength,\r\n            placeholder: this.placeholder,\r\n\r\n            // \r\n            mpplaceholderclass: this.mpplaceholderclass,\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     */\r\n    get type() {\r\n        return this.$_attrs.get('type') || 'textarea'\r\n    }\r\n\r\n    set type(value) {\r\n        value = '' + value\r\n        this.$_attrs.set('type', value)\r\n    }\r\n\r\n    get value() {\r\n        return this.$_attrs.get('value')\r\n    }\r\n\r\n    set value(value) {\r\n        value = '' + value\r\n        this.$_attrs.set('value', value)\r\n    }\r\n\r\n    get disabled() {\r\n        return !!this.$_attrs.get('disabled')\r\n    }\r\n\r\n    set disabled(value) {\r\n        value = !!value\r\n        this.$_attrs.set('disabled', value)\r\n    }\r\n\r\n    get maxlength() {\r\n        return this.$_attrs.get('maxlength')\r\n    }\r\n\r\n    set maxlength(value) {\r\n        this.$_attrs.set('maxlength', value)\r\n    }\r\n\r\n    get placeholder() {\r\n        return this.$_attrs.get('placeholder') || ''\r\n    }\r\n\r\n    set placeholder(value) {\r\n        value = '' + value\r\n        this.$_attrs.set('placeholder', value)\r\n    }\r\n\r\n    get autofocus() {\r\n        return !!this.$_attrs.get('autofocus')\r\n    }\r\n\r\n    set autofocus(value) {\r\n        value = !!value\r\n        this.$_attrs.set('autofocus', value)\r\n    }\r\n\r\n    get selectionStart() {\r\n        const value = +this.$_attrs.get('selection-start')\r\n        return value !== undefined ? value : -1\r\n    }\r\n\r\n    set selectionStart(value) {\r\n        this.$_attrs.set('selection-start', value)\r\n    }\r\n\r\n    get selectionEnd() {\r\n        const value = +this.$_attrs.get('selection-end')\r\n        return value !== undefined ? value : -1\r\n    }\r\n\r\n    set selectionEnd(value) {\r\n        this.$_attrs.set('selection-end', value)\r\n    }\r\n\r\n    focus() {\r\n        this.$_attrs.set('focus', true)\r\n    }\r\n\r\n    blur() {\r\n        this.$_attrs.set('focus', false)\r\n    }\r\n}\r\n\r\nmodule.exports = HTMLTextAreaElement\r\n","const Element = require('../element')\r\nconst Pool = require('../../util/pool')\r\nconst cache = require('../../util/cache')\r\n\r\nconst pool = new Pool()\r\n\r\nclass HTMLVideoElement extends Element {\r\n    /**\r\n     * \r\n     */\r\n    static $$create(options, tree) {\r\n        const config = cache.getConfig()\r\n\r\n        if (config.optimization.elementMultiplexing) {\r\n            //  element \r\n            const instance = pool.get()\r\n\r\n            if (instance) {\r\n                instance.$$init(options, tree)\r\n                return instance\r\n            }\r\n        }\r\n\r\n        return new HTMLVideoElement(options, tree)\r\n    }\r\n\r\n    /**\r\n     *  $$init \r\n     */\r\n    $$init(options, tree) {\r\n        const width = options.width\r\n        const height = options.height\r\n\r\n        if (typeof width === 'number' && width >= 0) options.attrs.width = width\r\n        if (typeof height === 'number' && height >= 0) options.attrs.height = height\r\n\r\n        super.$$init(options, tree)\r\n\r\n        this.$_initRect()\r\n    }\r\n\r\n    /**\r\n     * \r\n     */\r\n    $$recycle() {\r\n        this.$$destroy()\r\n\r\n        const config = cache.getConfig()\r\n\r\n        if (config.optimization.elementMultiplexing) {\r\n            //  element \r\n            pool.add(this)\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     */\r\n    $_triggerParentUpdate() {\r\n        this.$_initRect()\r\n        super.$_triggerParentUpdate()\r\n    }\r\n\r\n    /**\r\n     * \r\n     */\r\n    $_initRect() {\r\n        const width = parseInt(this.$_attrs.get('width'), 10)\r\n        const height = parseInt(this.$_attrs.get('height'), 10)\r\n\r\n        if (typeof width === 'number' && width >= 0) this.$_style.width = `${width}px`\r\n        if (typeof height === 'number' && height >= 0) this.$_style.height = `${height}px`\r\n    }\r\n\r\n    /**\r\n     * \r\n     */\r\n    get src() {\r\n        return this.$_attrs.get('src') || ''\r\n    }\r\n\r\n    set src(value) {\r\n        if (!value || typeof value !== 'string') return\r\n\r\n        this.$_attrs.set('src', value)\r\n    }\r\n\r\n    get width() {\r\n        return +this.$_attrs.get('width') || 0\r\n    }\r\n\r\n    set width(value) {\r\n        if (typeof value !== 'number' || !isFinite(value) || value < 0) return\r\n\r\n        this.$_attrs.set('width', value)\r\n        this.$_initRect()\r\n    }\r\n\r\n    get height() {\r\n        return +this.$_attrs.get('height') || 0\r\n    }\r\n\r\n    set height(value) {\r\n        if (typeof value !== 'number' || !isFinite(value) || value < 0) return\r\n\r\n        this.$_attrs.set('height', value)\r\n        this.$_initRect()\r\n    }\r\n\r\n    get autoplay() {\r\n        return !!this.$_attrs.get('autoplay')\r\n    }\r\n\r\n    set autoplay(value) {\r\n        value = !!value\r\n        this.$_attrs.set('autoplay', value)\r\n    }\r\n\r\n    get loop() {\r\n        return !!this.$_attrs.get('loop')\r\n    }\r\n\r\n    set loop(value) {\r\n        value = !!value\r\n        this.$_attrs.set('loop', value)\r\n    }\r\n\r\n    get muted() {\r\n        return !!this.$_attrs.get('muted')\r\n    }\r\n\r\n    set muted(value) {\r\n        value = !!value\r\n        this.$_attrs.set('muted', value)\r\n    }\r\n\r\n    get controls() {\r\n        const value = this.$_attrs.get('controls')\r\n        return value !== undefined ? !!value : true\r\n    }\r\n\r\n    set controls(value) {\r\n        this.$_attrs.set('controls', value)\r\n    }\r\n\r\n    get poster() {\r\n        return this.$_attrs.get('poster')\r\n    }\r\n\r\n    set poster(value) {\r\n        if (!value || typeof value !== 'string') return\r\n\r\n        this.$_attrs.set('poster', value)\r\n    }\r\n\r\n    get currentTime() {\r\n        return +this.$_attrs.get('currentTime') || 0\r\n    }\r\n\r\n    get buffered() {\r\n        return this.$_attrs.get('buffered')\r\n    }\r\n}\r\n\r\nmodule.exports = HTMLVideoElement\r\n","const Element = require('../element')\nconst Pool = require('../../util/pool')\nconst cache = require('../../util/cache')\n\nconst pool = new Pool()\n\nclass HTMLCanvasElement extends Element {\n    /**\n     * \n     */\n    static $$create(options, tree) {\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            const instance = pool.get()\n\n            if (instance) {\n                instance.$$init(options, tree)\n                return instance\n            }\n        }\n\n        return new HTMLCanvasElement(options, tree)\n    }\n\n    /**\n     *  $$init \n     */\n    $$init(options, tree) {\n        const width = options.width\n        const height = options.height\n\n        if (typeof width === 'number' && width >= 0) options.attrs.width = width\n        if (typeof height === 'number' && height >= 0) options.attrs.height = height\n\n        super.$$init(options, tree)\n\n        this.$_node = null\n\n        this.$_initRect()\n    }\n\n    /**\n     * \n     */\n    $$recycle() {\n        this.$$destroy()\n\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            pool.add(this)\n        }\n    }\n\n    /**\n     *  canvas \n     */\n    $$prepare() {\n        return new Promise((resolve, reject) => {\n            this.$$getNodesRef().then(nodesRef => nodesRef.node(res => {\n                const {width, height} = this\n                this.$_node = res.node\n\n                //  canvas \n                this.$_node.width = width\n                this.$_node.height = height\n\n                resolve(this)\n            }).exec()).catch(reject)\n        })\n    }\n\n    get $$node() {\n        return this.$_node\n    }\n\n    /**\n     * \n     */\n    $_triggerParentUpdate() {\n        this.$_initRect()\n        super.$_triggerParentUpdate()\n    }\n\n    /**\n     * \n     */\n    $_initRect() {\n        const width = parseInt(this.$_attrs.get('width'), 10)\n        const height = parseInt(this.$_attrs.get('height'), 10)\n\n        if (typeof width === 'number' && width >= 0) {\n            this.$_style.width = `${width}px`\n        }\n        if (typeof height === 'number' && height >= 0) {\n            this.$_style.height = `${height}px`\n        }\n    }\n\n    /**\n     * \n     */\n    get width() {\n        if (this.$_node) return this.$_node.width\n        else return +this.$_attrs.get('width') || 0\n    }\n\n    set width(value) {\n        value = parseFloat(value)\n        if (typeof value !== 'number' || !isFinite(value) || value < 0) return\n\n        if (this.$_node) this.$_node.width = value\n        else this.$_attrs.set('width', value)\n    }\n\n    get height() {\n        if (this.$_node) return this.$_node.height\n        else return +this.$_attrs.get('height') || 0\n    }\n\n    set height(value) {\n        value = parseFloat(value)\n        if (typeof value !== 'number' || !isFinite(value) || value < 0) return\n\n        if (this.$_node) this.$_node.height = value\n        else this.$_attrs.set('height', value)\n    }\n\n    getContext(type) {\n        if (!this.$_node) {\n            console.warn('canvas is not prepared, please call $$prepare method first')\n            return\n        }\n        return this.$_node.getContext(type)\n    }\n\n    createPath2D(...args) {\n        return this.$_node.createPath2D(...args)\n    }\n\n    createImage(...args) {\n        return this.$_node.createImage(...args)\n    }\n\n    createImageData(...args) {\n        return this.$_node.createImageData(...args)\n    }\n\n    requestAnimationFrame(...args) {\n        return this.$_node.requestAnimationFrame(...args)\n    }\n\n    cancelAnimationFrame(...args) {\n        return this.$_node.cancelAnimationFrame(...args)\n    }\n\n    toDataURL(...args) {\n        return this.$_node.toDataURL(...args)\n    }\n}\n\nmodule.exports = HTMLCanvasElement\n","const Element = require('../element')\nconst Pool = require('../../util/pool')\nconst cache = require('../../util/cache')\nconst tool = require('../../util/tool')\n\nconst pool = new Pool()\n\nclass HTMLSelectElement extends Element {\n    /**\n     * \n     */\n    static $$create(options, tree) {\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            const instance = pool.get()\n\n            if (instance) {\n                instance.$$init(options, tree)\n                return instance\n            }\n        }\n\n        return new HTMLSelectElement(options, tree)\n    }\n\n    /**\n     *  $$init \n     */\n    $$init(options, tree) {\n        super.$$init(options, tree)\n        this.$$resetOptions()\n    }\n\n    /**\n     *  options \n     */\n    $$resetOptions() {\n        const value = this.value\n\n        if (value !== undefined) {\n            this.options.forEach(child => child.$$updateSelected(child.value === value))\n        } else {\n            this.options.forEach((child, index) => child.$$updateSelected(index === 0))\n        }\n    }\n\n    /**\n     * \n     */\n    $$recycle() {\n        this.$$destroy()\n\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            pool.add(this)\n        }\n    }\n\n    /**\n     *  $_generateHtml \n     */\n    $$dealWithAttrsForGenerateHtml(html, node) {\n        const value = node.value\n        if (value) html += ` value=\"${tool.escapeForHtmlGeneration(value)}\"`\n\n        const disabled = node.disabled\n        if (disabled) html += ' disabled'\n\n        return html\n    }\n\n    /**\n     *  outerHTML  setter \n     */\n    $$dealWithAttrsForOuterHTML(node) {\n        this.name = node.name || ''\n        this.value = node.value || ''\n        this.disabled = !!node.disabled\n        this.selectedIndex = node.selectedIndex || 0\n    }\n\n    /**\n     *  cloneNode \n     */\n    $$dealWithAttrsForCloneNode() {\n        return {\n            value: this.value,\n            disabled: this.disabled,\n        }\n    }\n\n    /**\n     * \n     */\n    get name() {\n        return this.$_attrs.get('name')\n    }\n\n    set name(value) {\n        value = '' + value\n        return this.$_attrs.set('name', value)\n    }\n\n    get value() {\n        let value = this.$_attrs.get('value')\n        if (value === undefined) {\n            //  value  options  value\n            const option = this.options.find(option => !!option.selected)\n            if (option) {\n                value = option.value\n                this.$$setAttributeWithoutUpdate('value', value)\n            }\n        }\n        return value\n    }\n\n    set value(value) {\n        value = '' + value\n\n        this.$_attrs.set('value', value)\n\n        //  selectedIndex \n        this.$_attrs.set('selectedIndex', this.options.findIndex(option => option.value === value))\n\n        //  options  selected\n        this.$$resetOptions()\n    }\n\n    get disabled() {\n        return !!this.$_attrs.get('disabled')\n    }\n\n    set disabled(value) {\n        value = !!value\n        this.$_attrs.set('disabled', value)\n    }\n\n    get selectedIndex() {\n        return +this.$_attrs.get('selectedIndex')\n    }\n\n    set selectedIndex(value) {\n        value = +value\n\n        this.$_attrs.set('selectedIndex', value)\n\n        //  value \n        this.$_attrs.set('value', this.options[value] && this.options[value].value || '')\n\n        //  options  selected\n        this.$$resetOptions()\n    }\n\n    get options() {\n        //  option\n        return this.$_children.filter(child => child.tagName === 'OPTION' && !child.disabled)\n    }\n}\n\nmodule.exports = HTMLSelectElement\n","const Element = require('../element')\nconst Pool = require('../../util/pool')\nconst cache = require('../../util/cache')\nconst tool = require('../../util/tool')\n\nconst pool = new Pool()\n\nclass HTMLOptionElement extends Element {\n    /**\n     * \n     */\n    static $$create(options, tree) {\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            const instance = pool.get()\n\n            if (instance) {\n                instance.$$init(options, tree)\n                return instance\n            }\n        }\n\n        return new HTMLOptionElement(options, tree)\n    }\n\n    /**\n     * \n     */\n    $$recycle() {\n        this.$$destroy()\n\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            pool.add(this)\n        }\n    }\n\n    /**\n     *  $_generateHtml \n     */\n    $$dealWithAttrsForGenerateHtml(html, node) {\n        const value = node.value\n        if (value) html += ` value=\"${tool.tool.escapeForHtmlGeneration(value)}\"`\n\n        const label = node.label\n        if (label) html += ` label=\"${tool.tool.escapeForHtmlGeneration(label)}\"`\n\n        const selected = node.selected\n        if (selected) html += ' selected'\n\n        return html\n    }\n\n    /**\n     *  outerHTML  setter \n     */\n    $$dealWithAttrsForOuterHTML(node) {\n        this.label = node.label || ''\n        this.value = node.value || ''\n        this.disabled = !!node.disabled\n        this.selected = !!node.selected\n    }\n\n    /**\n     *  selected select \n     */\n    $$updateSelected(value) {\n        value = !!value\n        this.$_attrs.set('selected', value)\n    }\n\n    get label() {\n        return this.$_attrs.get('label') || this.textContent\n    }\n\n    set label(value) {\n        value = '' + value\n        this.$_attrs.set('label', value)\n    }\n\n    get value() {\n        const value = this.$_attrs.get('value')\n        return value !== undefined ? value : this.label\n    }\n\n    set value(value) {\n        value = '' + value\n        this.$_attrs.set('value', value)\n    }\n\n    get disabled() {\n        return !!this.$_attrs.get('disabled')\n    }\n\n    set disabled(value) {\n        value = !!value\n        this.$_attrs.set('disabled', value)\n    }\n\n    set selected(value) {\n        this.$$updateSelected(value)\n\n        //  select  selectedIndex  value select\n        const parentNode = this.parentNode\n        if (parentNode && parentNode.tagName === 'SELECT') {\n            parentNode.value = this.value\n        }\n    }\n\n    get selected() {\n        return !!this.$_attrs.get('selected')\n    }\n}\n\nmodule.exports = HTMLOptionElement\n","const Element = require('../element')\nconst Pool = require('../../util/pool')\nconst cache = require('../../util/cache')\n\nconst pool = new Pool()\n\nclass NotSupport extends Element {\n    /**\n     * \n     */\n    static $$create(options, tree) {\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            const instance = pool.get()\n\n            if (instance) {\n                instance.$$init(options, tree)\n                return instance\n            }\n        }\n\n        return new NotSupport(options, tree)\n    }\n\n    /**\n     *  $$init \n     */\n    $$init(options, tree) {\n        super.$$init(options, tree)\n\n        // \n        const window = cache.getWindow(this.$_pageId)\n        if (window.onDealWithNotSupportDom) window.onDealWithNotSupportDom(this)\n    }\n\n    /**\n     * \n     */\n    $$recycle() {\n        this.$$destroy()\n\n        const config = cache.getConfig()\n\n        if (config.optimization.elementMultiplexing) {\n            //  element \n            pool.add(this)\n        }\n    }\n\n    get behavior() {\n        return 'not-support'\n    }\n}\n\nmodule.exports = NotSupport\n","const Element = require('../element')\r\nconst Pool = require('../../util/pool')\r\nconst cache = require('../../util/cache')\r\nconst tool = require('../../util/tool')\r\n\r\nconst pool = new Pool()\r\n\r\nclass WxComponent extends Element {\r\n    /**\r\n     * \r\n     */\r\n    static $$create(options, tree) {\r\n        const config = cache.getConfig()\r\n\r\n        if (config.optimization.elementMultiplexing) {\r\n            //  element \r\n            const instance = pool.get()\r\n\r\n            if (instance) {\r\n                instance.$$init(options, tree)\r\n                return instance\r\n            }\r\n        }\r\n\r\n        return new WxComponent(options, tree)\r\n    }\r\n\r\n    /**\r\n     * \r\n     */\r\n    $$recycle() {\r\n        this.$$destroy()\r\n\r\n        const config = cache.getConfig()\r\n\r\n        if (config.optimization.elementMultiplexing) {\r\n            //  element \r\n            pool.add(this)\r\n        }\r\n    }\r\n\r\n    get behavior() {\r\n        return this.$_attrs.get('behavior') || ''\r\n    }\r\n\r\n    set behavior(value) {\r\n        if (!value || typeof value !== 'string') return\r\n\r\n        this.$_attrs.set('behavior', value)\r\n    }\r\n\r\n    get value() {\r\n        return this.$_attrs.get('value')\r\n    }\r\n\r\n    set value(value) {\r\n        this.$_attrs.set('value', value)\r\n    }\r\n\r\n    get scrollWidth() {\r\n        return this.$_attrs.get('scroll-width') || 0\r\n    }\r\n\r\n    get scrollHeight() {\r\n        return this.$_attrs.get('scroll-height') || 0\r\n    }\r\n\r\n    get scrollTop() {\r\n        return this.$_attrs.get('scroll-top') || 0\r\n    }\r\n\r\n    set scrollTop(value) {\r\n        value = parseInt(value, 10)\r\n\r\n        if (!isNaN(value)) {\r\n            this.$_attrs.set('scroll-top', value)\r\n        }\r\n    }\r\n\r\n    get scrollLeft() {\r\n        return this.$_attrs.get('scroll-left') || 0\r\n    }\r\n\r\n    set scrollLeft(value) {\r\n        value = parseInt(value, 10)\r\n\r\n        if (!isNaN(value)) {\r\n            this.$_attrs.set('scroll-left', value)\r\n        }\r\n    }\r\n\r\n    setAttribute(name, value) {\r\n        super.setAttribute(name, value)\r\n\r\n        if (name === 'scroll-into-view') {\r\n            // TODOscroll-into-view  scroll-top \r\n            tool.flushThrottleCache() //  setData\r\n            Promise.resolve().then(() => {\r\n                const scrollItem = this.ownerDocument.getElementById(value)\r\n                if (!scrollItem) return\r\n\r\n                const propName = this.getAttribute('scroll-x') ? 'scroll-left' : this.getAttribute('scroll-y') ? 'scroll-top' : ''\r\n                if (!propName) return\r\n\r\n                const window = cache.getWindow(this.$_pageId)\r\n                Promise.all([\r\n                    new Promise(resolve => window.$$createSelectorQuery().select(`.miniprogram-root >>> .node-${this.$_nodeId}`).fields({rect: true, scrollOffset: true}).exec(resolve)),\r\n                    scrollItem.$$getBoundingClientRect()\r\n                ]).then(res => {\r\n                    const rectName = propName === 'scroll-left' ? 'left' : 'top'\r\n                    const scrollRect = res[0][0]\r\n                    const itemRect = res[1]\r\n\r\n                    super.setAttribute(propName, itemRect[rectName] - scrollRect[rectName] + scrollRect[tool.toCamel(propName)])\r\n                }).catch(console.error)\r\n            }).catch(console.error)\r\n        }\r\n    }\r\n}\r\n\r\nmodule.exports = WxComponent\r\n","const Element = require('../element')\r\nconst Pool = require('../../util/pool')\r\nconst cache = require('../../util/cache')\r\n\r\nconst pool = new Pool()\r\n\r\nclass WxCustomComponent extends Element {\r\n    /**\r\n     * \r\n     */\r\n    static $$create(options, tree) {\r\n        const config = cache.getConfig()\r\n\r\n        if (config.optimization.elementMultiplexing) {\r\n            //  element \r\n            const instance = pool.get()\r\n\r\n            if (instance) {\r\n                instance.$$init(options, tree)\r\n                return instance\r\n            }\r\n        }\r\n\r\n        return new WxCustomComponent(options, tree)\r\n    }\r\n\r\n    /**\r\n     *  $$init \r\n     */\r\n    $$init(options, tree) {\r\n        this.$_behavior = options.componentName\r\n\r\n        super.$$init(options, tree)\r\n    }\r\n\r\n    /**\r\n     *  $$destroy \r\n     */\r\n    $$destroy() {\r\n        super.$$destroy()\r\n\r\n        this.$_behavior = null\r\n    }\r\n\r\n    /**\r\n     * \r\n     */\r\n    $$recycle() {\r\n        this.$$destroy()\r\n\r\n        const config = cache.getConfig()\r\n\r\n        if (config.optimization.elementMultiplexing) {\r\n            //  element \r\n            pool.add(this)\r\n        }\r\n    }\r\n\r\n    get behavior() {\r\n        return this.$_behavior\r\n    }\r\n\r\n    setAttribute(name, value) {\r\n        if (name.indexOf('kbone-func-') === 0) {\r\n            // \r\n            const realName = name.slice('kbone-func-'.length)\r\n            if (typeof value === 'function') {\r\n                super.setAttribute(realName, value)\r\n            } else {\r\n                const window = cache.getWindow(this.$_pageId)\r\n                super.setAttribute(realName, window[value])\r\n            }\r\n        } else {\r\n            super.setAttribute(name, value)\r\n        }\r\n    }\r\n}\r\n\r\nmodule.exports = WxCustomComponent\r\n","const Location = require('./location')\nconst cache = require('../util/cache')\n\n// eslint-disable-next-line no-var, block-scoped-var, semi\nvar $wx;\n\nif (typeof $wx === 'undefined' && typeof my !== 'undefined') {\n    // \n    // eslint-disable-next-line no-undef\n    $wx = my\n} else {\n    $wx = wx\n}\n\nclass Cookie {\n    constructor(pageName) {\n        const config = cache.getConfig()\n        const runtime = config.runtime || {}\n        this.cookieStore = runtime.cookieStore\n        this.$_pageName = pageName\n\n        if (this.cookieStore !== 'storage' && this.cookieStore !== 'memory') {\n            // \n            this.$_map = cache.getCookie()\n        } else {\n            this.$_map = {} // domain - path - key\n        }\n    }\n\n    static parse(cookieStr) {\n        if (!cookieStr && typeof cookieStr !== 'string') return null\n\n        cookieStr = cookieStr.trim().split(';')\n\n        // key-value\n        const parseKeyValue = /^([^=;\\x00-\\x1F]+)=([^;\\n\\r\\0\\x00-\\x1F]*).*/.exec(cookieStr.shift())\n        if (!parseKeyValue) return null\n\n        const key = (parseKeyValue[1] || '').trim()\n        const value = (parseKeyValue[2] || '').trim()\n\n        // \n        let path = null\n        let domain = null\n        let expires = null\n        let maxAge = null\n        let secure = false\n        let httpOnly = false\n\n        for (let item of cookieStr) {\n            item = item.trim()\n            if (!item) continue\n\n            let [key, value] = item.split('=')\n            key = (key || '').trim().toLowerCase()\n            value = (value || '').trim()\n\n            if (!key) continue\n\n            switch (key) {\n            case 'path':\n                if (value[0] === '/') path = value\n                break\n            case 'domain':\n                value = value.replace(/^\\./, '').toLowerCase()\n                if (value) domain = value\n                break\n            case 'expires':\n                if (value) {\n                    const timeStamp = Date.parse(value)\n                    if (timeStamp) expires = timeStamp\n                }\n                break\n            case 'max-age':\n                if (/^-?[0-9]+$/.test(value)) maxAge = +value * 1000\n                break\n            case 'secure':\n                secure = true\n                break\n            case 'httponly':\n                httpOnly = true\n                break\n            default:\n                // ignore\n                break\n            }\n        }\n\n        return {\n            key, value, path, domain, expires, maxAge, secure, httpOnly\n        }\n    }\n\n    /**\n     *  domain\n     */\n    $_checkDomain(host, cookieDomain) {\n        if (host === cookieDomain) return true\n\n        const index = host.indexOf(`.${cookieDomain}`)\n\n        return index > 0 && cookieDomain.length + index + 1 === host.length\n    }\n\n    /**\n     *  path\n     */\n    $_checkPath(path, cookiePath) {\n        if (path === cookiePath) return true\n\n        cookiePath = cookiePath === '/' ? '' : cookiePath\n        return path.indexOf(`${cookiePath}/`) === 0\n    }\n\n    /**\n     * \n     */\n    $_checkExpires(cookie) {\n        const now = Date.now()\n\n        // maxAge \n        if (cookie.maxAge !== null) return cookie.createTime + cookie.maxAge > now\n\n        //  expires\n        if (cookie.expires !== null) return cookie.expires > now\n\n        return true\n    }\n\n    /**\n     *  cookie\n     */\n    setCookie(cookie, url) {\n        cookie = Cookie.parse(cookie)\n\n        if (!cookie) return\n\n        const {hostname, port, pathname} = Location.$$parse(url)\n        const host = ((hostname || '') + (port ? ':' + port : '')) || ''\n        const path = (pathname || '')[0] === '/' ? pathname : '/'\n\n        if (cookie.domain) {\n            //  domain\n            if (!this.$_checkDomain(host, cookie.domain)) return\n        } else {\n            //  host  domain\n            cookie.domain = host\n        }\n\n        //  path  url  path\n        if (!cookie.path || cookie.path[0] !== '/') {\n            const lastIndex = path.lastIndexOf('/')\n\n            cookie.path = lastIndex === 0 ? path : path.substr(0, lastIndex)\n        }\n\n        //  cookie\n        const map = this.$_map\n        const cookieDomain = cookie.domain\n        const cookiePath = cookie.path\n        const cookieKey = cookie.key\n\n        if (!map[cookieDomain]) map[cookieDomain] = {}\n        if (!map[cookieDomain][cookiePath]) map[cookieDomain][cookiePath] = {}\n\n        const oldCookie = map[cookieDomain][cookiePath][cookieKey]\n        cookie.createTime = oldCookie && oldCookie.createTime || Date.now()\n\n        if (this.$_checkExpires(cookie)) {\n            // \n            map[cookieDomain][cookiePath][cookieKey] = cookie\n        } else if (oldCookie) {\n            //  cookie\n            delete map[cookieDomain][cookiePath][cookieKey]\n        }\n\n        //  cookie\n        if (this.cookieStore !== 'memory' && this.cookieStore !== 'globalmemory') {\n            const key = this.cookieStore === 'storage' ? `PAGE_COOKIE_${this.$_pageName}` : 'PAGE_COOKIE'\n            $wx.setStorage({\n                key,\n                data: this.serialize(),\n            })\n        }\n    }\n\n    /**\n     *  cookie\n     */\n    getCookie(url, includeHttpOnly) {\n        const {\n            protocol, hostname, port, pathname\n        } = Location.$$parse(url)\n        const host = ((hostname || '') + (port ? ':' + port : '')) || ''\n        const path = (pathname || '')[0] === '/' ? pathname : '/'\n        const res = []\n\n        const map = this.$_map\n        const domainList = Object.keys(map)\n\n        for (const domainItem of domainList) {\n            //  domain\n            if (this.$_checkDomain(host, domainItem)) {\n                const domainMap = map[domainItem] || {}\n                const pathList = Object.keys(domainMap)\n\n                for (const pathItem of pathList) {\n                    //  path\n                    if (this.$_checkPath(path, pathItem)) {\n                        const pathMap = map[domainItem][pathItem] || {}\n\n                        Object.keys(pathMap).forEach(key => {\n                            const cookie = pathMap[key]\n\n                            if (!cookie) return\n\n                            // \n                            if (cookie.secure && protocol !== 'https:' && protocol !== 'wss:') return\n                            if (!includeHttpOnly && cookie.httpOnly && protocol && protocol !== 'http:') return\n\n                            // \n                            if (this.$_checkExpires(cookie)) {\n                                res.push(cookie)\n                            } else {\n                                // \n                                delete map[domainItem][pathItem][key]\n                            }\n                        })\n                    }\n                }\n            }\n        }\n\n        return res\n            .sort((a, b) => {\n                const gap = a.createTime - b.createTime\n\n                if (!gap) {\n                    return a.key < b.key ? -1 : 1\n                } else {\n                    return gap\n                }\n            })\n            .map(cookie => `${cookie.key}=${cookie.value}`)\n            .join('; ')\n    }\n\n    /**\n     * \n     */\n    serialize() {\n        try {\n            return JSON.stringify(this.$_map)\n        } catch (err) {\n            console.log('cannot serialize the cookie')\n            return ''\n        }\n    }\n\n    /**\n     * \n     */\n    deserialize(str) {\n        let map = {}\n        try {\n            map = JSON.parse(str)\n        } catch (err) {\n            console.log('cannot deserialize the cookie')\n            map = {}\n        }\n\n        //  cookie\n        const domainList = Object.keys(map)\n\n        for (const domainItem of domainList) {\n            const domainMap = map[domainItem] || {}\n            const pathList = Object.keys(domainMap)\n\n            for (const pathItem of pathList) {\n                const pathMap = map[domainItem][pathItem] || {}\n\n                Object.keys(pathMap).forEach(key => {\n                    const cookie = pathMap[key]\n\n                    if (!cookie) return\n\n                    // \n                    if (!this.$_map[domainItem]) this.$_map[domainItem] = {}\n                    if (!this.$_map[domainItem][pathItem]) this.$_map[domainItem][pathItem] = {}\n                    if (!this.$_map[domainItem][pathItem][key]) this.$_map[domainItem][pathItem][key] = cookie\n                })\n            }\n        }\n    }\n}\n\nmodule.exports = Cookie\n","class Navigator {\n    constructor() {\n        this.$_language = ''\n        this.$_wxVersion = ''\n        this.$_brand = '' // \n        this.$_model = '' // \n        this.$_platform = ''\n        this.$_system = '' // \n\n        this.$_userAgent = ''\n    }\n\n    /**\n     * \n     */\n    $$reset(info) {\n        this.$_language = info.language\n        this.$_wxVersion = info.version\n        this.$_brand = info.brand\n        this.$_model = info.model\n        this.$_platform = info.platform\n        this.$_system = info.system\n\n        //  userAgent\n        const appVersion = '5.0'\n        const appleWebKitVersion = '602.3.12'\n        let platformContext\n        if (this.$_platform === 'ios') {\n            // \n            let systemVersion = this.$_system.split(' ')\n            if (systemVersion.length >= 2) {\n                systemVersion = systemVersion[1].split('.').join('_')\n            } else {\n                systemVersion = ''\n            }\n\n            platformContext = `${this.$_brand}; CPU ${this.$_brand} OS ${systemVersion} like Mac OS X`\n        } else if (this.$_platform === 'android') {\n            platformContext = `Linux; ${this.$_system}; ${this.$_model}`\n        } else {\n            //  windows x64 \n            platformContext = 'Windows NT 6.1; win64; x64'\n        }\n\n        this.$_userAgent = `${this.appCodeName}/${appVersion} (${platformContext}) AppleWebKit/${appleWebKitVersion} (KHTML, like Gecko) Mobile MicroMessenger/${this.$_wxVersion} Language/${this.language}`\n    }\n\n    /**\n     * \n     */\n    get userAgent() {\n        return this.$_userAgent\n    }\n\n    get appCodeName() {\n        return 'Mozilla'\n    }\n\n    get appName() {\n        return 'Netscape'\n    }\n\n    get language() {\n        return this.$_language\n    }\n\n    get languages() {\n        return [this.$_language]\n    }\n\n    get platform() {\n        return this.$_platform\n    }\n\n    get product() {\n        return 'Gecko'\n    }\n}\n\nmodule.exports = Navigator\n","const EventTarget = require('../event/event-target')\n\nclass Screen extends EventTarget {\n    constructor() {\n        super()\n\n        this.$_width = 0\n        this.$_height = 0\n    }\n\n    /**\n     * \n     */\n    $$reset(info) {\n        this.$_width = info.screenWidth\n        this.$_height = info.screenHeight\n    }\n\n    /**\n     * \n     */\n    get width() {\n        return this.$_width\n    }\n\n    get height() {\n        return this.$_height\n    }\n}\n\nmodule.exports = Screen\n","/**\n * \n */\nconst Location = require('./location')\nconst EventTarget = require('../event/event-target')\n\n// eslint-disable-next-line no-var, block-scoped-var, semi\nvar $wx;\n\nif (typeof $wx === 'undefined' && typeof my !== 'undefined') {\n    // \n    // eslint-disable-next-line no-undef\n    $wx = my\n} else {\n    $wx = wx\n}\n\nclass History extends EventTarget {\n    constructor(location) {\n        super()\n\n        this.$_location = location\n        this.$_stack = [{\n            state: null,\n            title: '',\n            url: location.href,\n        }]\n        this.$_currentIndex = 0\n\n        this.$_location.addEventListener('$_addToHistory', evt => {\n            this.$_currentIndex++\n            this.$_stack = this.$_stack.slice(0, this.$_currentIndex)\n            this.$_stack.push({\n                state: null,\n                title: '',\n                url: evt.href\n            })\n        })\n    }\n\n    /**\n     * \n     */\n    $_checkOrigin(url) {\n        const {protocol, hostname, port} = Location.$$parse(url)\n\n        return (!protocol || this.$_location.protocol === protocol) && (!hostname || this.$_location.hostname === hostname) && ((!hostname && !port) || this.$_location.port === port)\n    }\n\n    /**\n     * \n     */\n    $$reset() {\n        this.$_stack = [{\n            state: null,\n            title: '',\n            url: this.$_location.href,\n        }]\n        this.$_currentIndex = 0\n    }\n\n    /**\n     * \n     */\n    get state() {\n        const current = this.$_stack[this.$_currentIndex]\n        return current && current.state || null\n    }\n\n    get length() {\n        return this.$_stack.length\n    }\n\n    back() {\n        this.go(-1)\n    }\n\n    forward() {\n        this.go(1)\n    }\n\n    go(delta) {\n        if (typeof delta === 'number') {\n            const next = this.$_currentIndex + delta\n\n            if (next >= 0 && next < this.$_stack.length && this.$_currentIndex !== next) {\n                this.$_currentIndex = next\n                //  href\n                this.$_location.$$startCheckHash()\n                this.$_location.$$setHrefWithoutCheck(this.$_stack[this.$_currentIndex].url)\n                this.$_location.$$endCheckHash(true) //  hashchange \n\n                this.$$trigger('popstate', {\n                    event: {\n                        state: this.state\n                    }\n                })\n            }\n        } else {\n            // \n            this.$_location.reload()\n        }\n    }\n\n    pushState(state = null, title, url) {\n        if (!url || typeof url !== 'string') return\n\n        if (this.$_checkOrigin(url)) {\n            // \n            if (title && typeof title === 'string') {\n                // \n                $wx.setNavigationBarTitle({title})\n            }\n\n\n            this.$_currentIndex++\n            this.$_stack = this.$_stack.slice(0, this.$_currentIndex)\n\n            //  href\n            this.$_location.$$setHrefWithoutCheck(url)\n\n            this.$_stack.push({state, title, url: this.$_location.href})\n        }\n    }\n\n    replaceState(state = null, title, url) {\n        if (!url || typeof url !== 'string') return\n\n        if (this.$_checkOrigin(url)) {\n            // \n            if (title && typeof title === 'string') {\n                // \n                $wx.setNavigationBarTitle({title})\n            }\n\n            //  href\n            this.$_location.$$setHrefWithoutCheck(url)\n\n            this.$_stack.splice(this.$_currentIndex, 1, {state, title, url: this.$_location.href})\n        }\n    }\n}\n\nmodule.exports = History\n","const cache = require('../util/cache')\n\nlet pageUrlRouteMap = null\n\nclass Miniprogram {\n    constructor(pageId) {\n        this.$_pageId = pageId\n        this.$_pageUrl = '' //  url\n        this.$_subpackagesMap = {} // \n    }\n\n    get window() {\n        return cache.getWindow(this.$_pageId) || null\n    }\n\n    get document() {\n        return cache.getDocument(this.$_pageId) || null\n    }\n\n    get config() {\n        return cache.getConfig()\n    }\n\n    get subpackagesMap() {\n        return this.$_subpackagesMap\n    }\n\n    /**\n     * \n     */\n    init(url) {\n        if (typeof url === 'string') this.$_pageUrl = url //  url\n        const {\n            origin, entry, router, runtime = {}\n        } = cache.getConfig()\n        const subpackagesMap = runtime.subpackagesMap || {}\n\n        this.$_pageUrl = this.$_pageUrl || (origin + entry)\n        this.$_subpackagesMap = subpackagesMap\n        this.window.location.$$reset(this.$_pageUrl)\n        this.window.history.$$reset()\n\n        if (!pageUrlRouteMap) {\n            //  url - \n            pageUrlRouteMap = {}\n\n            Object.keys(router).forEach(pageName => {\n                const regexpList = []\n\n                router[pageName].forEach(pathObj => {\n                    // \n                    const regexp = new RegExp(pathObj.regexp, pathObj.options)\n                    regexpList.push(regexp)\n                })\n\n                // \n                pageUrlRouteMap[pageName] = pathname => {\n                    for (const regexp of regexpList) {\n                        const parseRes = regexp.exec(pathname)\n                        regexp.lastIndex = 0\n\n                        if (parseRes) {\n                            // \n                            const packageName = subpackagesMap[pageName]\n                            return `/${packageName ? packageName + '/' : ''}pages/${pageName}/index`\n                        }\n                    }\n\n                    return null\n                }\n            })\n        }\n    }\n\n    /**\n     *  route\n     */\n    getMatchRoute(pathname) {\n        const keys = Object.keys(pageUrlRouteMap)\n        for (const key of keys) {\n            const matchRes = pageUrlRouteMap[key](pathname)\n\n            if (matchRes) return matchRes // \n        }\n\n        return null\n    }\n\n    /**\n     *  tabBar \n     */\n    isTabBarPage(pageRoute) {\n        const {\n            runtime = {}\n        } = cache.getConfig()\n        const tabBarMap = runtime.tabBarMap || {}\n        return !!tabBarMap[pageRoute]\n    }\n}\n\nmodule.exports = Miniprogram\n","const Event = require('../event/event')\nconst cache = require('../util/cache')\n\n// eslint-disable-next-line no-var, block-scoped-var, semi\nvar $wx;\n\nif (typeof $wx === 'undefined' && typeof my !== 'undefined') {\n    // \n    // eslint-disable-next-line no-undef\n    $wx = my\n} else {\n    $wx = wx\n}\n\nclass Storage {\n    constructor(pageId) {\n        this.$_pageId = pageId\n        this.$_keys = []\n    }\n\n    /**\n     *  window  storage \n     */\n    $_triggerStorage(key, newValue, oldValue, force) {\n        if (!force && newValue === oldValue) return\n\n        const currentWindow = cache.getWindow(this.$_pageId)\n        const windowList = cache.getWindowList() || []\n        windowList.forEach(window => {\n            if (window && window !== currentWindow) {\n                window.$$trigger('storage', {\n                    event: new Event({\n                        name: 'storage',\n                        target: window,\n                        $$extra: {\n                            key,\n                            newValue,\n                            oldValue,\n                            storageArea: this,\n                            url: currentWindow.location.href,\n                        }\n                    })\n                })\n            }\n        })\n    }\n\n    /**\n     * \n     */\n    get length() {\n        return this.$_keys && this.$_keys.length || 0\n    }\n\n    key(num) {\n        if (typeof num !== 'number' || !isFinite(num) || num < 0) return null\n        return this.$_keys[num] || null\n    }\n}\n\nclass SessionStorage extends Storage {\n    constructor(pageId) {\n        super(pageId)\n        this.$_map = {}\n    }\n\n    /**\n     * \n     */\n    getItem(key) {\n        if (!key || typeof key !== 'string') return null\n        return this.$_map[key] || null\n    }\n\n    setItem(key, data) {\n        if (!key || typeof key !== 'string') return\n        data = '' + data\n\n        const oldValue = this.$_map[key] || null\n        this.$_map[key] = data\n\n        // \n        const index = this.$_keys.indexOf(key)\n        if (index >= 0) this.$_keys.splice(index, 1)\n        this.$_keys.push(key)\n\n        this.$_triggerStorage(key, data, oldValue)\n    }\n\n    removeItem(key) {\n        if (!key || typeof key !== 'string') return\n\n        const oldValue = this.$_map[key] || null\n        delete this.$_map[key]\n\n        //  key\n        const index = this.$_keys.indexOf(key)\n        if (index >= 0) this.$_keys.splice(index, 1)\n\n        this.$_triggerStorage(key, null, oldValue)\n    }\n\n    clear() {\n        this.$_map = {}\n        this.$_keys.length = 0\n        this.$_triggerStorage(null, null, null, true)\n    }\n}\n\nclass LocalStorage extends Storage {\n    /**\n     *  storage \n     */\n    $_updateInfo() {\n        try {\n            const info = $wx.getStorageInfoSync()\n            const windowList = cache.getWindowList() || []\n            windowList.forEach(window => {\n                if (window) {\n                    window.localStorage.$$keys = info.keys\n                }\n            })\n        } catch (err) {\n            console.warn('getStorageInfoSync fail')\n        }\n    }\n\n    set $$keys(keys) {\n        this.$_keys = keys\n    }\n\n    /**\n     * \n     */\n\n    getItem(key) {\n        if (!key || typeof key !== 'string') return null\n\n        return $wx.getStorageSync(key) || null\n    }\n\n    setItem(key, data) {\n        if (!key || typeof key !== 'string') return\n        data = '' + data\n\n        const oldValue = $wx.getStorageSync(key) || null\n\n        $wx.setStorageSync(key, data)\n        this.$_updateInfo()\n        this.$_triggerStorage(key, data, oldValue)\n    }\n\n    removeItem(key) {\n        if (!key || typeof key !== 'string') return\n\n        const oldValue = $wx.getStorageSync(key) || null\n\n        $wx.removeStorageSync(key)\n        this.$_updateInfo()\n        this.$_triggerStorage(key, null, oldValue)\n    }\n\n    clear() {\n        $wx.clearStorageSync()\n        this.$_updateInfo()\n        this.$_triggerStorage(null, null, null, true)\n    }\n}\n\nmodule.exports = {\n    SessionStorage,\n    LocalStorage,\n}\n","/**\n *  data url  options \n */\nconst Event = require('../event/event')\nconst EventTarget = require('../event/event-target')\nconst cache = require('../util/cache')\n\nlet wxWorker = null\nlet wxWorkerPath = null\nlet callbackList = []\nlet sharedWorkerInstCount = 0\nconst workerMap = {}\nconst sharedWorkerMap = {}\n\n/**\n *  worker \n */\nfunction getWorkersDir() {\n    const config = cache.getConfig()\n    const generate = config.generate\n    return generate && generate.worker\n}\n\n/**\n *  worker \n */\nfunction getWorkerUrl(url) {\n    const fileName = url.split('/').pop()\n    return getWorkersDir() + '/' + fileName\n}\n\n/**\n *  worker \n */\nfunction onWorkerMessage(worker, callback) {\n    callbackList.push(callback)\n    if (!worker._hasRegisterCb) {\n        worker.onMessage(res => {\n            callbackList.forEach(func => func(res))\n        })\n        worker._hasRegisterCb = true\n    }\n}\n\nclass Worker extends EventTarget {\n    constructor(url, pageId, isSharedWorker) {\n        super()\n\n        const filePath = getWorkerUrl(url)\n\n        if (wxWorker) {\n            //  worker \n            if (!isSharedWorker || (filePath !== wxWorkerPath)) throw new Error('exceed max concurrent workers limit')\n        }\n\n        this.$_pageId = pageId\n        this.isSharedWorker = isSharedWorker\n        wxWorkerPath = filePath\n        wxWorker = wxWorker || this.$_tryCatch(() => wx.createWorker(wxWorkerPath))\n\n        if (wxWorker) {\n            this.$_onMessage = res => {\n                if (res.type === 'message' && res.pageId === this.$_pageId) {\n                    this.$$trigger('message', {\n                        event: new Event({\n                            name: 'message',\n                            target: this,\n                            $$extra: {\n                                data: res.data,\n                            },\n                        })\n                    })\n                }\n            }\n            onWorkerMessage(wxWorker, this.$_onMessage)\n\n            const navigator = {}\n            const location = {}\n            const window = cache.getWindow(this.$_pageId)\n            if (window && !isSharedWorker) {\n                ['userAgent', 'appCodeName', 'appName', 'language', 'languages', 'platform', 'product'].forEach(key => navigator[key] = window.navigator[key]);\n                ['protocol', 'host', 'hostname', 'port', 'origin', 'pathname', 'search', 'hash', 'href'].forEach(key => location[key] = window.location[key])\n            }\n            this.$_tryCatch(() => wxWorker.postMessage({\n                type: 'connect', pageId: this.$_pageId, navigator, location\n            }))\n        }\n\n        if (!this.isSharedWorker) workerMap[this.$_pageId] = this\n    }\n\n    /**\n     *  try catch \n     */\n    $_tryCatch(func) {\n        try {\n            return func.call(this)\n        } catch (error) {\n            console.error(error)\n            this.$$trigger('error', {\n                event: new Event({\n                    name: 'error',\n                    target: this,\n                    $$extra: {\n                        error,\n                        message: error.message || '',\n                        filename: wxWorkerPath,\n                    }\n                })\n            })\n        }\n    }\n\n    /**\n     * \n     */\n    postMessage(data) {\n        if (this.$_pageId && wxWorker) this.$_tryCatch(() => wxWorker.postMessage({type: 'message', pageId: this.$_pageId, data}))\n    }\n\n    terminate() {\n        if (this.$_pageId && wxWorker) {\n            this.$_pageId = null\n            if (!this.isSharedWorker) delete workerMap[this.$_pageId]\n            this.$_tryCatch(() => wxWorker.terminate())\n            wxWorker = null\n            wxWorkerPath = null\n            callbackList = []\n        }\n    }\n}\n\nclass SharedWorker extends EventTarget {\n    constructor(url, pageId) {\n        super()\n\n        this.$_worker = new Worker(url, pageId, true)\n        this.$_worker.close = () => {\n            sharedWorkerInstCount--\n            callbackList.splice(callbackList.indexOf(this.$_worker.$_onMessage), 1)\n            if (!sharedWorkerInstCount) this.$_worker.terminate()\n            if (sharedWorkerMap[pageId]) sharedWorkerMap[pageId].splice(sharedWorkerMap[pageId].indexOf(this), 1)\n        }\n        this.$_worker.start = () => {}\n        sharedWorkerInstCount++\n        sharedWorkerMap[pageId] = sharedWorkerMap[pageId] || []\n        sharedWorkerMap[pageId].push(this)\n    }\n\n    /**\n     * \n     */\n    get port() {\n        return this.$_worker\n    }\n}\n\n/**\n * \n */\nfunction destroy(pageId) {\n    if (sharedWorkerMap[pageId]) sharedWorkerMap[pageId].forEach(sharedWorker => sharedWorker.port.close())\n    sharedWorkerMap[pageId] = null\n    if (workerMap[pageId]) workerMap[pageId].terminate()\n    workerMap[pageId] = null\n}\n\n\nmodule.exports = {\n    Worker,\n    SharedWorker,\n    destroy,\n}\n","class Performance {\n    constructor(timeOrigin) {\n        this.$_timeOrigin = timeOrigin\n    }\n\n    /**\n     * \n     */\n    get navigation() {\n        console.warn('performance.navigation is not supported')\n        return null\n    }\n\n    get timing() {\n        console.warn('performance.timing is not supported')\n        return null\n    }\n\n    get timeOrigin() {\n        return this.$_timeOrigin\n    }\n\n    now() {\n        return +new Date() - this.$_timeOrigin\n    }\n}\n\nmodule.exports = Performance\n","const Location = require('./location')\nconst EventTarget = require('../event/event-target')\nconst cache = require('../util/cache')\n\n// eslint-disable-next-line no-var, block-scoped-var, semi\nvar $wx;\n\nif (typeof $wx === 'undefined' && typeof my !== 'undefined') {\n    // \n    // eslint-disable-next-line no-undef\n    $wx = my\n} else {\n    $wx = wx\n}\n\nconst SUPPORT_METHOD = ['OPTIONS', 'GET', 'HEAD', 'POST', 'PUT', 'DELETE', 'TRACE', 'CONNECT']\nconst STATUS_TEXT_MAP = {\n    100: 'Continue',\n    101: 'Switching protocols',\n\n    200: 'OK',\n    201: 'Created',\n    202: 'Accepted',\n    203: 'Non-Authoritative Information',\n    204: 'No Content',\n    205: 'Reset Content',\n    206: 'Partial Content',\n\n    300: 'Multiple Choices',\n    301: 'Moved Permanently',\n    302: 'Found',\n    303: 'See Other',\n    304: 'Not Modified',\n    305: 'Use Proxy',\n    307: 'Temporary Redirect',\n\n    400: 'Bad Request',\n    401: 'Unauthorized',\n    402: 'Payment Required',\n    403: 'Forbidden',\n    404: 'Not Found',\n    405: 'Method Not Allowed',\n    406: 'Not Acceptable',\n    407: 'Proxy Authentication Required',\n    408: 'Request Timeout',\n    409: 'Conflict',\n    410: 'Gone',\n    411: 'Length Required',\n    412: 'Precondition Failed',\n    413: 'Request Entity Too Large',\n    414: 'Request-URI Too Long',\n    415: 'Unsupported Media Type',\n    416: 'Requested Range Not Suitable',\n    417: 'Expectation Failed',\n\n    500: 'Internal Server Error',\n    501: 'Not Implemented',\n    502: 'Bad Gateway',\n    503: 'Service Unavailable',\n    504: 'Gateway Timeout',\n    505: 'HTTP Version Not Supported',\n}\n\nclass XMLHttpRequest extends EventTarget {\n    constructor(pageId) {\n        super()\n\n        this.$_pageId = pageId\n        this.$_method = ''\n        this.$_url = ''\n        this.$_data = null\n        this.$_status = 0\n        this.$_statusText = ''\n        this.$_readyState = XMLHttpRequest.UNSENT\n        this.$_header = {\n            Accept: '*/*'\n        }\n        this.$_responseType = ''\n        this.$_resHeader = null\n        this.$_response = null\n        this.$_timeout = 0\n        this.$_startTime = null\n        this.$_withCredentials = true //  true\n\n        this.$_requestTask = null\n        this.$_requestSuccess = this.$_requestSuccess.bind(this)\n        this.$_requestFail = this.$_requestFail.bind(this)\n        this.$_requestComplete = this.$_requestComplete.bind(this)\n    }\n\n    /**\n     * readyState \n     */\n    $_callReadyStateChange(readyState) {\n        const hasChange = readyState !== this.$_readyState\n        this.$_readyState = readyState\n\n        if (hasChange) this.$$trigger('readystatechange')\n    }\n\n    /**\n     * \n     */\n    $_callRequest() {\n        const window = cache.getWindow(this.$_pageId)\n        if (!window || !window.document) {\n            console.warn('this page has been unloaded, so this request will be canceled.')\n            return\n        }\n\n        if (this.$_timeout) {\n            this.$_startTime = +new Date()\n\n            setTimeout(() => {\n                if (!this.$_status && this.$_readyState !== XMLHttpRequest.DONE) {\n                    // \n                    if (this.$_requestTask) this.$_requestTask.abort()\n                    this.$_callReadyStateChange(XMLHttpRequest.DONE)\n                    this.$$trigger('timeout')\n                }\n            }, this.$_timeout)\n        }\n\n        // \n        this.$_status = 0\n        this.$_statusText = ''\n        this.$_readyState = XMLHttpRequest.OPENED\n        this.$_resHeader = null\n        this.$_response = null\n\n        //  url\n        let url = this.$_url\n        url = url.indexOf('//') === -1 ? window.location.origin + url : url\n\n        // \n        const header = Object.assign({}, this.$_header)\n        header.cookie = window.document.$$cookie\n        if (!this.withCredentials) {\n            //  withCredentials  true  cookie\n            const {origin} = Location.$$parse(url)\n            if (origin !== window.location.origin) delete header.cookie\n        }\n\n        this.$_requestTask = $wx.request({\n            url,\n            data: this.$_data || {},\n            header,\n            method: this.$_method,\n            dataType: this.$_responseType === 'json' ? 'json' : 'text',\n            responseType: this.$_responseType === 'arraybuffer' ? 'arraybuffer' : 'text',\n            success: this.$_requestSuccess,\n            fail: this.$_requestFail,\n            complete: this.$_requestComplete,\n        })\n    }\n\n    /**\n     * \n     */\n    $_requestSuccess({data, statusCode, header}) {\n        const window = cache.getWindow(this.$_pageId)\n        if (!window || !window.document) {\n            console.warn('this page has been unloaded, so this request will be canceled.')\n            return\n        }\n\n        this.$_status = statusCode\n        this.$_resHeader = header\n\n        this.$_callReadyStateChange(XMLHttpRequest.HEADERS_RECEIVED)\n\n        //  set-cookie\n        if (window) {\n            const setCookie = header['Set-Cookie']\n\n            if (setCookie && typeof setCookie === 'string') {\n                window.document.$$setCookie(setCookie)\n            }\n        }\n\n        // \n        if (data) {\n            this.$_callReadyStateChange(XMLHttpRequest.LOADING)\n            this.$$trigger('loadstart')\n            this.$_response = data\n            this.$$trigger('loadend')\n        }\n    }\n\n    /**\n     * \n     */\n    $_requestFail({errMsg}) {\n        this.$_status = 0\n        this.$_statusText = errMsg\n\n        this.$$trigger('error')\n    }\n\n    /**\n     * \n     */\n    $_requestComplete() {\n        this.$_startTime = null\n        this.$_requestTask = null\n        this.$_callReadyStateChange(XMLHttpRequest.DONE)\n\n        if (this.$_status) {\n            this.$$trigger('load')\n        }\n    }\n\n    /**\n     * \n     */\n    get timeout() {\n        return this.$_timeout\n    }\n\n    set timeout(timeout) {\n        if (typeof timeout !== 'number' || !isFinite(timeout) || timeout <= 0) return\n\n        this.$_timeout = timeout\n    }\n\n    get status() {\n        return this.$_status\n    }\n\n    get statusText() {\n        if (this.$_readyState === XMLHttpRequest.UNSENT || this.$_readyState === XMLHttpRequest.OPENED) return ''\n\n        return STATUS_TEXT_MAP[this.$_status + ''] || this.$_statusText || ''\n    }\n\n    get readyState() {\n        return this.$_readyState\n    }\n\n    get responseType() {\n        return this.$_responseType\n    }\n\n    set responseType(value) {\n        if (typeof value !== 'string') return\n\n        this.$_responseType = value\n    }\n\n    get responseText() {\n        if (!this.$_responseType || this.$_responseType === 'text') {\n            return this.$_response\n        }\n\n        return null\n    }\n\n    get response() {\n        return this.$_response\n    }\n\n    get withCredentials() {\n        return this.$_withCredentials\n    }\n\n    set withCredentials(value) {\n        this.$_withCredentials = !!value\n    }\n\n    abort() {\n        if (this.$_requestTask) {\n            this.$_requestTask.abort()\n            this.$$trigger('abort')\n        }\n    }\n\n    getAllResponseHeaders() {\n        if (this.$_readyState === XMLHttpRequest.UNSENT || this.$_readyState === XMLHttpRequest.OPENED || !this.$_resHeader) return ''\n\n        return Object.keys(this.$_resHeader)\n            .map(key => `${key}: ${this.$_resHeader[key]}`)\n            .join('\\r\\n')\n    }\n\n    getResponseHeader(name) {\n        if (this.$_readyState === XMLHttpRequest.UNSENT || this.$_readyState === XMLHttpRequest.OPENED || !this.$_resHeader) return null\n\n        // \n        const key = Object.keys(this.$_resHeader).find(item => item.toLowerCase() === name.toLowerCase())\n        const value = key ? this.$_resHeader[key] : null\n\n        return typeof value === 'string' ? value : null\n    }\n\n    open(method, url) {\n        if (typeof method === 'string') method = method.toUpperCase()\n\n        if (SUPPORT_METHOD.indexOf(method) < 0) return\n        if (!url || typeof url !== 'string') return\n\n        this.$_method = method\n        this.$_url = url\n\n        this.$_callReadyStateChange(XMLHttpRequest.OPENED)\n    }\n\n    setRequestHeader(header, value) {\n        if (typeof header === 'string' && typeof value === 'string') {\n            this.$_header[header] = value\n        }\n    }\n\n    send(data) {\n        if (this.$_readyState !== XMLHttpRequest.OPENED) return\n\n        this.$_data = data\n        this.$_callRequest()\n    }\n}\n\nXMLHttpRequest.UNSENT = 0\nXMLHttpRequest.OPENED = 1\nXMLHttpRequest.HEADERS_RECEIVED = 2\nXMLHttpRequest.LOADING = 3\nXMLHttpRequest.DONE = 4\n\nmodule.exports = XMLHttpRequest\n"],"sourceRoot":""}